(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function bd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mh={exports:{}},ga={},Fh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Q0(){if(Rm)return Ae;Rm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function O(L,Y,me){this.props=L,this.context=Y,this.refs=$,this.updater=me||k}O.prototype.isReactComponent={},O.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=O.prototype;function U(L,Y,me){this.props=L,this.context=Y,this.refs=$,this.updater=me||k}var G=U.prototype=new K;G.constructor=U,F(G,O.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,ae=Object.prototype.hasOwnProperty,ce={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function I(L,Y,me){var Te,Ce={},Ne=null,Fe=null;if(Y!=null)for(Te in Y.ref!==void 0&&(Fe=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)ae.call(Y,Te)&&!b.hasOwnProperty(Te)&&(Ce[Te]=Y[Te]);var Ue=arguments.length-2;if(Ue===1)Ce.children=me;else if(1<Ue){for(var qe=Array(Ue),Tt=0;Tt<Ue;Tt++)qe[Tt]=arguments[Tt+2];Ce.children=qe}if(L&&L.defaultProps)for(Te in Ue=L.defaultProps,Ue)Ce[Te]===void 0&&(Ce[Te]=Ue[Te]);return{$$typeof:r,type:L,key:Ne,ref:Fe,props:Ce,_owner:ce.current}}function C(L,Y){return{$$typeof:r,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function D(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return Y[me]})}var M=/\/+/g;function R(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):Y.toString(36)}function $e(L,Y,me,Te,Ce){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Ne){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=L,Ce=Ce(Fe),L=Te===""?"."+R(Fe,0):Te,Q(Ce)?(me="",L!=null&&(me=L.replace(M,"$&/")+"/"),$e(Ce,Y,me,"",function(Tt){return Tt})):Ce!=null&&(P(Ce)&&(Ce=C(Ce,me+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+L)),Y.push(Ce)),1;if(Fe=0,Te=Te===""?".":Te+":",Q(L))for(var Ue=0;Ue<L.length;Ue++){Ne=L[Ue];var qe=Te+R(Ne,Ue);Fe+=$e(Ne,Y,me,qe,Ce)}else if(qe=S(L),typeof qe=="function")for(L=qe.call(L),Ue=0;!(Ne=L.next()).done;)Ne=Ne.value,qe=Te+R(Ne,Ue++),Fe+=$e(Ne,Y,me,qe,Ce);else if(Ne==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Me(L,Y,me){if(L==null)return L;var Te=[],Ce=0;return $e(L,Te,"","",function(Ne){return Y.call(me,Ne,Ce++)}),Te}function St(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Ie={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ce};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Me,forEach:function(L,Y,me){Me(L,function(){Y.apply(this,arguments)},me)},count:function(L){var Y=0;return Me(L,function(){Y++}),Y},toArray:function(L){return Me(L,function(Y){return Y})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=O,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=U,Ae.StrictMode=s,Ae.Suspense=y,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=se,Ae.cloneElement=function(L,Y,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Te=F({},L.props),Ce=L.key,Ne=L.ref,Fe=L._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,Fe=ce.current),Y.key!==void 0&&(Ce=""+Y.key),L.type&&L.type.defaultProps)var Ue=L.type.defaultProps;for(qe in Y)ae.call(Y,qe)&&!b.hasOwnProperty(qe)&&(Te[qe]=Y[qe]===void 0&&Ue!==void 0?Ue[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Te.children=me;else if(1<qe){Ue=Array(qe);for(var Tt=0;Tt<qe;Tt++)Ue[Tt]=arguments[Tt+2];Te.children=Ue}return{$$typeof:r,type:L.type,key:Ce,ref:Ne,props:Te,_owner:Fe}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ae.createElement=I,Ae.createFactory=function(L){var Y=I.bind(null,L);return Y.type=L,Y},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:p,render:L}},Ae.isValidElement=P,Ae.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:St}},Ae.memo=function(L,Y){return{$$typeof:v,type:L,compare:Y===void 0?null:Y}},Ae.startTransition=function(L){var Y=ie.transition;ie.transition={};try{L()}finally{ie.transition=Y}},Ae.unstable_act=se,Ae.useCallback=function(L,Y){return Ie.current.useCallback(L,Y)},Ae.useContext=function(L){return Ie.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return Ie.current.useDeferredValue(L)},Ae.useEffect=function(L,Y){return Ie.current.useEffect(L,Y)},Ae.useId=function(){return Ie.current.useId()},Ae.useImperativeHandle=function(L,Y,me){return Ie.current.useImperativeHandle(L,Y,me)},Ae.useInsertionEffect=function(L,Y){return Ie.current.useInsertionEffect(L,Y)},Ae.useLayoutEffect=function(L,Y){return Ie.current.useLayoutEffect(L,Y)},Ae.useMemo=function(L,Y){return Ie.current.useMemo(L,Y)},Ae.useReducer=function(L,Y,me){return Ie.current.useReducer(L,Y,me)},Ae.useRef=function(L){return Ie.current.useRef(L)},Ae.useState=function(L){return Ie.current.useState(L)},Ae.useSyncExternalStore=function(L,Y,me){return Ie.current.useSyncExternalStore(L,Y,me)},Ae.useTransition=function(){return Ie.current.useTransition()},Ae.version="18.3.1",Ae}var km;function jd(){return km||(km=1,Fh.exports=Q0()),Fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function Y0(){if(Pm)return ga;Pm=1;var r=jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(p,y,v){var x,E={},S=null,k=null;v!==void 0&&(S=""+v),y.key!==void 0&&(S=""+y.key),y.ref!==void 0&&(k=y.ref);for(x in y)s.call(y,x)&&!l.hasOwnProperty(x)&&(E[x]=y[x]);if(p&&p.defaultProps)for(x in y=p.defaultProps,y)E[x]===void 0&&(E[x]=y[x]);return{$$typeof:e,type:p,key:S,ref:k,props:E,_owner:o.current}}return ga.Fragment=t,ga.jsx=h,ga.jsxs=h,ga}var Nm;function X0(){return Nm||(Nm=1,Mh.exports=Y0()),Mh.exports}var d=X0(),j=jd();const Le=bd(j);var uu={},Uh={exports:{}},nn={},Bh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function J0(){return bm||(bm=1,(function(r){function e(ie,ge){var se=ie.length;ie.push(ge);e:for(;0<se;){var L=se-1>>>1,Y=ie[L];if(0<o(Y,ge))ie[L]=ge,ie[se]=Y,se=L;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],se=ie.pop();if(se!==ge){ie[0]=se;e:for(var L=0,Y=ie.length,me=Y>>>1;L<me;){var Te=2*(L+1)-1,Ce=ie[Te],Ne=Te+1,Fe=ie[Ne];if(0>o(Ce,se))Ne<Y&&0>o(Fe,Ce)?(ie[L]=Fe,ie[Ne]=se,L=Ne):(ie[L]=Ce,ie[Te]=se,L=Te);else if(Ne<Y&&0>o(Fe,se))ie[L]=Fe,ie[Ne]=se,L=Ne;else break e}}return ge}function o(ie,ge){var se=ie.sortIndex-ge.sortIndex;return se!==0?se:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var y=[],v=[],x=1,E=null,S=3,k=!1,F=!1,$=!1,O=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ie){for(var ge=t(v);ge!==null;){if(ge.callback===null)s(v);else if(ge.startTime<=ie)s(v),ge.sortIndex=ge.expirationTime,e(y,ge);else break;ge=t(v)}}function Q(ie){if($=!1,G(ie),!F)if(t(y)!==null)F=!0,St(ae);else{var ge=t(v);ge!==null&&Ie(Q,ge.startTime-ie)}}function ae(ie,ge){F=!1,$&&($=!1,K(I),I=-1),k=!0;var se=S;try{for(G(ge),E=t(y);E!==null&&(!(E.expirationTime>ge)||ie&&!D());){var L=E.callback;if(typeof L=="function"){E.callback=null,S=E.priorityLevel;var Y=L(E.expirationTime<=ge);ge=r.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(y)&&s(y),G(ge)}else s(y);E=t(y)}if(E!==null)var me=!0;else{var Te=t(v);Te!==null&&Ie(Q,Te.startTime-ge),me=!1}return me}finally{E=null,S=se,k=!1}}var ce=!1,b=null,I=-1,C=5,P=-1;function D(){return!(r.unstable_now()-P<C)}function M(){if(b!==null){var ie=r.unstable_now();P=ie;var ge=!0;try{ge=b(!0,ie)}finally{ge?R():(ce=!1,b=null)}}else ce=!1}var R;if(typeof U=="function")R=function(){U(M)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Me=$e.port2;$e.port1.onmessage=M,R=function(){Me.postMessage(null)}}else R=function(){O(M,0)};function St(ie){b=ie,ce||(ce=!0,R())}function Ie(ie,ge){I=O(function(){ie(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){F||k||(F=!0,St(ae))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var se=S;S=ge;try{return ie()}finally{S=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=S;S=ie;try{return ge()}finally{S=se}},r.unstable_scheduleCallback=function(ie,ge,se){var L=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:x++,callback:ge,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>L?(ie.sortIndex=se,e(v,ie),t(y)===null&&ie===t(v)&&($?(K(I),I=-1):$=!0,Ie(Q,se-L))):(ie.sortIndex=Y,e(y,ie),F||k||(F=!0,St(ae))),ie},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ie){var ge=S;return function(){var se=S;S=ge;try{return ie.apply(this,arguments)}finally{S=se}}}})(zh)),zh}var jm;function Z0(){return jm||(jm=1,Bh.exports=J0()),Bh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function ex(){if(Dm)return nn;Dm=1;var r=jd(),e=Z0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},E={};function S(n){return y.call(E,n)?!0:y.call(x,n)?!1:v.test(n)?E[n]=!0:(x[n]=!0,!1)}function k(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function F(n,i,a,c){if(i===null||typeof i>"u"||k(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(n,i,a,c,f,g,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=w}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){O[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];O[i]=new $(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){O[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){O[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){O[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){O[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){O[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){O[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){O[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function U(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(K,U);O[i]=new $(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(K,U);O[i]=new $(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(K,U);O[i]=new $(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){O[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),O.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){O[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function G(n,i,a,c){var f=O.hasOwnProperty(i)?O[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(F(i,a,f,c)&&(a=null),c||f===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),ce=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,L;function Y(n){if(L===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+n}var me=!1;function Te(n,i){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var c=q}Reflect.construct(n,[],i)}else{try{i.call()}catch(q){c=q}n.call(i.prototype)}else{try{throw Error()}catch(q){c=q}n()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var N=`
`+f[w].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=w&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ce(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=Te(n.type,!1),n;case 11:return n=Te(n.type.render,!1),n;case 1:return n=Te(n.type,!0),n;default:return""}}function Ne(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case ce:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case $e:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Me:return i=n.displayName||null,i!==null?i:Ne(n.type)||"Memo";case St:i=n._payload,n=n._init;try{return Ne(n(i))}catch{}}return null}function Fe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(n){var i=qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function cr(n){n._valueTracker||(n._valueTracker=Tt(n))}function ss(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xi(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function os(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Eo(n,i){i=i.checked,i!=null&&G(n,"checked",i,!1)}function So(n,i){Eo(n,i);var a=Ue(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?as(n,i.type,a):i.hasOwnProperty("defaultValue")&&as(n,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ka(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function as(n,i,a){(i!=="number"||Vr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var hr=Array.isArray;function dr(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function To(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ls(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(hr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ue(a)}}function us(n,i){var a=Ue(i.value),c=Ue(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Io(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function yt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?yt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fr,Co=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Or(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(n){Ei.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),wi[i]=wi[n]})});function Ao(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||wi.hasOwnProperty(n)&&wi[n]?(""+i).trim():i+"px"}function Ro(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Ao(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var ko=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(n,i){if(i){if(ko[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function No(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function cs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hs=null,gn=null,qn=null;function ds(n){if(n=ta(n)){if(typeof hs!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Tl(i),hs(n.stateNode,n.type,i))}}function Hn(n){gn?qn?qn.push(n):qn=[n]:gn=n}function bo(){if(gn){var n=gn,i=qn;if(qn=gn=null,ds(n),i)for(n=0;n<i.length;n++)ds(i[n])}}function Ti(n,i){return n(i)}function jo(){}var pr=!1;function Do(n,i,a){if(pr)return n(i,a);pr=!0;try{return Ti(n,i,a)}finally{pr=!1,(gn!==null||qn!==null)&&(jo(),bo())}}function ot(n,i){var a=n.stateNode;if(a===null)return null;var c=Tl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var fs=!1;if(p)try{var An={};Object.defineProperty(An,"passive",{get:function(){fs=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{fs=!1}function Ii(n,i,a,c,f,g,w,A,N){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(ee){this.onError(ee)}}var Ci=!1,ps=null,Rn=!1,Vo=null,dc={onError:function(n){Ci=!0,ps=n}};function ms(n,i,a,c,f,g,w,A,N){Ci=!1,ps=null,Ii.apply(dc,arguments)}function Qa(n,i,a,c,f,g,w,A,N){if(ms.apply(this,arguments),Ci){if(Ci){var q=ps;Ci=!1,ps=null}else throw Error(t(198));Rn||(Rn=!0,Vo=q)}}function kn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ai(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Pn(n){if(kn(n)!==n)throw Error(t(188))}function Ya(n){var i=n.alternate;if(!i){if(i=kn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Pn(f),n;if(g===c)return Pn(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,c=g;break}if(A===c){w=!0,c=f,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,c=f;break}if(A===c){w=!0,c=g,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Oo(n){return n=Ya(n),n!==null?gs(n):null}function gs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=gs(n);if(i!==null)return i;n=n.sibling}return null}var ys=e.unstable_scheduleCallback,Lo=e.unstable_cancelCallback,Xa=e.unstable_shouldYield,fc=e.unstable_requestPaint,He=e.unstable_now,Ja=e.unstable_getCurrentPriorityLevel,Ri=e.unstable_ImmediatePriority,Lr=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,Mo=e.unstable_LowPriority,Za=e.unstable_IdlePriority,ki=null,an=null;function el(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(ki,n,void 0,(n.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:nl,Fo=Math.log,tl=Math.LN2;function nl(n){return n>>>=0,n===0?32:31-(Fo(n)/tl|0)|0}var vs=64,_s=4194304;function Mr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?c=Mr(A):(g&=w,g!==0&&(c=Mr(g)))}else w=a&~f,w!==0?c=Mr(w):g!==0&&(c=Mr(g));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-qt(i),f=1<<a,c|=n[a],i&=~f;return c}function pc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var w=31-qt(g),A=1<<w,N=f[w];N===-1?((A&a)===0||(A&c)!==0)&&(f[w]=pc(A,i)):N<=i&&(n.expiredLanes|=A),g&=~A}}function ln(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ni(){var n=vs;return vs<<=1,(vs&4194240)===0&&(vs=64),n}function Fr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ur(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-qt(i),n[i]=a}function We(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-qt(a),g=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function Br(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-qt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Pe=0;function zr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var rl,xs,il,sl,ol,Uo=!1,Gn=[],Pt=null,Nn=null,bn=null,$r=new Map,vn=new Map,Kn=[],mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function al(n,i){switch(n){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":$r.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(i.pointerId)}}function Qt(n,i,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=ta(i),i!==null&&xs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function gc(n,i,a,c,f){switch(i){case"focusin":return Pt=Qt(Pt,n,i,a,c,f),!0;case"dragenter":return Nn=Qt(Nn,n,i,a,c,f),!0;case"mouseover":return bn=Qt(bn,n,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return $r.set(g,Qt($r.get(g)||null,n,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,vn.set(g,Qt(vn.get(g)||null,n,i,a,c,f)),!0}return!1}function ll(n){var i=Oi(n.target);if(i!==null){var a=kn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ai(a),i!==null){n.blockedOn=i,ol(n.priority,function(){il(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ws(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Si=c,a.target.dispatchEvent(c),Si=null}else return i=ta(a),i!==null&&xs(i),n.blockedOn=a,!1;i.shift()}return!0}function bi(n,i,a){gr(n)&&a.delete(i)}function ul(){Uo=!1,Pt!==null&&gr(Pt)&&(Pt=null),Nn!==null&&gr(Nn)&&(Nn=null),bn!==null&&gr(bn)&&(bn=null),$r.forEach(bi),vn.forEach(bi)}function jn(n,i){n.blockedOn===i&&(n.blockedOn=null,Uo||(Uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ul)))}function Dn(n){function i(f){return jn(f,n)}if(0<Gn.length){jn(Gn[0],n);for(var a=1;a<Gn.length;a++){var c=Gn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Pt!==null&&jn(Pt,n),Nn!==null&&jn(Nn,n),bn!==null&&jn(bn,n),$r.forEach(i),vn.forEach(i),a=0;a<Kn.length;a++)c=Kn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Kn.length&&(a=Kn[0],a.blockedOn===null);)ll(a),a.blockedOn===null&&Kn.shift()}var yr=Q.ReactCurrentBatchConfig,Wr=!0;function Xe(n,i,a,c){var f=Pe,g=yr.transition;yr.transition=null;try{Pe=1,Bo(n,i,a,c)}finally{Pe=f,yr.transition=g}}function yc(n,i,a,c){var f=Pe,g=yr.transition;yr.transition=null;try{Pe=4,Bo(n,i,a,c)}finally{Pe=f,yr.transition=g}}function Bo(n,i,a,c){if(Wr){var f=ws(n,i,a,c);if(f===null)Rc(n,i,c,ji,a),al(n,c);else if(gc(f,n,i,a,c))c.stopPropagation();else if(al(n,c),i&4&&-1<mc.indexOf(n)){for(;f!==null;){var g=ta(f);if(g!==null&&rl(g),g=ws(n,i,a,c),g===null&&Rc(n,i,c,ji,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Rc(n,i,c,null,a)}}var ji=null;function ws(n,i,a,c){if(ji=null,n=cs(c),n=Oi(n),n!==null)if(i=kn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ai(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ji=n,null}function zo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ja()){case Ri:return 1;case Lr:return 4;case yn:case Mo:return 16;case Za:return 536870912;default:return 16}default:return 16}}var un=null,Es=null,Yt=null;function $o(){if(Yt)return Yt;var n,i=Es,a=i.length,c,f="value"in un?un.value:un.textContent,g=f.length;for(n=0;n<a&&i[n]===f[n];n++);var w=a-n;for(c=1;c<=w&&i[a-c]===f[g-c];c++);return Yt=f.slice(n,1<c?1-c:void 0)}function Ss(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Qn(){return!0}function Wo(){return!1}function Nt(n){function i(a,c,f,g,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qn:Wo,this.isPropagationStopped=Wo,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),i}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Nt(Vn),Yn=se({},Vn,{view:0,detail:0}),vc=Nt(Yn),Is,vr,qr,Di=se({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Is=n.screenX-qr.screenX,vr=n.screenY-qr.screenY):vr=Is=0,qr=n),Is)},movementY:function(n){return"movementY"in n?n.movementY:vr}}),Cs=Nt(Di),qo=se({},Di,{dataTransfer:0}),cl=Nt(qo),As=se({},Yn,{relatedTarget:0}),Rs=Nt(As),hl=se({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),_r=Nt(hl),dl=se({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fl=Nt(dl),pl=se({},Vn,{data:0}),Ho=Nt(pl),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ml[n])?!!i[n]:!1}function Xn(){return gl}var u=se({},Yn,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ss(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ht[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xn,charCode:function(n){return n.type==="keypress"?Ss(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ss(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=Nt(u),_=se({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Nt(_),B=se({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xn}),H=Nt(B),re=se({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Nt(re),_t=se({},Di,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Nt(_t),It=[9,13,27,32],ht=p&&"CompositionEvent"in window,_n=null;p&&"documentMode"in document&&(_n=document.documentMode);var cn=p&&"TextEvent"in window&&!_n,Vi=p&&(!ht||_n&&8<_n&&11>=_n),Ps=" ",Ef=!1;function Sf(n,i){switch(n){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ns=!1;function H_(n,i){switch(n){case"compositionend":return Tf(i);case"keypress":return i.which!==32?null:(Ef=!0,Ps);case"textInput":return n=i.data,n===Ps&&Ef?null:n;default:return null}}function G_(n,i){if(Ns)return n==="compositionend"||!ht&&Sf(n,i)?(n=$o(),Yt=Es=un=null,Ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!K_[n.type]:i==="textarea"}function Cf(n,i,a,c){Hn(c),i=wl(i,"onChange"),0<i.length&&(a=new Ts("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Go=null,Ko=null;function Q_(n){Wf(n,0)}function yl(n){var i=Os(n);if(ss(i))return n}function Y_(n,i){if(n==="change")return i}var Af=!1;if(p){var _c;if(p){var xc="oninput"in document;if(!xc){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),xc=typeof Rf.oninput=="function"}_c=xc}else _c=!1;Af=_c&&(!document.documentMode||9<document.documentMode)}function kf(){Go&&(Go.detachEvent("onpropertychange",Pf),Ko=Go=null)}function Pf(n){if(n.propertyName==="value"&&yl(Ko)){var i=[];Cf(i,Ko,n,cs(n)),Do(Q_,i)}}function X_(n,i,a){n==="focusin"?(kf(),Go=i,Ko=a,Go.attachEvent("onpropertychange",Pf)):n==="focusout"&&kf()}function J_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(Ko)}function Z_(n,i){if(n==="click")return yl(i)}function e0(n,i){if(n==="input"||n==="change")return yl(i)}function t0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var On=typeof Object.is=="function"?Object.is:t0;function Qo(n,i){if(On(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!y.call(i,f)||!On(n[f],i[f]))return!1}return!0}function Nf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bf(n,i){var a=Nf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nf(a)}}function jf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?jf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Df(){for(var n=window,i=Vr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Vr(n.document)}return i}function wc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function n0(n){var i=Df(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&jf(a.ownerDocument.documentElement,a)){if(c!==null&&wc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=bf(a,g);var w=bf(a,c);f&&w&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var r0=p&&"documentMode"in document&&11>=document.documentMode,bs=null,Ec=null,Yo=null,Sc=!1;function Vf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sc||bs==null||bs!==Vr(c)||(c=bs,"selectionStart"in c&&wc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Qo(Yo,c)||(Yo=c,c=wl(Ec,"onSelect"),0<c.length&&(i=new Ts("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=bs)))}function vl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var js={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},Tc={},Of={};p&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function _l(n){if(Tc[n])return Tc[n];if(!js[n])return n;var i=js[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Of)return Tc[n]=i[a];return n}var Lf=_l("animationend"),Mf=_l("animationiteration"),Ff=_l("animationstart"),Uf=_l("transitionend"),Bf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(n,i){Bf.set(n,i),l(i,[n])}for(var Ic=0;Ic<zf.length;Ic++){var Cc=zf[Ic],i0=Cc.toLowerCase(),s0=Cc[0].toUpperCase()+Cc.slice(1);Hr(i0,"on"+s0)}Hr(Lf,"onAnimationEnd"),Hr(Mf,"onAnimationIteration"),Hr(Ff,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Uf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function $f(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Qa(c,i,void 0,n),n.currentTarget=null}function Wf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var A=c[w],N=A.instance,q=A.currentTarget;if(A=A.listener,N!==g&&f.isPropagationStopped())break e;$f(f,A,q),g=N}else for(w=0;w<c.length;w++){if(A=c[w],N=A.instance,q=A.currentTarget,A=A.listener,N!==g&&f.isPropagationStopped())break e;$f(f,A,q),g=N}}}if(Rn)throw n=Vo,Rn=!1,Vo=null,n}function Ke(n,i){var a=i[Dc];a===void 0&&(a=i[Dc]=new Set);var c=n+"__bubble";a.has(c)||(qf(i,n,2,!1),a.add(c))}function Ac(n,i,a){var c=0;i&&(c|=4),qf(a,n,c,i)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Jo(n){if(!n[xl]){n[xl]=!0,s.forEach(function(a){a!=="selectionchange"&&(o0.has(a)||Ac(a,!1,n),Ac(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[xl]||(i[xl]=!0,Ac("selectionchange",!1,i))}}function qf(n,i,a,c){switch(zo(i)){case 1:var f=Xe;break;case 4:f=yc;break;default:f=Bo}a=f.bind(null,i,a,n),f=void 0,!fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Rc(n,i,a,c,f){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;A!==null;){if(w=Oi(A),w===null)return;if(N=w.tag,N===5||N===6){c=g=w;continue e}A=A.parentNode}}c=c.return}Do(function(){var q=g,ee=cs(a),te=[];e:{var Z=Bf.get(n);if(Z!==void 0){var oe=Ts,de=n;switch(n){case"keypress":if(Ss(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":de="focus",oe=Rs;break;case"focusout":de="blur",oe=Rs;break;case"beforeblur":case"afterblur":oe=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Lf:case Mf:case Ff:oe=_r;break;case Uf:oe=ze;break;case"scroll":oe=vc;break;case"wheel":oe=be;break;case"copy":case"cut":case"paste":oe=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var fe=(i&4)!==0,at=!fe&&n==="scroll",z=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var V=q,W;V!==null;){W=V;var ne=W.stateNode;if(W.tag===5&&ne!==null&&(W=ne,z!==null&&(ne=ot(V,z),ne!=null&&fe.push(Zo(V,ne,W)))),at)break;V=V.return}0<fe.length&&(Z=new oe(Z,de,null,a,ee),te.push({event:Z,listeners:fe}))}}if((i&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",Z&&a!==Si&&(de=a.relatedTarget||a.fromElement)&&(Oi(de)||de[xr]))break e;if((oe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,oe?(de=a.relatedTarget||a.toElement,oe=q,de=de?Oi(de):null,de!==null&&(at=kn(de),de!==at||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=q),oe!==de)){if(fe=Cs,ne="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(fe=T,ne="onPointerLeave",z="onPointerEnter",V="pointer"),at=oe==null?Z:Os(oe),W=de==null?Z:Os(de),Z=new fe(ne,V+"leave",oe,a,ee),Z.target=at,Z.relatedTarget=W,ne=null,Oi(ee)===q&&(fe=new fe(z,V+"enter",de,a,ee),fe.target=W,fe.relatedTarget=at,ne=fe),at=ne,oe&&de)t:{for(fe=oe,z=de,V=0,W=fe;W;W=Ds(W))V++;for(W=0,ne=z;ne;ne=Ds(ne))W++;for(;0<V-W;)fe=Ds(fe),V--;for(;0<W-V;)z=Ds(z),W--;for(;V--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=Ds(fe),z=Ds(z)}fe=null}else fe=null;oe!==null&&Hf(te,Z,oe,fe,!1),de!==null&&at!==null&&Hf(te,at,de,fe,!0)}}e:{if(Z=q?Os(q):window,oe=Z.nodeName&&Z.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Z.type==="file")var pe=Y_;else if(If(Z))if(Af)pe=e0;else{pe=J_;var ye=X_}else(oe=Z.nodeName)&&oe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=Z_);if(pe&&(pe=pe(n,q))){Cf(te,pe,a,ee);break e}ye&&ye(n,Z,q),n==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&as(Z,"number",Z.value)}switch(ye=q?Os(q):window,n){case"focusin":(If(ye)||ye.contentEditable==="true")&&(bs=ye,Ec=q,Yo=null);break;case"focusout":Yo=Ec=bs=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Vf(te,a,ee);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Vf(te,a,ee)}var ve;if(ht)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ns?Sf(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Vi&&a.locale!=="ko"&&(Ns||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ns&&(ve=$o()):(un=ee,Es="value"in un?un.value:un.textContent,Ns=!0)),ye=wl(q,we),0<ye.length&&(we=new Ho(we,n,null,a,ee),te.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Tf(a),ve!==null&&(we.data=ve)))),(ve=cn?H_(n,a):G_(n,a))&&(q=wl(q,"onBeforeInput"),0<q.length&&(ee=new Ho("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:q}),ee.data=ve))}Wf(te,i)})}function Zo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function wl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ot(n,a),g!=null&&c.unshift(Zo(n,g,f)),g=ot(n,i),g!=null&&c.push(Zo(n,g,f))),n=n.return}return c}function Ds(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hf(n,i,a,c,f){for(var g=i._reactName,w=[];a!==null&&a!==c;){var A=a,N=A.alternate,q=A.stateNode;if(N!==null&&N===c)break;A.tag===5&&q!==null&&(A=q,f?(N=ot(a,g),N!=null&&w.unshift(Zo(a,N,A))):f||(N=ot(a,g),N!=null&&w.push(Zo(a,N,A)))),a=a.return}w.length!==0&&n.push({event:i,listeners:w})}var a0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function Gf(n){return(typeof n=="string"?n:""+n).replace(a0,`
`).replace(l0,"")}function El(n,i,a){if(i=Gf(i),Gf(n)!==i&&a)throw Error(t(425))}function Sl(){}var kc=null,Pc=null;function Nc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bc=typeof setTimeout=="function"?setTimeout:void 0,u0=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(n){return Kf.resolve(null).then(n).catch(h0)}:bc;function h0(n){setTimeout(function(){throw n})}function jc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Dn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Dn(i)}function Gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Qf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Vs,ea="__reactProps$"+Vs,xr="__reactContainer$"+Vs,Dc="__reactEvents$"+Vs,d0="__reactListeners$"+Vs,f0="__reactHandles$"+Vs;function Oi(n){var i=n[Jn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[xr]||a[Jn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Qf(n);n!==null;){if(a=n[Jn])return a;n=Qf(n)}return i}n=a,a=n.parentNode}return null}function ta(n){return n=n[Jn]||n[xr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Os(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Tl(n){return n[ea]||null}var Vc=[],Ls=-1;function Kr(n){return{current:n}}function Qe(n){0>Ls||(n.current=Vc[Ls],Vc[Ls]=null,Ls--)}function Ge(n,i){Ls++,Vc[Ls]=n.current,n.current=i}var Qr={},Lt=Kr(Qr),Xt=Kr(!1),Li=Qr;function Ms(n,i){var a=n.type.contextTypes;if(!a)return Qr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(n){return n=n.childContextTypes,n!=null}function Il(){Qe(Xt),Qe(Lt)}function Yf(n,i,a){if(Lt.current!==Qr)throw Error(t(168));Ge(Lt,i),Ge(Xt,a)}function Xf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Fe(n)||"Unknown",f));return se({},a,c)}function Cl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Qr,Li=Lt.current,Ge(Lt,n),Ge(Xt,Xt.current),!0}function Jf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Xf(n,i,Li),c.__reactInternalMemoizedMergedChildContext=n,Qe(Xt),Qe(Lt),Ge(Lt,n)):Qe(Xt),Ge(Xt,a)}var wr=null,Al=!1,Oc=!1;function Zf(n){wr===null?wr=[n]:wr.push(n)}function p0(n){Al=!0,Zf(n)}function Yr(){if(!Oc&&wr!==null){Oc=!0;var n=0,i=Pe;try{var a=wr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}wr=null,Al=!1}catch(f){throw wr!==null&&(wr=wr.slice(n+1)),ys(Ri,Yr),f}finally{Pe=i,Oc=!1}}return null}var Fs=[],Us=0,Rl=null,kl=0,xn=[],wn=0,Mi=null,Er=1,Sr="";function Fi(n,i){Fs[Us++]=kl,Fs[Us++]=Rl,Rl=n,kl=i}function ep(n,i,a){xn[wn++]=Er,xn[wn++]=Sr,xn[wn++]=Mi,Mi=n;var c=Er;n=Sr;var f=32-qt(c)-1;c&=~(1<<f),a+=1;var g=32-qt(i)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,Er=1<<32-qt(i)+f|a<<f|c,Sr=g+n}else Er=1<<g|a<<f|c,Sr=n}function Lc(n){n.return!==null&&(Fi(n,1),ep(n,1,0))}function Mc(n){for(;n===Rl;)Rl=Fs[--Us],Fs[Us]=null,kl=Fs[--Us],Fs[Us]=null;for(;n===Mi;)Mi=xn[--wn],xn[wn]=null,Sr=xn[--wn],xn[wn]=null,Er=xn[--wn],xn[wn]=null}var hn=null,dn=null,Je=!1,Ln=null;function tp(n,i){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function np(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,hn=n,dn=Gr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,hn=n,dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Mi!==null?{id:Er,overflow:Sr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,hn=n,dn=null,!0):!1;default:return!1}}function Fc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Uc(n){if(Je){var i=dn;if(i){var a=i;if(!np(n,i)){if(Fc(n))throw Error(t(418));i=Gr(a.nextSibling);var c=hn;i&&np(n,i)?tp(c,a):(n.flags=n.flags&-4097|2,Je=!1,hn=n)}}else{if(Fc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,hn=n}}}function rp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hn=n}function Pl(n){if(n!==hn)return!1;if(!Je)return rp(n),Je=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Nc(n.type,n.memoizedProps)),i&&(i=dn)){if(Fc(n))throw ip(),Error(t(418));for(;i;)tp(n,i),i=Gr(i.nextSibling)}if(rp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){dn=Gr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}dn=null}}else dn=hn?Gr(n.stateNode.nextSibling):null;return!0}function ip(){for(var n=dn;n;)n=Gr(n.nextSibling)}function Bs(){dn=hn=null,Je=!1}function Bc(n){Ln===null?Ln=[n]:Ln.push(n)}var m0=Q.ReactCurrentBatchConfig;function na(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Nl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function sp(n){var i=n._init;return i(n._payload)}function op(n){function i(z,V){if(n){var W=z.deletions;W===null?(z.deletions=[V],z.flags|=16):W.push(V)}}function a(z,V){if(!n)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function c(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function f(z,V){return z=ii(z,V),z.index=0,z.sibling=null,z}function g(z,V,W){return z.index=W,n?(W=z.alternate,W!==null?(W=W.index,W<V?(z.flags|=2,V):W):(z.flags|=2,V)):(z.flags|=1048576,V)}function w(z){return n&&z.alternate===null&&(z.flags|=2),z}function A(z,V,W,ne){return V===null||V.tag!==6?(V=bh(W,z.mode,ne),V.return=z,V):(V=f(V,W),V.return=z,V)}function N(z,V,W,ne){var pe=W.type;return pe===b?ee(z,V,W.props.children,ne,W.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===St&&sp(pe)===V.type)?(ne=f(V,W.props),ne.ref=na(z,V,W),ne.return=z,ne):(ne=tu(W.type,W.key,W.props,null,z.mode,ne),ne.ref=na(z,V,W),ne.return=z,ne)}function q(z,V,W,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==W.containerInfo||V.stateNode.implementation!==W.implementation?(V=jh(W,z.mode,ne),V.return=z,V):(V=f(V,W.children||[]),V.return=z,V)}function ee(z,V,W,ne,pe){return V===null||V.tag!==7?(V=Gi(W,z.mode,ne,pe),V.return=z,V):(V=f(V,W),V.return=z,V)}function te(z,V,W){if(typeof V=="string"&&V!==""||typeof V=="number")return V=bh(""+V,z.mode,W),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ae:return W=tu(V.type,V.key,V.props,null,z.mode,W),W.ref=na(z,null,V),W.return=z,W;case ce:return V=jh(V,z.mode,W),V.return=z,V;case St:var ne=V._init;return te(z,ne(V._payload),W)}if(hr(V)||ge(V))return V=Gi(V,z.mode,W,null),V.return=z,V;Nl(z,V)}return null}function Z(z,V,W,ne){var pe=V!==null?V.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return pe!==null?null:A(z,V,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:return W.key===pe?N(z,V,W,ne):null;case ce:return W.key===pe?q(z,V,W,ne):null;case St:return pe=W._init,Z(z,V,pe(W._payload),ne)}if(hr(W)||ge(W))return pe!==null?null:ee(z,V,W,ne,null);Nl(z,W)}return null}function oe(z,V,W,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get(W)||null,A(V,z,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ae:return z=z.get(ne.key===null?W:ne.key)||null,N(V,z,ne,pe);case ce:return z=z.get(ne.key===null?W:ne.key)||null,q(V,z,ne,pe);case St:var ye=ne._init;return oe(z,V,W,ye(ne._payload),pe)}if(hr(ne)||ge(ne))return z=z.get(W)||null,ee(V,z,ne,pe,null);Nl(V,ne)}return null}function de(z,V,W,ne){for(var pe=null,ye=null,ve=V,we=V=0,Rt=null;ve!==null&&we<W.length;we++){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var Oe=Z(z,ve,W[we],ne);if(Oe===null){ve===null&&(ve=Rt);break}n&&ve&&Oe.alternate===null&&i(z,ve),V=g(Oe,V,we),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe,ve=Rt}if(we===W.length)return a(z,ve),Je&&Fi(z,we),pe;if(ve===null){for(;we<W.length;we++)ve=te(z,W[we],ne),ve!==null&&(V=g(ve,V,we),ye===null?pe=ve:ye.sibling=ve,ye=ve);return Je&&Fi(z,we),pe}for(ve=c(z,ve);we<W.length;we++)Rt=oe(ve,z,we,W[we],ne),Rt!==null&&(n&&Rt.alternate!==null&&ve.delete(Rt.key===null?we:Rt.key),V=g(Rt,V,we),ye===null?pe=Rt:ye.sibling=Rt,ye=Rt);return n&&ve.forEach(function(si){return i(z,si)}),Je&&Fi(z,we),pe}function fe(z,V,W,ne){var pe=ge(W);if(typeof pe!="function")throw Error(t(150));if(W=pe.call(W),W==null)throw Error(t(151));for(var ye=pe=null,ve=V,we=V=0,Rt=null,Oe=W.next();ve!==null&&!Oe.done;we++,Oe=W.next()){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var si=Z(z,ve,Oe.value,ne);if(si===null){ve===null&&(ve=Rt);break}n&&ve&&si.alternate===null&&i(z,ve),V=g(si,V,we),ye===null?pe=si:ye.sibling=si,ye=si,ve=Rt}if(Oe.done)return a(z,ve),Je&&Fi(z,we),pe;if(ve===null){for(;!Oe.done;we++,Oe=W.next())Oe=te(z,Oe.value,ne),Oe!==null&&(V=g(Oe,V,we),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe);return Je&&Fi(z,we),pe}for(ve=c(z,ve);!Oe.done;we++,Oe=W.next())Oe=oe(ve,z,we,Oe.value,ne),Oe!==null&&(n&&Oe.alternate!==null&&ve.delete(Oe.key===null?we:Oe.key),V=g(Oe,V,we),ye===null?pe=Oe:ye.sibling=Oe,ye=Oe);return n&&ve.forEach(function(K0){return i(z,K0)}),Je&&Fi(z,we),pe}function at(z,V,W,ne){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:e:{for(var pe=W.key,ye=V;ye!==null;){if(ye.key===pe){if(pe=W.type,pe===b){if(ye.tag===7){a(z,ye.sibling),V=f(ye,W.props.children),V.return=z,z=V;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===St&&sp(pe)===ye.type){a(z,ye.sibling),V=f(ye,W.props),V.ref=na(z,ye,W),V.return=z,z=V;break e}a(z,ye);break}else i(z,ye);ye=ye.sibling}W.type===b?(V=Gi(W.props.children,z.mode,ne,W.key),V.return=z,z=V):(ne=tu(W.type,W.key,W.props,null,z.mode,ne),ne.ref=na(z,V,W),ne.return=z,z=ne)}return w(z);case ce:e:{for(ye=W.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===W.containerInfo&&V.stateNode.implementation===W.implementation){a(z,V.sibling),V=f(V,W.children||[]),V.return=z,z=V;break e}else{a(z,V);break}else i(z,V);V=V.sibling}V=jh(W,z.mode,ne),V.return=z,z=V}return w(z);case St:return ye=W._init,at(z,V,ye(W._payload),ne)}if(hr(W))return de(z,V,W,ne);if(ge(W))return fe(z,V,W,ne);Nl(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,V!==null&&V.tag===6?(a(z,V.sibling),V=f(V,W),V.return=z,z=V):(a(z,V),V=bh(W,z.mode,ne),V.return=z,z=V),w(z)):a(z,V)}return at}var zs=op(!0),ap=op(!1),bl=Kr(null),jl=null,$s=null,zc=null;function $c(){zc=$s=jl=null}function Wc(n){var i=bl.current;Qe(bl),n._currentValue=i}function qc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Ws(n,i){jl=n,zc=$s=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Zt=!0),n.firstContext=null)}function En(n){var i=n._currentValue;if(zc!==n)if(n={context:n,memoizedValue:i,next:null},$s===null){if(jl===null)throw Error(t(308));$s=n,jl.dependencies={lanes:0,firstContext:n}}else $s=$s.next=n;return i}var Ui=null;function Hc(n){Ui===null?Ui=[n]:Ui.push(n)}function lp(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Hc(i)):(a.next=f.next,f.next=a),i.interleaved=a,Tr(n,c)}function Tr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Xr=!1;function Gc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ir(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Tr(n,a)}return f=c.interleaved,f===null?(i.next=i,Hc(c)):(i.next=f.next,f.next=i),c.interleaved=i,Tr(n,a)}function Dl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Br(n,a)}}function cp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Vl(n,i,a,c){var f=n.updateQueue;Xr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,q=N.next;N.next=null,w===null?g=q:w.next=q,w=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==w&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=N))}if(g!==null){var te=f.baseState;w=0,ee=q=N=null,A=g;do{var Z=A.lane,oe=A.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:oe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=n,fe=A;switch(Z=i,oe=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(oe,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(oe,te,Z):de,Z==null)break e;te=se({},te,Z);break e;case 2:Xr=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else oe={eventTime:oe,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=oe,N=te):ee=ee.next=oe,w|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(N=te),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);$i|=w,n.lanes=w,n.memoizedState=te}}function hp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ra={},Zn=Kr(ra),ia=Kr(ra),sa=Kr(ra);function Bi(n){if(n===ra)throw Error(t(174));return n}function Kc(n,i){switch(Ge(sa,i),Ge(ia,n),Ge(Zn,ra),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=vt(i,n)}Qe(Zn),Ge(Zn,i)}function qs(){Qe(Zn),Qe(ia),Qe(sa)}function dp(n){Bi(sa.current);var i=Bi(Zn.current),a=vt(i,n.type);i!==a&&(Ge(ia,n),Ge(Zn,a))}function Qc(n){ia.current===n&&(Qe(Zn),Qe(ia))}var et=Kr(0);function Ol(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yc=[];function Xc(){for(var n=0;n<Yc.length;n++)Yc[n]._workInProgressVersionPrimary=null;Yc.length=0}var Ll=Q.ReactCurrentDispatcher,Jc=Q.ReactCurrentBatchConfig,zi=0,tt=null,xt=null,Ct=null,Ml=!1,oa=!1,aa=0,g0=0;function Mt(){throw Error(t(321))}function Zc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!On(n[a],i[a]))return!1;return!0}function eh(n,i,a,c,f,g){if(zi=g,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ll.current=n===null||n.memoizedState===null?x0:w0,n=a(c,f),oa){g=0;do{if(oa=!1,aa=0,25<=g)throw Error(t(301));g+=1,Ct=xt=null,i.updateQueue=null,Ll.current=E0,n=a(c,f)}while(oa)}if(Ll.current=Bl,i=xt!==null&&xt.next!==null,zi=0,Ct=xt=tt=null,Ml=!1,i)throw Error(t(300));return n}function th(){var n=aa!==0;return aa=0,n}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Sn(){if(xt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=Ct===null?tt.memoizedState:Ct.next;if(i!==null)Ct=i,xt=n;else{if(n===null)throw Error(t(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?tt.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function la(n,i){return typeof i=="function"?i(n):i}function nh(n){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=xt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var A=w=null,N=null,q=g;do{var ee=q.lane;if((zi&ee)===ee)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:n(c,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(A=N=te,w=c):N=N.next=te,tt.lanes|=ee,$i|=ee}q=q.next}while(q!==null&&q!==g);N===null?w=c:N.next=A,On(c,i.memoizedState)||(Zt=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,tt.lanes|=g,$i|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function rh(n){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=n(g,w.action),w=w.next;while(w!==f);On(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function fp(){}function pp(n,i){var a=tt,c=Sn(),f=i(),g=!On(c.memoizedState,f);if(g&&(c.memoizedState=f,Zt=!0),c=c.queue,ih(yp.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,ua(9,gp.bind(null,a,c,f,i),void 0,null),At===null)throw Error(t(349));(zi&30)!==0||mp(a,i,f)}return f}function mp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function gp(n,i,a,c){i.value=a,i.getSnapshot=c,vp(i)&&_p(n)}function yp(n,i,a){return a(function(){vp(i)&&_p(n)})}function vp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!On(n,a)}catch{return!0}}function _p(n){var i=Tr(n,1);i!==null&&Bn(i,n,1,-1)}function xp(n){var i=er();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},i.queue=n,n=n.dispatch=_0.bind(null,tt,n),[i.memoizedState,n]}function ua(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function wp(){return Sn().memoizedState}function Fl(n,i,a,c){var f=er();tt.flags|=n,f.memoizedState=ua(1|i,a,void 0,c===void 0?null:c)}function Ul(n,i,a,c){var f=Sn();c=c===void 0?null:c;var g=void 0;if(xt!==null){var w=xt.memoizedState;if(g=w.destroy,c!==null&&Zc(c,w.deps)){f.memoizedState=ua(i,a,g,c);return}}tt.flags|=n,f.memoizedState=ua(1|i,a,g,c)}function Ep(n,i){return Fl(8390656,8,n,i)}function ih(n,i){return Ul(2048,8,n,i)}function Sp(n,i){return Ul(4,2,n,i)}function Tp(n,i){return Ul(4,4,n,i)}function Ip(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Cp(n,i,a){return a=a!=null?a.concat([n]):null,Ul(4,4,Ip.bind(null,i,n),a)}function sh(){}function Ap(n,i){var a=Sn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Zc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Rp(n,i){var a=Sn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Zc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function kp(n,i,a){return(zi&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=a):(On(a,i)||(a=Ni(),tt.lanes|=a,$i|=a,n.baseState=!0),i)}function y0(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=Jc.transition;Jc.transition={};try{n(!1),i()}finally{Pe=a,Jc.transition=c}}function Pp(){return Sn().memoizedState}function v0(n,i,a){var c=ni(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Np(n))bp(i,a);else if(a=lp(n,i,a,c),a!==null){var f=Kt();Bn(a,n,c,f),jp(a,i,c)}}function _0(n,i,a){var c=ni(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Np(n))bp(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,A=g(w,a);if(f.hasEagerState=!0,f.eagerState=A,On(A,w)){var N=i.interleaved;N===null?(f.next=f,Hc(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}finally{}a=lp(n,i,f,c),a!==null&&(f=Kt(),Bn(a,n,c,f),jp(a,i,c))}}function Np(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function bp(n,i){oa=Ml=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function jp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Br(n,a)}}var Bl={readContext:En,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},x0={readContext:En,useCallback:function(n,i){return er().memoizedState=[n,i===void 0?null:i],n},useContext:En,useEffect:Ep,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Fl(4194308,4,Ip.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Fl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Fl(4,2,n,i)},useMemo:function(n,i){var a=er();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=er();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=v0.bind(null,tt,n),[c.memoizedState,n]},useRef:function(n){var i=er();return n={current:n},i.memoizedState=n},useState:xp,useDebugValue:sh,useDeferredValue:function(n){return er().memoizedState=n},useTransition:function(){var n=xp(!1),i=n[0];return n=y0.bind(null,n[1]),er().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=tt,f=er();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),At===null)throw Error(t(349));(zi&30)!==0||mp(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Ep(yp.bind(null,c,g,n),[n]),c.flags|=2048,ua(9,gp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=er(),i=At.identifierPrefix;if(Je){var a=Sr,c=Er;a=(c&~(1<<32-qt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=aa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=g0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},w0={readContext:En,useCallback:Ap,useContext:En,useEffect:ih,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Rp,useReducer:nh,useRef:wp,useState:function(){return nh(la)},useDebugValue:sh,useDeferredValue:function(n){var i=Sn();return kp(i,xt.memoizedState,n)},useTransition:function(){var n=nh(la)[0],i=Sn().memoizedState;return[n,i]},useMutableSource:fp,useSyncExternalStore:pp,useId:Pp,unstable_isNewReconciler:!1},E0={readContext:En,useCallback:Ap,useContext:En,useEffect:ih,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Rp,useReducer:rh,useRef:wp,useState:function(){return rh(la)},useDebugValue:sh,useDeferredValue:function(n){var i=Sn();return xt===null?i.memoizedState=n:kp(i,xt.memoizedState,n)},useTransition:function(){var n=rh(la)[0],i=Sn().memoizedState;return[n,i]},useMutableSource:fp,useSyncExternalStore:pp,useId:Pp,unstable_isNewReconciler:!1};function Mn(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function oh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var zl={isMounted:function(n){return(n=n._reactInternals)?kn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Kt(),f=ni(n),g=Ir(c,f);g.payload=i,a!=null&&(g.callback=a),i=Jr(n,g,f),i!==null&&(Bn(i,n,f,c),Dl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Kt(),f=ni(n),g=Ir(c,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Jr(n,g,f),i!==null&&(Bn(i,n,f,c),Dl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Kt(),c=ni(n),f=Ir(a,c);f.tag=2,i!=null&&(f.callback=i),i=Jr(n,f,c),i!==null&&(Bn(i,n,c,a),Dl(i,n,c))}};function Dp(n,i,a,c,f,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,c)||!Qo(f,g):!0}function Vp(n,i,a){var c=!1,f=Qr,g=i.contextType;return typeof g=="object"&&g!==null?g=En(g):(f=Jt(i)?Li:Lt.current,c=i.contextTypes,g=(c=c!=null)?Ms(n,f):Qr),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function Op(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&zl.enqueueReplaceState(i,i.state,null)}function ah(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Gc(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=En(g):(g=Jt(i)?Li:Lt.current,f.context=Ms(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(oh(n,i,g,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&zl.enqueueReplaceState(f,f.state,null),Vl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Hs(n,i){try{var a="",c=i;do a+=Ce(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function lh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function uh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var S0=typeof WeakMap=="function"?WeakMap:Map;function Lp(n,i,a){a=Ir(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Ql||(Ql=!0,Th=c),uh(n,i)},a}function Mp(n,i,a){a=Ir(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){uh(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){uh(n,i),typeof c!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function Fp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new S0;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=L0.bind(null,n,i,a),i.then(n,n))}function Up(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Bp(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ir(-1,1),i.tag=2,Jr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var T0=Q.ReactCurrentOwner,Zt=!1;function Gt(n,i,a,c){i.child=n===null?ap(i,null,a,c):zs(i,n.child,a,c)}function zp(n,i,a,c,f){a=a.render;var g=i.ref;return Ws(i,f),c=eh(n,i,a,c,g,f),a=th(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Cr(n,i,f)):(Je&&a&&Lc(i),i.flags|=1,Gt(n,i,c,f),i.child)}function $p(n,i,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!Nh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Wp(n,i,g,c,f)):(n=tu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,(n.lanes&f)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(w,c)&&n.ref===i.ref)return Cr(n,i,f)}return i.flags|=1,n=ii(g,c),n.ref=i.ref,n.return=i,i.child=n}function Wp(n,i,a,c,f){if(n!==null){var g=n.memoizedProps;if(Qo(g,c)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=c=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,Cr(n,i,f)}return ch(n,i,a,c,f)}function qp(n,i,a){var c=i.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ks,fn),fn|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ge(Ks,fn),fn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ge(Ks,fn),fn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Ge(Ks,fn),fn|=c;return Gt(n,i,f,a),i.child}function Hp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ch(n,i,a,c,f){var g=Jt(a)?Li:Lt.current;return g=Ms(i,g),Ws(i,f),a=eh(n,i,a,c,g,f),c=th(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Cr(n,i,f)):(Je&&c&&Lc(i),i.flags|=1,Gt(n,i,a,f),i.child)}function Gp(n,i,a,c,f){if(Jt(a)){var g=!0;Cl(i)}else g=!1;if(Ws(i,f),i.stateNode===null)Wl(n,i),Vp(i,a,c),ah(i,a,c,f),c=!0;else if(n===null){var w=i.stateNode,A=i.memoizedProps;w.props=A;var N=w.context,q=a.contextType;typeof q=="object"&&q!==null?q=En(q):(q=Jt(a)?Li:Lt.current,q=Ms(i,q));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==c||N!==q)&&Op(i,w,c,q),Xr=!1;var Z=i.memoizedState;w.state=Z,Vl(i,c,w,f),N=i.memoizedState,A!==c||Z!==N||Xt.current||Xr?(typeof ee=="function"&&(oh(i,a,ee,c),N=i.memoizedState),(A=Xr||Dp(i,a,A,c,Z,N,q))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),w.props=c,w.state=N,w.context=q,c=A):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,up(n,i),A=i.memoizedProps,q=i.type===i.elementType?A:Mn(i.type,A),w.props=q,te=i.pendingProps,Z=w.context,N=a.contextType,typeof N=="object"&&N!==null?N=En(N):(N=Jt(a)?Li:Lt.current,N=Ms(i,N));var oe=a.getDerivedStateFromProps;(ee=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==te||Z!==N)&&Op(i,w,c,N),Xr=!1,Z=i.memoizedState,w.state=Z,Vl(i,c,w,f);var de=i.memoizedState;A!==te||Z!==de||Xt.current||Xr?(typeof oe=="function"&&(oh(i,a,oe,c),de=i.memoizedState),(q=Xr||Dp(i,a,q,c,Z,de,N)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,de,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,de,N)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),w.props=c,w.state=de,w.context=N,c=q):(typeof w.componentDidUpdate!="function"||A===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),c=!1)}return hh(n,i,a,c,g,f)}function hh(n,i,a,c,f,g){Hp(n,i);var w=(i.flags&128)!==0;if(!c&&!w)return f&&Jf(i,a,!1),Cr(n,i,g);c=i.stateNode,T0.current=i;var A=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&w?(i.child=zs(i,n.child,null,g),i.child=zs(i,null,A,g)):Gt(n,i,A,g),i.memoizedState=c.state,f&&Jf(i,a,!0),i.child}function Kp(n){var i=n.stateNode;i.pendingContext?Yf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Yf(n,i.context,!1),Kc(n,i.containerInfo)}function Qp(n,i,a,c,f){return Bs(),Bc(f),i.flags|=256,Gt(n,i,a,c),i.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function fh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yp(n,i,a){var c=i.pendingProps,f=et.current,g=!1,w=(i.flags&128)!==0,A;if((A=w)||(A=n!==null&&n.memoizedState===null?!1:(f&2)!==0),A?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ge(et,f&1),n===null)return Uc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=c.children,n=c.fallback,g?(c=i.mode,g=i.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=nu(w,c,0,null),n=Gi(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=fh(a),i.memoizedState=dh,n):ph(i,w));if(f=n.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return I0(n,i,w,c,A,f,a);if(g){g=c.fallback,w=i.mode,f=n.child,A=f.sibling;var N={mode:"hidden",children:c.children};return(w&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ii(f,N),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=ii(A,g):(g=Gi(g,w,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,w=n.child.memoizedState,w=w===null?fh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=n.childLanes&~a,i.memoizedState=dh,c}return g=n.child,n=g.sibling,c=ii(g,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function ph(n,i){return i=nu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function $l(n,i,a,c){return c!==null&&Bc(c),zs(i,n.child,null,a),n=ph(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function I0(n,i,a,c,f,g,w){if(a)return i.flags&256?(i.flags&=-257,c=lh(Error(t(422))),$l(n,i,w,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,f=i.mode,c=nu({mode:"visible",children:c.children},f,0,null),g=Gi(g,f,w,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,(i.mode&1)!==0&&zs(i,n.child,null,w),i.child.memoizedState=fh(w),i.memoizedState=dh,g);if((i.mode&1)===0)return $l(n,i,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=lh(g,c,void 0),$l(n,i,w,c)}if(A=(w&n.childLanes)!==0,Zt||A){if(c=At,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Tr(n,f),Bn(c,n,f,-1))}return Ph(),c=lh(Error(t(421))),$l(n,i,w,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=M0.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,dn=Gr(f.nextSibling),hn=i,Je=!0,Ln=null,n!==null&&(xn[wn++]=Er,xn[wn++]=Sr,xn[wn++]=Mi,Er=n.id,Sr=n.overflow,Mi=i),i=ph(i,c.children),i.flags|=4096,i)}function Xp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),qc(n.return,i,a)}function mh(n,i,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Jp(n,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(Gt(n,i,c.children,a),c=et.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xp(n,a,i);else if(n.tag===19)Xp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(et,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ol(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),mh(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ol(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}mh(i,!0,a,null,g);break;case"together":mh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Cr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),$i|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ii(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ii(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function C0(n,i,a){switch(i.tag){case 3:Kp(i),Bs();break;case 5:dp(i);break;case 1:Jt(i.type)&&Cl(i);break;case 4:Kc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ge(bl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ge(et,et.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Yp(n,i,a):(Ge(et,et.current&1),n=Cr(n,i,a),n!==null?n.sibling:null);Ge(et,et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Jp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,qp(n,i,a)}return Cr(n,i,a)}var Zp,gh,em,tm;Zp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},gh=function(){},em=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Bi(Zn.current);var g=null;switch(a){case"input":f=xi(n,f),c=xi(n,c),g=[];break;case"select":f=se({},f,{value:void 0}),c=se({},c,{value:void 0}),g=[];break;case"textarea":f=To(n,f),c=To(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Sl)}Po(a,c);var w;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var N=c[q];if(A=f?.[q],c.hasOwnProperty(q)&&N!==A&&(N!=null||A!=null))if(q==="style")if(A){for(w in A)!A.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in N)N.hasOwnProperty(w)&&A[w]!==N[w]&&(a||(a={}),a[w]=N[w])}else a||(g||(g=[]),g.push(q,a)),a=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Ke("scroll",n),g||A===N||(g=[])):(g=g||[]).push(q,N))}a&&(g=g||[]).push("style",a);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},tm=function(n,i,a,c){a!==c&&(i.flags|=4)};function ca(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ft(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function A0(n,i,a){var c=i.pendingProps;switch(Mc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(i),null;case 1:return Jt(i.type)&&Il(),Ft(i),null;case 3:return c=i.stateNode,qs(),Qe(Xt),Qe(Lt),Xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Pl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Ah(Ln),Ln=null))),gh(n,i),Ft(i),null;case 5:Qc(i);var f=Bi(sa.current);if(a=i.type,n!==null&&i.stateNode!=null)em(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ft(i),null}if(n=Bi(Zn.current),Pl(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Jn]=i,c[ea]=g,n=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<Xo.length;f++)Ke(Xo[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":os(c,g),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",c);break;case"textarea":ls(c,g),Ke("invalid",c)}Po(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&El(c.textContent,A,n),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&El(c.textContent,A,n),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Ke("scroll",c)}switch(a){case"input":cr(c),Ka(c,g,!0);break;case"textarea":cr(c),Io(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Sl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=yt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Jn]=i,n[ea]=c,Zp(n,i,!1,!1),i.stateNode=n;e:{switch(w=No(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),f=c;break;case"iframe":case"object":case"embed":Ke("load",n),f=c;break;case"video":case"audio":for(f=0;f<Xo.length;f++)Ke(Xo[f],n);f=c;break;case"source":Ke("error",n),f=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),f=c;break;case"details":Ke("toggle",n),f=c;break;case"input":os(n,c),f=xi(n,c),Ke("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=se({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":ls(n,c),f=To(n,c),Ke("invalid",n);break;default:f=c}Po(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?Ro(n,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Co(n,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Or(n,N):typeof N=="number"&&Or(n,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ke("scroll",n):N!=null&&G(n,g,N,w))}switch(a){case"input":cr(n),Ka(n,c,!1);break;case"textarea":cr(n),Io(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ue(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?dr(n,!!c.multiple,g,!1):c.defaultValue!=null&&dr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Sl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ft(i),null;case 6:if(n&&i.stateNode!=null)tm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Bi(sa.current),Bi(Zn.current),Pl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Jn]=i,(g=c.nodeValue!==a)&&(n=hn,n!==null))switch(n.tag){case 3:El(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&El(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Jn]=i,i.stateNode=c}return Ft(i),null;case 13:if(Qe(et),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&dn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ip(),Bs(),i.flags|=98560,g=!1;else if(g=Pl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Jn]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ft(i),g=!1}else Ln!==null&&(Ah(Ln),Ln=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(et.current&1)!==0?wt===0&&(wt=3):Ph())),i.updateQueue!==null&&(i.flags|=4),Ft(i),null);case 4:return qs(),gh(n,i),n===null&&Jo(i.stateNode.containerInfo),Ft(i),null;case 10:return Wc(i.type._context),Ft(i),null;case 17:return Jt(i.type)&&Il(),Ft(i),null;case 19:if(Qe(et),g=i.memoizedState,g===null)return Ft(i),null;if(c=(i.flags&128)!==0,w=g.rendering,w===null)if(c)ca(g,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=Ol(n),w!==null){for(i.flags|=128,ca(g,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,n=w.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ge(et,et.current&1|2),i.child}n=n.sibling}g.tail!==null&&He()>Qs&&(i.flags|=128,c=!0,ca(g,!1),i.lanes=4194304)}else{if(!c)if(n=Ol(w),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ca(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Je)return Ft(i),null}else 2*He()-g.renderingStartTime>Qs&&a!==1073741824&&(i.flags|=128,c=!0,ca(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(a=g.last,a!==null?a.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=He(),i.sibling=null,a=et.current,Ge(et,c?a&1|2:a&1),i):(Ft(i),null);case 22:case 23:return kh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(fn&1073741824)!==0&&(Ft(i),i.subtreeFlags&6&&(i.flags|=8192)):Ft(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function R0(n,i){switch(Mc(i),i.tag){case 1:return Jt(i.type)&&Il(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qs(),Qe(Xt),Qe(Lt),Xc(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Qc(i),null;case 13:if(Qe(et),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Bs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Qe(et),null;case 4:return qs(),null;case 10:return Wc(i.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var ql=!1,Ut=!1,k0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Gs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,i,c)}else a.current=null}function yh(n,i,a){try{a()}catch(c){st(n,i,c)}}var nm=!1;function P0(n,i){if(kc=Wr,n=Df(),wc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,N=-1,q=0,ee=0,te=n,Z=null;t:for(;;){for(var oe;te!==a||f!==0&&te.nodeType!==3||(A=w+f),te!==g||c!==0&&te.nodeType!==3||(N=w+c),te.nodeType===3&&(w+=te.nodeValue.length),(oe=te.firstChild)!==null;)Z=te,te=oe;for(;;){if(te===n)break t;if(Z===a&&++q===f&&(A=w),Z===g&&++ee===c&&(N=w),(oe=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=oe}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pc={focusedElem:n,selectionRange:a},Wr=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,at=de.memoizedState,z=i.stateNode,V=z.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Mn(i.type,fe),at);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){st(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return de=nm,nm=!1,de}function ha(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&yh(i,a,g)}f=f.next}while(f!==c)}}function Hl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function vh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function rm(n){var i=n.alternate;i!==null&&(n.alternate=null,rm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Jn],delete i[ea],delete i[Dc],delete i[d0],delete i[f0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function im(n){return n.tag===5||n.tag===3||n.tag===4}function sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||im(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _h(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sl));else if(c!==4&&(n=n.child,n!==null))for(_h(n,i,a),n=n.sibling;n!==null;)_h(n,i,a),n=n.sibling}function xh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(xh(n,i,a),n=n.sibling;n!==null;)xh(n,i,a),n=n.sibling}var bt=null,Fn=!1;function Zr(n,i,a){for(a=a.child;a!==null;)om(n,i,a),a=a.sibling}function om(n,i,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(ki,a)}catch{}switch(a.tag){case 5:Ut||Gs(a,i);case 6:var c=bt,f=Fn;bt=null,Zr(n,i,a),bt=c,Fn=f,bt!==null&&(Fn?(n=bt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(Fn?(n=bt,a=a.stateNode,n.nodeType===8?jc(n.parentNode,a):n.nodeType===1&&jc(n,a),Dn(n)):jc(bt,a.stateNode));break;case 4:c=bt,f=Fn,bt=a.stateNode.containerInfo,Fn=!0,Zr(n,i,a),bt=c,Fn=f;break;case 0:case 11:case 14:case 15:if(!Ut&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&yh(a,i,w),f=f.next}while(f!==c)}Zr(n,i,a);break;case 1:if(!Ut&&(Gs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){st(a,i,A)}Zr(n,i,a);break;case 21:Zr(n,i,a);break;case 22:a.mode&1?(Ut=(c=Ut)||a.memoizedState!==null,Zr(n,i,a),Ut=c):Zr(n,i,a);break;default:Zr(n,i,a)}}function am(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new k0),i.forEach(function(c){var f=F0.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Un(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,w=i,A=w;e:for(;A!==null;){switch(A.tag){case 5:bt=A.stateNode,Fn=!1;break e;case 3:bt=A.stateNode.containerInfo,Fn=!0;break e;case 4:bt=A.stateNode.containerInfo,Fn=!0;break e}A=A.return}if(bt===null)throw Error(t(160));om(g,w,f),bt=null,Fn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(q){st(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)lm(i,n),i=i.sibling}function lm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Un(i,n),tr(n),c&4){try{ha(3,n,n.return),Hl(3,n)}catch(fe){st(n,n.return,fe)}try{ha(5,n,n.return)}catch(fe){st(n,n.return,fe)}}break;case 1:Un(i,n),tr(n),c&512&&a!==null&&Gs(a,a.return);break;case 5:if(Un(i,n),tr(n),c&512&&a!==null&&Gs(a,a.return),n.flags&32){var f=n.stateNode;try{Or(f,"")}catch(fe){st(n,n.return,fe)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,w=a!==null?a.memoizedProps:g,A=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Eo(f,g),No(A,w);var q=No(A,g);for(w=0;w<N.length;w+=2){var ee=N[w],te=N[w+1];ee==="style"?Ro(f,te):ee==="dangerouslySetInnerHTML"?Co(f,te):ee==="children"?Or(f,te):G(f,ee,te,q)}switch(A){case"input":So(f,g);break;case"textarea":us(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?dr(f,!!g.multiple,oe,!1):Z!==!!g.multiple&&(g.defaultValue!=null?dr(f,!!g.multiple,g.defaultValue,!0):dr(f,!!g.multiple,g.multiple?[]:"",!1))}f[ea]=g}catch(fe){st(n,n.return,fe)}}break;case 6:if(Un(i,n),tr(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(fe){st(n,n.return,fe)}}break;case 3:if(Un(i,n),tr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(i.containerInfo)}catch(fe){st(n,n.return,fe)}break;case 4:Un(i,n),tr(n);break;case 13:Un(i,n),tr(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Sh=He())),c&4&&am(n);break;case 22:if(ee=a!==null&&a.memoizedState!==null,n.mode&1?(Ut=(q=Ut)||ee,Un(i,n),Ut=q):Un(i,n),tr(n),c&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!ee&&(n.mode&1)!==0)for(ue=n,ee=n.child;ee!==null;){for(te=ue=ee;ue!==null;){switch(Z=ue,oe=Z.child,Z.tag){case 0:case 11:case 14:case 15:ha(4,Z,Z.return);break;case 1:Gs(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){c=Z,a=Z.return;try{i=c,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(fe){st(c,a,fe)}}break;case 5:Gs(Z,Z.return);break;case 22:if(Z.memoizedState!==null){hm(te);continue}}oe!==null?(oe.return=Z,ue=oe):hm(te)}ee=ee.sibling}e:for(ee=null,te=n;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=te.stateNode,N=te.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Ao("display",w))}catch(fe){st(n,n.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(fe){st(n,n.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Un(i,n),tr(n),c&4&&am(n);break;case 21:break;default:Un(i,n),tr(n)}}function tr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(im(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Or(f,""),c.flags&=-33);var g=sm(n);xh(n,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,A=sm(n);_h(n,A,w);break;default:throw Error(t(161))}}catch(N){st(n,n.return,N)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function N0(n,i,a){ue=n,um(n)}function um(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var f=ue,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||ql;if(!w){var A=f.alternate,N=A!==null&&A.memoizedState!==null||Ut;A=ql;var q=Ut;if(ql=w,(Ut=N)&&!q)for(ue=f;ue!==null;)w=ue,N=w.child,w.tag===22&&w.memoizedState!==null?dm(f):N!==null?(N.return=w,ue=N):dm(f);for(;g!==null;)ue=g,um(g),g=g.sibling;ue=f,ql=A,Ut=q}cm(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ue=g):cm(n)}}function cm(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ut||Hl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ut)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Mn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&hp(i,g,c);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}hp(i,w,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Dn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||i.flags&512&&vh(i)}catch(Z){st(i,i.return,Z)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function hm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function dm(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Hl(4,i)}catch(N){st(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(N){st(i,f,N)}}var g=i.return;try{vh(i)}catch(N){st(i,g,N)}break;case 5:var w=i.return;try{vh(i)}catch(N){st(i,w,N)}}}catch(N){st(i,i.return,N)}if(i===n){ue=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ue=A;break}ue=i.return}}var b0=Math.ceil,Gl=Q.ReactCurrentDispatcher,wh=Q.ReactCurrentOwner,Tn=Q.ReactCurrentBatchConfig,Ve=0,At=null,dt=null,jt=0,fn=0,Ks=Kr(0),wt=0,da=null,$i=0,Kl=0,Eh=0,fa=null,en=null,Sh=0,Qs=1/0,Ar=null,Ql=!1,Th=null,ei=null,Yl=!1,ti=null,Xl=0,pa=0,Ih=null,Jl=-1,Zl=0;function Kt(){return(Ve&6)!==0?He():Jl!==-1?Jl:Jl=He()}function ni(n){return(n.mode&1)===0?1:(Ve&2)!==0&&jt!==0?jt&-jt:m0.transition!==null?(Zl===0&&(Zl=Ni()),Zl):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:zo(n.type)),n)}function Bn(n,i,a,c){if(50<pa)throw pa=0,Ih=null,Error(t(185));Ur(n,a,c),((Ve&2)===0||n!==At)&&(n===At&&((Ve&2)===0&&(Kl|=a),wt===4&&ri(n,jt)),tn(n,c),a===1&&Ve===0&&(i.mode&1)===0&&(Qs=He()+500,Al&&Yr()))}function tn(n,i){var a=n.callbackNode;mr(n,i);var c=Pi(n,n===At?jt:0);if(c===0)a!==null&&Lo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Lo(a),i===1)n.tag===0?p0(pm.bind(null,n)):Zf(pm.bind(null,n)),c0(function(){(Ve&6)===0&&Yr()}),a=null;else{switch(zr(c)){case 1:a=Ri;break;case 4:a=Lr;break;case 16:a=yn;break;case 536870912:a=Za;break;default:a=yn}a=Em(a,fm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function fm(n,i){if(Jl=-1,Zl=0,(Ve&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Ys()&&n.callbackNode!==a)return null;var c=Pi(n,n===At?jt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=eu(n,c);else{i=c;var f=Ve;Ve|=2;var g=gm();(At!==n||jt!==i)&&(Ar=null,Qs=He()+500,qi(n,i));do try{V0();break}catch(A){mm(n,A)}while(!0);$c(),Gl.current=g,Ve=f,dt!==null?i=0:(At=null,jt=0,i=wt)}if(i!==0){if(i===2&&(f=ln(n),f!==0&&(c=f,i=Ch(n,f))),i===1)throw a=da,qi(n,0),ri(n,c),tn(n,He()),a;if(i===6)ri(n,c);else{if(f=n.current.alternate,(c&30)===0&&!j0(f)&&(i=eu(n,c),i===2&&(g=ln(n),g!==0&&(c=g,i=Ch(n,g))),i===1))throw a=da,qi(n,0),ri(n,c),tn(n,He()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Hi(n,en,Ar);break;case 3:if(ri(n,c),(c&130023424)===c&&(i=Sh+500-He(),10<i)){if(Pi(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Kt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=bc(Hi.bind(null,n,en,Ar),i);break}Hi(n,en,Ar);break;case 4:if(ri(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var w=31-qt(c);g=1<<w,w=i[w],w>f&&(f=w),c&=~g}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*b0(c/1960))-c,10<c){n.timeoutHandle=bc(Hi.bind(null,n,en,Ar),c);break}Hi(n,en,Ar);break;case 5:Hi(n,en,Ar);break;default:throw Error(t(329))}}}return tn(n,He()),n.callbackNode===a?fm.bind(null,n):null}function Ch(n,i){var a=fa;return n.current.memoizedState.isDehydrated&&(qi(n,i).flags|=256),n=eu(n,i),n!==2&&(i=en,en=a,i!==null&&Ah(i)),n}function Ah(n){en===null?en=n:en.push.apply(en,n)}function j0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!On(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(n,i){for(i&=~Eh,i&=~Kl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-qt(i),c=1<<a;n[a]=-1,i&=~c}}function pm(n){if((Ve&6)!==0)throw Error(t(327));Ys();var i=Pi(n,0);if((i&1)===0)return tn(n,He()),null;var a=eu(n,i);if(n.tag!==0&&a===2){var c=ln(n);c!==0&&(i=c,a=Ch(n,c))}if(a===1)throw a=da,qi(n,0),ri(n,i),tn(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Hi(n,en,Ar),tn(n,He()),null}function Rh(n,i){var a=Ve;Ve|=1;try{return n(i)}finally{Ve=a,Ve===0&&(Qs=He()+500,Al&&Yr())}}function Wi(n){ti!==null&&ti.tag===0&&(Ve&6)===0&&Ys();var i=Ve;Ve|=1;var a=Tn.transition,c=Pe;try{if(Tn.transition=null,Pe=1,n)return n()}finally{Pe=c,Tn.transition=a,Ve=i,(Ve&6)===0&&Yr()}}function kh(){fn=Ks.current,Qe(Ks)}function qi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,u0(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(Mc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Il();break;case 3:qs(),Qe(Xt),Qe(Lt),Xc();break;case 5:Qc(c);break;case 4:qs();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Wc(c.type._context);break;case 22:case 23:kh()}a=a.return}if(At=n,dt=n=ii(n.current,null),jt=fn=i,wt=0,da=null,Eh=Kl=$i=0,en=fa=null,Ui!==null){for(i=0;i<Ui.length;i++)if(a=Ui[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}a.pending=c}Ui=null}return n}function mm(n,i){do{var a=dt;try{if($c(),Ll.current=Bl,Ml){for(var c=tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ml=!1}if(zi=0,Ct=xt=tt=null,oa=!1,aa=0,wh.current=null,a===null||a.return===null){wt=1,da=i,dt=null;break}e:{var g=n,w=a.return,A=a,N=i;if(i=jt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,ee=A,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var oe=Up(w);if(oe!==null){oe.flags&=-257,Bp(oe,w,A,g,i),oe.mode&1&&Fp(g,q,i),i=oe,N=q;var de=i.updateQueue;if(de===null){var fe=new Set;fe.add(N),i.updateQueue=fe}else de.add(N);break e}else{if((i&1)===0){Fp(g,q,i),Ph();break e}N=Error(t(426))}}else if(Je&&A.mode&1){var at=Up(w);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Bp(at,w,A,g,i),Bc(Hs(N,A));break e}}g=N=Hs(N,A),wt!==4&&(wt=2),fa===null?fa=[g]:fa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Lp(g,N,i);cp(g,z);break e;case 1:A=N;var V=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ei===null||!ei.has(W)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=Mp(g,A,i);cp(g,ne);break e}}g=g.return}while(g!==null)}vm(a)}catch(pe){i=pe,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function gm(){var n=Gl.current;return Gl.current=Bl,n===null?Bl:n}function Ph(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||($i&268435455)===0&&(Kl&268435455)===0||ri(At,jt)}function eu(n,i){var a=Ve;Ve|=2;var c=gm();(At!==n||jt!==i)&&(Ar=null,qi(n,i));do try{D0();break}catch(f){mm(n,f)}while(!0);if($c(),Ve=a,Gl.current=c,dt!==null)throw Error(t(261));return At=null,jt=0,wt}function D0(){for(;dt!==null;)ym(dt)}function V0(){for(;dt!==null&&!Xa();)ym(dt)}function ym(n){var i=wm(n.alternate,n,fn);n.memoizedProps=n.pendingProps,i===null?vm(n):dt=i,wh.current=null}function vm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=A0(a,i,fn),a!==null){dt=a;return}}else{if(a=R0(a,i),a!==null){a.flags&=32767,dt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wt=6,dt=null;return}}if(i=i.sibling,i!==null){dt=i;return}dt=i=n}while(i!==null);wt===0&&(wt=5)}function Hi(n,i,a){var c=Pe,f=Tn.transition;try{Tn.transition=null,Pe=1,O0(n,i,a,c)}finally{Tn.transition=f,Pe=c}return null}function O0(n,i,a,c){do Ys();while(ti!==null);if((Ve&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(n,g),n===At&&(dt=At=null,jt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Yl||(Yl=!0,Em(yn,function(){return Ys(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Tn.transition,Tn.transition=null;var w=Pe;Pe=1;var A=Ve;Ve|=4,wh.current=null,P0(n,a),lm(a,n),n0(Pc),Wr=!!kc,Pc=kc=null,n.current=a,N0(a),fc(),Ve=A,Pe=w,Tn.transition=g}else n.current=a;if(Yl&&(Yl=!1,ti=n,Xl=f),g=n.pendingLanes,g===0&&(ei=null),el(a.stateNode),tn(n,He()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ql)throw Ql=!1,n=Th,Th=null,n;return(Xl&1)!==0&&n.tag!==0&&Ys(),g=n.pendingLanes,(g&1)!==0?n===Ih?pa++:(pa=0,Ih=n):pa=0,Yr(),null}function Ys(){if(ti!==null){var n=zr(Xl),i=Tn.transition,a=Pe;try{if(Tn.transition=null,Pe=16>n?16:n,ti===null)var c=!1;else{if(n=ti,ti=null,Xl=0,(Ve&6)!==0)throw Error(t(331));var f=Ve;for(Ve|=4,ue=n.current;ue!==null;){var g=ue,w=g.child;if((ue.flags&16)!==0){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var q=A[N];for(ue=q;ue!==null;){var ee=ue;switch(ee.tag){case 0:case 11:case 15:ha(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,ue=te;else for(;ue!==null;){ee=ue;var Z=ee.sibling,oe=ee.return;if(rm(ee),ee===q){ue=null;break}if(Z!==null){Z.return=oe,ue=Z;break}ue=oe}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ha(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ue=z;break e}ue=g.return}}var V=n.current;for(ue=V;ue!==null;){w=ue;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,ue=W;else e:for(w=V;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Hl(9,A)}}catch(pe){st(A,A.return,pe)}if(A===w){ue=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,ue=ne;break e}ue=A.return}}if(Ve=f,Yr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(ki,n)}catch{}c=!0}return c}finally{Pe=a,Tn.transition=i}}return!1}function _m(n,i,a){i=Hs(a,i),i=Lp(n,i,1),n=Jr(n,i,1),i=Kt(),n!==null&&(Ur(n,1,i),tn(n,i))}function st(n,i,a){if(n.tag===3)_m(n,n,a);else for(;i!==null;){if(i.tag===3){_m(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))){n=Hs(a,n),n=Mp(i,n,1),i=Jr(i,n,1),n=Kt(),i!==null&&(Ur(i,1,n),tn(i,n));break}}i=i.return}}function L0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Kt(),n.pingedLanes|=n.suspendedLanes&a,At===n&&(jt&a)===a&&(wt===4||wt===3&&(jt&130023424)===jt&&500>He()-Sh?qi(n,0):Eh|=a),tn(n,i)}function xm(n,i){i===0&&((n.mode&1)===0?i=1:(i=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var a=Kt();n=Tr(n,i),n!==null&&(Ur(n,i,a),tn(n,a))}function M0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),xm(n,a)}function F0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),xm(n,a)}var wm;wm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,C0(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,Je&&(i.flags&1048576)!==0&&ep(i,kl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Wl(n,i),n=i.pendingProps;var f=Ms(i,Lt.current);Ws(i,a),f=eh(null,i,c,n,f,a);var g=th();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(c)?(g=!0,Cl(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gc(i),f.updater=zl,i.stateNode=f,f._reactInternals=i,ah(i,c,n,a),i=hh(null,i,c,!0,g,a)):(i.tag=0,Je&&g&&Lc(i),Gt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Wl(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=B0(c),n=Mn(c,n),f){case 0:i=ch(null,i,c,n,a);break e;case 1:i=Gp(null,i,c,n,a);break e;case 11:i=zp(null,i,c,n,a);break e;case 14:i=$p(null,i,c,Mn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Mn(c,f),ch(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Mn(c,f),Gp(n,i,c,f,a);case 3:e:{if(Kp(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,f=g.element,up(n,i),Vl(i,c,null,a);var w=i.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Hs(Error(t(423)),i),i=Qp(n,i,c,a,f);break e}else if(c!==f){f=Hs(Error(t(424)),i),i=Qp(n,i,c,a,f);break e}else for(dn=Gr(i.stateNode.containerInfo.firstChild),hn=i,Je=!0,Ln=null,a=ap(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),c===f){i=Cr(n,i,a);break e}Gt(n,i,c,a)}i=i.child}return i;case 5:return dp(i),n===null&&Uc(i),c=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,w=f.children,Nc(c,f)?w=null:g!==null&&Nc(c,g)&&(i.flags|=32),Hp(n,i),Gt(n,i,w,a),i.child;case 6:return n===null&&Uc(i),null;case 13:return Yp(n,i,a);case 4:return Kc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=zs(i,null,c,a):Gt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Mn(c,f),zp(n,i,c,f,a);case 7:return Gt(n,i,i.pendingProps,a),i.child;case 8:return Gt(n,i,i.pendingProps.children,a),i.child;case 12:return Gt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,g=i.memoizedProps,w=f.value,Ge(bl,c._currentValue),c._currentValue=w,g!==null)if(On(g.value,w)){if(g.children===f.children&&!Xt.current){i=Cr(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var N=A.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Ir(-1,a&-a),N.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),q.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),qc(g.return,a,i),A.lanes|=a;break}N=N.next}}else if(g.tag===10)w=g.type===i.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),qc(w,a,i),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Gt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Ws(i,a),f=En(f),c=c(f),i.flags|=1,Gt(n,i,c,a),i.child;case 14:return c=i.type,f=Mn(c,i.pendingProps),f=Mn(c.type,f),$p(n,i,c,f,a);case 15:return Wp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Mn(c,f),Wl(n,i),i.tag=1,Jt(c)?(n=!0,Cl(i)):n=!1,Ws(i,a),Vp(i,c,f),ah(i,c,f,a),hh(null,i,c,!0,n,a);case 19:return Jp(n,i,a);case 22:return qp(n,i,a)}throw Error(t(156,i.tag))};function Em(n,i){return ys(n,i)}function U0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,i,a,c){return new U0(n,i,a,c)}function Nh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function B0(n){if(typeof n=="function")return Nh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===Me)return 14}return 2}function ii(n,i){var a=n.alternate;return a===null?(a=In(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function tu(n,i,a,c,f,g){var w=2;if(c=n,typeof n=="function")Nh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case b:return Gi(a.children,f,g,i);case I:w=8,f|=8;break;case C:return n=In(12,a,i,f|2),n.elementType=C,n.lanes=g,n;case R:return n=In(13,a,i,f),n.elementType=R,n.lanes=g,n;case $e:return n=In(19,a,i,f),n.elementType=$e,n.lanes=g,n;case Ie:return nu(a,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:w=10;break e;case D:w=9;break e;case M:w=11;break e;case Me:w=14;break e;case St:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=In(w,a,i,f),i.elementType=n,i.type=c,i.lanes=g,i}function Gi(n,i,a,c){return n=In(7,n,c,i),n.lanes=a,n}function nu(n,i,a,c){return n=In(22,n,c,i),n.elementType=Ie,n.lanes=a,n.stateNode={isHidden:!1},n}function bh(n,i,a){return n=In(6,n,null,i),n.lanes=a,n}function jh(n,i,a){return i=In(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function z0(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fr(0),this.expirationTimes=Fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Dh(n,i,a,c,f,g,w,A,N){return n=new z0(n,i,a,A,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=In(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(g),n}function $0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Sm(n){if(!n)return Qr;n=n._reactInternals;e:{if(kn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Jt(a))return Xf(n,a,i)}return i}function Tm(n,i,a,c,f,g,w,A,N){return n=Dh(a,c,!0,n,f,g,w,A,N),n.context=Sm(null),a=n.current,c=Kt(),f=ni(a),g=Ir(c,f),g.callback=i??null,Jr(a,g,f),n.current.lanes=f,Ur(n,f,c),tn(n,c),n}function ru(n,i,a,c){var f=i.current,g=Kt(),w=ni(f);return a=Sm(a),i.context===null?i.context=a:i.pendingContext=a,i=Ir(g,w),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Jr(f,i,w),n!==null&&(Bn(n,f,w,g),Dl(n,f,w)),w}function iu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Im(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Vh(n,i){Im(n,i),(n=n.alternate)&&Im(n,i)}function W0(){return null}var Cm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Oh(n){this._internalRoot=n}su.prototype.render=Oh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));ru(n,i,null,null)},su.prototype.unmount=Oh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Wi(function(){ru(null,n,null,null)}),i[xr]=null}};function su(n){this._internalRoot=n}su.prototype.unstable_scheduleHydration=function(n){if(n){var i=sl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Kn.length&&i!==0&&i<Kn[a].priority;a++);Kn.splice(a,0,n),a===0&&ll(n)}};function Lh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Am(){}function q0(n,i,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var q=iu(w);g.call(q)}}var w=Tm(i,c,n,0,null,!1,!1,"",Am);return n._reactRootContainer=w,n[xr]=w.current,Jo(n.nodeType===8?n.parentNode:n),Wi(),w}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var q=iu(N);A.call(q)}}var N=Dh(n,0,!1,null,null,!1,!1,"",Am);return n._reactRootContainer=N,n[xr]=N.current,Jo(n.nodeType===8?n.parentNode:n),Wi(function(){ru(i,N,a,c)}),N}function au(n,i,a,c,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var N=iu(w);A.call(N)}}ru(i,w,n,f)}else w=q0(a,i,n,f,c);return iu(w)}rl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Mr(i.pendingLanes);a!==0&&(Br(i,a|1),tn(i,He()),(Ve&6)===0&&(Qs=He()+500,Yr()))}break;case 13:Wi(function(){var c=Tr(n,1);if(c!==null){var f=Kt();Bn(c,n,1,f)}}),Vh(n,1)}},xs=function(n){if(n.tag===13){var i=Tr(n,134217728);if(i!==null){var a=Kt();Bn(i,n,134217728,a)}Vh(n,134217728)}},il=function(n){if(n.tag===13){var i=ni(n),a=Tr(n,i);if(a!==null){var c=Kt();Bn(a,n,i,c)}Vh(n,i)}},sl=function(){return Pe},ol=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},hs=function(n,i,a){switch(i){case"input":if(So(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Tl(c);if(!f)throw Error(t(90));ss(c),So(c,f)}}}break;case"textarea":us(n,a);break;case"select":i=a.value,i!=null&&dr(n,!!a.multiple,i,!1)}},Ti=Rh,jo=Wi;var H0={usingClientEntryPoint:!1,Events:[ta,Os,Tl,Hn,bo,Rh]},ma={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Oo(n),n===null?null:n.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||W0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{ki=lu.inject(G0),an=lu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,nn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(i))throw Error(t(200));return $0(n,i,null,a)},nn.createRoot=function(n,i){if(!Lh(n))throw Error(t(299));var a=!1,c="",f=Cm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Dh(n,1,!1,null,null,a,!1,c,f),n[xr]=i.current,Jo(n.nodeType===8?n.parentNode:n),new Oh(i)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Oo(i),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return Wi(n)},nn.hydrate=function(n,i,a){if(!ou(i))throw Error(t(200));return au(null,n,i,!0,a)},nn.hydrateRoot=function(n,i,a){if(!Lh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",w=Cm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=Tm(i,null,n,1,a??null,f,!1,g,w),n[xr]=i.current,Jo(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new su(i)},nn.render=function(n,i,a){if(!ou(i))throw Error(t(200));return au(null,n,i,!1,a)},nn.unmountComponentAtNode=function(n){if(!ou(n))throw Error(t(40));return n._reactRootContainer?(Wi(function(){au(null,null,n,!1,function(){n._reactRootContainer=null,n[xr]=null})}),!0):!1},nn.unstable_batchedUpdates=Rh,nn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!ou(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return au(n,i,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Vm;function tx(){if(Vm)return Uh.exports;Vm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uh.exports=ex(),Uh.exports}var Om;function nx(){if(Om)return uu;Om=1;var r=tx();return uu.createRoot=r.createRoot,uu.hydrateRoot=r.hydrateRoot,uu}var rx=nx();const ix=bd(rx);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lm="popstate";function sx(r={}){function e(s,o){let{pathname:l,search:h,hash:p}=s.location;return sd("",{pathname:l,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ra(o)}return ax(e,t,null,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function Mm(r,e){return{usr:r.state,key:r.key,idx:e}}function sd(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:t,key:e&&e.key||s||ox()}}function Ra({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function mo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ax(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,p="POP",y=null,v=x();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let O=x(),K=O==null?null:O-v;v=O,y&&y({action:p,location:$.location,delta:K})}function S(O,K){p="PUSH";let U=sd($.location,O,K);v=x()+1;let G=Mm(U,v),Q=$.createHref(U);try{h.pushState(G,"",Q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(Q)}l&&y&&y({action:p,location:$.location,delta:1})}function k(O,K){p="REPLACE";let U=sd($.location,O,K);v=x();let G=Mm(U,v),Q=$.createHref(U);h.replaceState(G,"",Q),l&&y&&y({action:p,location:$.location,delta:0})}function F(O){return lx(O)}let $={get action(){return p},get location(){return r(o,h)},listen(O){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Lm,E),y=O,()=>{o.removeEventListener(Lm,E),y=null}},createHref(O){return e(o,O)},createURL:F,encodeLocation(O){let K=F(O);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:k,go(O){return h.go(O)}};return $}function lx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rt(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ra(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function wy(r,e,t="/"){return ux(r,e,t,!1)}function ux(r,e,t,s){let o=typeof e=="string"?mo(e):e,l=Pr(o.pathname||"/",t);if(l==null)return null;let h=Ey(r);cx(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let v=wx(l);p=_x(h[y],v,s)}return p}function Ey(r,e=[],t=[],s="",o=!1){let l=(h,p,y=o,v)=>{let x={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&y)return;rt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let E=Rr([s,x.relativePath]),S=t.concat(x);h.children&&h.children.length>0&&(rt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Ey(h.children,e,S,E,y)),!(h.path==null&&!h.index)&&e.push({path:E,score:yx(E,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))l(h,p);else for(let y of Sy(h.path))l(h,p,!0,y)}),e}function Sy(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Sy(s.join("/")),p=[];return p.push(...h.map(y=>y===""?l:[l,y].join("/"))),o&&p.push(...h),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function cx(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:vx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var hx=/^:[\w-]+$/,dx=3,fx=2,px=1,mx=10,gx=-2,Fm=r=>r==="*";function yx(r,e){let t=r.split("/"),s=t.length;return t.some(Fm)&&(s+=gx),e&&(s+=fx),t.filter(o=>!Fm(o)).reduce((o,l)=>o+(hx.test(l)?dx:l===""?px:mx),s)}function vx(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function _x(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let p=0;p<s.length;++p){let y=s[p],v=p===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",E=Ru({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},x),S=y.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=Ru({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Rr([l,E.pathname]),pathnameBase:Ix(Rr([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=Rr([l,E.pathnameBase]))}return h}function Ru(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=xx(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:x,isOptional:E},S)=>{if(x==="*"){let F=p[S]||"";h=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const k=p[S];return E&&!k?v[x]=void 0:v[x]=(k||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function xx(r,e=!1,t=!0){ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Ex(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:t?t.startsWith("/")?t:Sx(t,e):e,search:Cx(s),hash:Ax(o)}}function Sx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $h(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tx(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ty(r){let e=Tx(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Iy(r,e,t,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),$h("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),$h("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),$h("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,p;if(h==null)p=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let y=Ex(o,p),v=h&&h!=="/"&&h.endsWith("/"),x=(l||h===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(v||x)&&(y.pathname+="/"),y}var Rr=r=>r.join("/").replace(/\/\/+/g,"/"),Ix=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ax=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Rx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cy=["POST","PUT","PATCH","DELETE"];new Set(Cy);var kx=["GET",...Cy];new Set(kx);var go=j.createContext(null);go.displayName="DataRouter";var Hu=j.createContext(null);Hu.displayName="DataRouterState";j.createContext(!1);var Ay=j.createContext({isTransitioning:!1});Ay.displayName="ViewTransition";var Px=j.createContext(new Map);Px.displayName="Fetchers";var Nx=j.createContext(null);Nx.displayName="Await";var ur=j.createContext(null);ur.displayName="Navigation";var Fa=j.createContext(null);Fa.displayName="Location";var Dr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Dd=j.createContext(null);Dd.displayName="RouteError";function bx(r,{relative:e}={}){rt(Ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(ur),{hash:o,pathname:l,search:h}=Ba(r,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Rr([t,l])),s.createHref({pathname:p,search:h,hash:o})}function Ua(){return j.useContext(Fa)!=null}function es(){return rt(Ua(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Fa).location}var Ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ky(r){j.useContext(ur).static||j.useLayoutEffect(r)}function jx(){let{isDataRoute:r}=j.useContext(Dr);return r?Hx():Dx()}function Dx(){rt(Ua(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(go),{basename:e,navigator:t}=j.useContext(ur),{matches:s}=j.useContext(Dr),{pathname:o}=es(),l=JSON.stringify(Ty(s)),h=j.useRef(!1);return ky(()=>{h.current=!0}),j.useCallback((y,v={})=>{if(ar(h.current,Ry),!h.current)return;if(typeof y=="number"){t.go(y);return}let x=Iy(y,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Rr([e,x.pathname])),(v.replace?t.replace:t.push)(x,v.state,v)},[e,t,l,o,r])}j.createContext(null);function Ba(r,{relative:e}={}){let{matches:t}=j.useContext(Dr),{pathname:s}=es(),o=JSON.stringify(Ty(t));return j.useMemo(()=>Iy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Vx(r,e){return Py(r,e)}function Py(r,e,t,s,o){rt(Ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(ur),{matches:h}=j.useContext(Dr),p=h[h.length-1],y=p?p.params:{},v=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let U=E&&E.path||"";Ny(v,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let S=es(),k;if(e){let U=typeof e=="string"?mo(e):e;rt(x==="/"||U.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${U.pathname}" was given in the \`location\` prop.`),k=U}else k=S;let F=k.pathname||"/",$=F;if(x!=="/"){let U=x.replace(/^\//,"").split("/");$="/"+F.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=wy(r,{pathname:$});ar(E||O!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ar(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Ux(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},y,U.params),pathname:Rr([x,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?x:Rr([x,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),h,t,s,o);return e&&K?j.createElement(Fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},K):K}function Ox(){let r=qx(),e=Rx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var Lx=j.createElement(Ox,null),Mx=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(Dr.Provider,{value:this.props.routeContext},j.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fx({routeContext:r,match:e,children:t}){let s=j.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Dr.Provider,{value:r},t)}function Ux(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t?.errors;if(h!=null){let v=l.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,y=-1;if(t)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=v),x.route.id){let{loaderData:E,errors:S}=t,k=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||k){p=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,x,E)=>{let S,k=!1,F=null,$=null;t&&(S=h&&x.route.id?h[x.route.id]:void 0,F=x.route.errorElement||Lx,p&&(y<0&&E===0?(Ny("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,$=null):y===E&&(k=!0,$=x.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,E+1)),K=()=>{let U;return S?U=F:k?U=$:x.route.Component?U=j.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=v,j.createElement(Fx,{match:x,routeContext:{outlet:v,matches:O,isDataRoute:t!=null},children:U})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?j.createElement(Mx,{location:t.location,revalidation:t.revalidation,component:F,error:S,children:K(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:s}):K()},null)}function Vd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(r){let e=j.useContext(go);return rt(e,Vd(r)),e}function zx(r){let e=j.useContext(Hu);return rt(e,Vd(r)),e}function $x(r){let e=j.useContext(Dr);return rt(e,Vd(r)),e}function Od(r){let e=$x(r),t=e.matches[e.matches.length-1];return rt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Wx(){return Od("useRouteId")}function qx(){let r=j.useContext(Dd),e=zx("useRouteError"),t=Od("useRouteError");return r!==void 0?r:e.errors?.[t]}function Hx(){let{router:r}=Bx("useNavigate"),e=Od("useNavigate"),t=j.useRef(!1);return ky(()=>{t.current=!0}),j.useCallback(async(o,l={})=>{ar(t.current,Ry),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Um={};function Ny(r,e,t){!e&&!Um[r]&&(Um[r]=!0,ar(!1,t))}j.memo(Gx);function Gx({routes:r,future:e,state:t,unstable_onError:s}){return Py(r,void 0,t,s,e)}function Ki(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kx({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){rt(!Ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=mo(t));let{pathname:y="/",search:v="",hash:x="",state:E=null,key:S="default"}=t,k=j.useMemo(()=>{let F=Pr(y,h);return F==null?null:{location:{pathname:F,search:v,hash:x,state:E,key:S},navigationType:s}},[h,y,v,x,E,S,s]);return ar(k!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(ur.Provider,{value:p},j.createElement(Fa.Provider,{children:e,value:k}))}function Qx({children:r,location:e}){return Vx(od(r),e)}function od(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,od(s.props.children,l));return}rt(s.type===Ki,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=od(s.props.children,l)),t.push(h)}),t}var _u="get",xu="application/x-www-form-urlencoded";function Gu(r){return r!=null&&typeof r.tagName=="string"}function Yx(r){return Gu(r)&&r.tagName.toLowerCase()==="button"}function Xx(r){return Gu(r)&&r.tagName.toLowerCase()==="form"}function Jx(r){return Gu(r)&&r.tagName.toLowerCase()==="input"}function Zx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ew(r,e){return r.button===0&&(!e||e==="_self")&&!Zx(r)}var cu=null;function tw(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wh(r){return r!=null&&!nw.has(r)?(ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):r}function rw(r,e){let t,s,o,l,h;if(Xx(r)){let p=r.getAttribute("action");s=p?Pr(p,e):null,t=r.getAttribute("method")||_u,o=Wh(r.getAttribute("enctype"))||xu,l=new FormData(r)}else if(Yx(r)||Jx(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(s=y?Pr(y,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||_u,o=Wh(r.getAttribute("formenctype"))||Wh(p.getAttribute("enctype"))||xu,l=new FormData(p,r),!tw()){let{name:v,type:x,value:E}=r;if(x==="image"){let S=v?`${v}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else v&&l.append(v,E)}}else{if(Gu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_u,s=null,o=xu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ld(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function iw(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function sw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ow(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aw(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await sw(l,t);return h.links?h.links():[]}return[]}));return hw(s.flat(1).filter(ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bm(r,e,t,s,o,l){let h=(y,v)=>t[v]?y.route.id!==t[v].route.id:!0,p=(y,v)=>t[v].pathname!==y.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,v)=>h(y,v)||p(y,v)):l==="data"?e.filter((y,v)=>{let x=s.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(h(y,v)||p(y,v))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lw(r,e,{includeHydrateFallback:t}={}){return uw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function uw(r){return[...new Set(r)]}function cw(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function hw(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(cw(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function by(){let r=j.useContext(go);return Ld(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dw(){let r=j.useContext(Hu);return Ld(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Md=j.createContext(void 0);Md.displayName="FrameworkContext";function jy(){let r=j.useContext(Md);return Ld(r,"You must render this element inside a <HydratedRouter> element"),r}function fw(r,e){let t=j.useContext(Md),[s,o]=j.useState(!1),[l,h]=j.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:v,onMouseLeave:x,onTouchStart:E}=e,S=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=K=>{K.forEach(U=>{h(U.isIntersecting)})},O=new IntersectionObserver($,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:ya(p,k),onBlur:ya(y,F),onMouseEnter:ya(v,k),onMouseLeave:ya(x,F),onTouchStart:ya(E,k)}]:[!1,S,{}]}function ya(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function pw({page:r,...e}){let{router:t}=by(),s=j.useMemo(()=>wy(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(gw,{page:r,matches:s,...e}):null}function mw(r){let{manifest:e,routeModules:t}=jy(),[s,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return aw(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function gw({page:r,matches:e,...t}){let s=es(),{manifest:o,routeModules:l}=jy(),{basename:h}=by(),{loaderData:p,matches:y}=dw(),v=j.useMemo(()=>Bm(r,e,y,o,s,"data"),[r,e,y,o,s]),x=j.useMemo(()=>Bm(r,e,y,o,s,"assets"),[r,e,y,o,s]),E=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,$=!1;if(e.forEach(K=>{let U=o.routes[K.route.id];!U||!U.hasLoader||(!v.some(G=>G.route.id===K.route.id)&&K.route.id in p&&l[K.route.id]?.shouldRevalidate||U.hasClientLoader?$=!0:F.add(K.route.id))}),F.size===0)return[];let O=iw(r,h,"data");return $&&F.size>0&&O.searchParams.set("_routes",e.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[O.pathname+O.search]},[h,p,s,o,v,e,r,l]),S=j.useMemo(()=>lw(x,o),[x,o]),k=mw(x);return j.createElement(j.Fragment,null,E.map(F=>j.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),S.map(F=>j.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),k.map(({key:F,link:$})=>j.createElement("link",{key:F,nonce:t.nonce,...$})))}function yw(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dy&&(window.__reactRouterVersion="7.8.2")}catch{}function vw({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=sx({window:t,v5Compat:!0}));let o=s.current,[l,h]=j.useState({action:o.action,location:o.location}),p=j.useCallback(y=>{j.startTransition(()=>h(y))},[h]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(Kx,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var Vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oy=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:p,target:y,to:v,preventScrollReset:x,viewTransition:E,...S},k){let{basename:F}=j.useContext(ur),$=typeof v=="string"&&Vy.test(v),O,K=!1;if(typeof v=="string"&&$&&(O=v,Dy))try{let C=new URL(window.location.href),P=v.startsWith("//")?new URL(C.protocol+v):new URL(v),D=Pr(P.pathname,F);P.origin===C.origin&&D!=null?v=D+P.search+P.hash:K=!0}catch{ar(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=bx(v,{relative:o}),[G,Q,ae]=fw(s,S),ce=Ew(v,{replace:h,state:p,target:y,preventScrollReset:x,relative:o,viewTransition:E});function b(C){e&&e(C),C.defaultPrevented||ce(C)}let I=j.createElement("a",{...S,...ae,href:O||U,onClick:K||l?e:b,ref:yw(k,Q),target:y,"data-discover":!$&&t==="render"?"true":void 0});return G&&!$?j.createElement(j.Fragment,null,I,j.createElement(pw,{page:U})):I});Oy.displayName="Link";var _w=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:p,children:y,...v},x){let E=Ba(h,{relative:v.relative}),S=es(),k=j.useContext(Hu),{navigator:F,basename:$}=j.useContext(ur),O=k!=null&&Aw(E)&&p===!0,K=F.encodeLocation?F.encodeLocation(E).pathname:E.pathname,U=S.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(U=U.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&$&&(G=Pr(G,$)||G);const Q=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=U===K||!o&&U.startsWith(K)&&U.charAt(Q)==="/",ce=G!=null&&(G===K||!o&&G.startsWith(K)&&G.charAt(K.length)==="/"),b={isActive:ae,isPending:ce,isTransitioning:O},I=ae?e:void 0,C;typeof s=="function"?C=s(b):C=[s,ae?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(b):l;return j.createElement(Oy,{...v,"aria-current":I,className:C,ref:x,style:P,to:h,viewTransition:p},typeof y=="function"?y(b):y)});_w.displayName="NavLink";var xw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=_u,action:p,onSubmit:y,relative:v,preventScrollReset:x,viewTransition:E,...S},k)=>{let F=Iw(),$=Cw(p,{relative:v}),O=h.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&Vy.test(p),U=G=>{if(y&&y(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,ae=Q?.getAttribute("formmethod")||h;F(Q||G.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:v,preventScrollReset:x,viewTransition:E})};return j.createElement("form",{ref:k,method:O,action:$,onSubmit:s?y:U,...S,"data-discover":!K&&r==="render"?"true":void 0})});xw.displayName="Form";function ww(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ly(r){let e=j.useContext(go);return rt(e,ww(r)),e}function Ew(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let p=jx(),y=es(),v=Ba(r,{relative:l});return j.useCallback(x=>{if(ew(x,e)){x.preventDefault();let E=t!==void 0?t:Ra(y)===Ra(v);p(r,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[y,p,v,t,s,e,r,o,l,h])}var Sw=0,Tw=()=>`__${String(++Sw)}__`;function Iw(){let{router:r}=Ly("useSubmit"),{basename:e}=j.useContext(ur),t=Wx();return j.useCallback(async(s,o={})=>{let{action:l,method:h,encType:p,formData:y,body:v}=rw(s,e);if(o.navigate===!1){let x=o.fetcherKey||Tw();await r.fetch(x,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function Cw(r,{relative:e}={}){let{basename:t}=j.useContext(ur),s=j.useContext(Dr);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ba(r||".",{relative:e})},h=es();if(r==null){l.search=h.search;let p=new URLSearchParams(l.search),y=p.getAll("index");if(y.some(x=>x==="")){p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();l.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Rr([t,l.pathname])),Ra(l)}function Aw(r,{relative:e}={}){let t=j.useContext(Ay);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ly("useViewTransitionState"),o=Ba(r,{relative:e});if(!t.isTransitioning)return!1;let l=Pr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Pr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ru(o.pathname,h)!=null||Ru(o.pathname,l)!=null}const Rw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(3e3),[l,h]=j.useState(4e3),[p,y]=j.useState(!1),[v,x]=j.useState(3e3/4e3),E=[{platform:"Instagram Presets",icon:"",sizes:[{name:"Square Post",width:1080,height:1080},{name:"Story",width:1080,height:1920},{name:"Reel",width:1080,height:1920},{name:"IGTV Cover",width:420,height:654}]},{platform:"Facebook Presets",icon:"",sizes:[{name:"Post",width:1200,height:630},{name:"Cover Photo",width:820,height:312},{name:"Story",width:1080,height:1920},{name:"Event Cover",width:1920,height:1080}]},{platform:"X (Twitter) Presets",icon:"",sizes:[{name:"Post Image",width:1200,height:675},{name:"Header",width:1500,height:500},{name:"Card Image",width:800,height:418},{name:"Profile Photo",width:400,height:400}]},{platform:"Discord Presets",icon:"",sizes:[{name:"Server Icon",width:512,height:512},{name:"Banner",width:960,height:540},{name:"Emoji",width:128,height:128},{name:"Splash",width:1920,height:1080}]}],[S,k]=j.useState({instagram:!1,facebook:!1,twitter:!1,discord:!1}),F=Q=>k(ae=>({...ae,[Q]:!ae[Q]})),$=(Q,ae)=>{o(Q),h(ae),x(Q/ae),console.log(`Applied preset: ${Q}x${ae}`)},O=Q=>{o(Q),p&&h(Math.round(Q/v))},K=Q=>{h(Q),p&&o(Math.round(Q*v))},U=()=>{o(3e3),h(4e3),x(3e3/4e3)},G=()=>{p||x(s/l),y(!p)};return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Social Media Resize"}),d.jsx("p",{children:"Perfect sizes for Instagram, Facebook, Twitter and Discord"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[E.map((Q,ae)=>{const ce=Q.platform.toLowerCase().split(" ")[0];return d.jsxs("div",{children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>F(ce),children:[d.jsx("div",{className:"tool-icon",children:Q.icon}),d.jsx("div",{className:"tool-info",children:d.jsx("h3",{children:Q.platform})}),d.jsx("span",{className:`expand-arrow ${S[ce]?"expanded":""}`,children:""})]}),S[ce]&&d.jsx("div",{className:"tool-content",children:d.jsx("div",{className:"preset-grid",children:Q.sizes.map((b,I)=>d.jsxs("button",{className:"preset-btn",type:"button",onClick:()=>$(b.width,b.height),children:[d.jsx("div",{className:"preset-name",children:b.name}),d.jsxs("div",{className:"preset-size",children:[b.width,"  ",b.height]})]},I))})})]},ae)}),d.jsxs("div",{className:"custom-resize-section",style:{marginTop:"1rem"},children:[d.jsxs("div",{className:"tool-header",children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsx("div",{className:"tool-info",children:d.jsx("h3",{children:"Custom Size"})})]}),d.jsxs("div",{className:"tool-content",children:[d.jsxs("div",{className:"slider-controls",children:[d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:"Width"}),d.jsxs("span",{className:"slider-value",children:[s,"px"]})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:100,max:8e3,value:s,onChange:Q=>O(parseInt(Q.target.value))})]}),d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:"Height"}),d.jsxs("span",{className:"slider-value",children:[l,"px"]})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:100,max:8e3,value:l,onChange:Q=>K(parseInt(Q.target.value))})]})]}),d.jsx("div",{style:{margin:"1rem 0"},children:d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[d.jsx("input",{type:"checkbox",checked:p,onChange:G}),d.jsx("span",{children:" Lock aspect ratio"})]})}),d.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[d.jsx("button",{className:"tool-button",type:"button",style:{flex:1},children:" Apply"}),d.jsx("button",{className:"tool-button",type:"button",style:{flex:1,background:"#6b7280",color:"white"},onClick:U,children:" Reset"})]})]})]})]}):d.jsxs("div",{className:"processing-status",children:[d.jsx("div",{className:"status-message",children:"Upload an image to enable resizing."}),d.jsx("div",{className:"status-hint",children:"Use the uploader above."})]})})]})},kw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(0),[l,h]=j.useState(0),[p,y]=j.useState(0),v=()=>{o(0),h(0),y(0)},x=[{name:"Vintage",icon:""},{name:"Vibrant",icon:""},{name:"Dramatic",icon:""},{name:"Dreamy",icon:""},{name:"Blur",icon:""},{name:"Sharp",icon:""}],E=[{name:"Grayscale",icon:""},{name:"Sepia",icon:""}];return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Color & Filter Tools"}),d.jsx("p",{children:"Professional filters, adjustments, and effects"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tool-header",children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsx("div",{className:"tool-info",children:d.jsx("h3",{children:"Fine-Tune Adjustments"})})]}),d.jsxs("div",{className:"tool-content",children:[d.jsxs("div",{className:"slider-controls",children:[d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:" Brightness"}),d.jsx("span",{className:"slider-value",children:s})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:-100,max:100,value:s,onChange:S=>o(parseInt(S.target.value))})]}),d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:" Contrast"}),d.jsx("span",{className:"slider-value",children:l})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:-100,max:100,value:l,onChange:S=>h(parseInt(S.target.value))})]}),d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:" Saturation"}),d.jsx("span",{className:"slider-value",children:p})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:-100,max:100,value:p,onChange:S=>y(parseInt(S.target.value))})]})]}),d.jsx("button",{className:"tool-button",type:"button",onClick:v,style:{marginTop:"1rem",background:"#6b7280"},children:"Reset All"})]}),d.jsxs("div",{className:"tool-header",style:{marginTop:"1rem"},children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsx("div",{className:"tool-info",children:d.jsx("h3",{children:"Creative Filters"})})]}),d.jsx("div",{className:"tool-content",children:d.jsx("div",{className:"filter-grid",children:x.map(S=>d.jsxs("button",{className:"filter-btn",type:"button",children:[d.jsx("div",{className:"filter-preview",children:S.icon}),S.name]},S.name))})}),d.jsxs("div",{className:"tool-header",style:{marginTop:"1rem"},children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsx("div",{className:"tool-info",children:d.jsx("h3",{children:"Black & White"})})]}),d.jsx("div",{className:"tool-content",children:d.jsx("div",{className:"filter-grid",children:E.map(S=>d.jsxs("button",{className:"filter-btn",type:"button",children:[d.jsx("div",{className:"filter-preview",children:S.icon}),S.name]},S.name))})})]}):d.jsxs("div",{className:"processing-status",children:[d.jsx("div",{className:"status-message",children:"Upload an image to enable filters."}),d.jsx("div",{className:"status-hint",children:"Use the uploader above."})]})})]})},Pw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(""),l=["PNG","JPG","JPEG","WebP","BMP","TIFF"];return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Format Converter"}),d.jsx("p",{children:"Convert between PNG, JPG, WebP, BMP, and TIFF formats"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"format-description",style:{marginBottom:"1rem"},children:d.jsx("p",{children:"Select a format to convert your image:"})}),d.jsx("div",{className:"format-buttons",children:l.map(h=>d.jsx("button",{className:`format-btn ${s===h?"active":""}`,type:"button",onClick:()=>o(h),children:h},h))}),d.jsxs("button",{className:"tool-button",type:"button",disabled:!s,style:{marginTop:"1rem",opacity:s?1:.5},children:[" Convert to ",s||"Format"]})]}):d.jsx("div",{className:"processing-status",children:d.jsx("div",{className:"status-message",children:"Upload an image to convert formats."})})})]})},Nw=({hasImage:r})=>{const[e,t]=j.useState(!1);return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"AI Background Removal"}),d.jsx("p",{children:"Nextgen AI  Hairsafe edges  Studio quality results"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",fontWeight:"600",color:"#667eea"},children:" Smart subject detection + polish layer"}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" AI automatically detects the subject"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Crisp hair & fur edges"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Auto contrast and edge enhancement"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Postprocessing cleanup & recovery"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Zero manual selection required"})]})]}),d.jsx("button",{className:"tool-button",type:"button",children:" SMART Background Removal"})]}):d.jsx("div",{className:"processing-status",children:d.jsx("div",{className:"status-message",children:"Upload an image to remove the background."})})})]})},bw=()=>{const[r,e]=j.useState(!1);return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>e(!r),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Batch Resizer"}),d.jsx("p",{children:"Resize multiple images"})]}),d.jsx("div",{className:`expand-arrow ${r?"expanded":""}`,children:""})]}),r&&d.jsxs("div",{className:"tool-content",children:[d.jsxs("div",{className:"batch-upload-area upload-zone",style:{marginBottom:12},children:[d.jsx("div",{className:"upload-icon",children:""}),d.jsx("div",{className:"upload-text",children:"Drop multiple images here"}),d.jsx("div",{className:"upload-hint",children:"No upload yet  UI shell only"})]}),d.jsxs("div",{className:"custom-resize-section",children:[d.jsx("h4",{style:{color:"#ffffff"},children:"Target Size"}),d.jsxs("div",{className:"input-group",style:{marginBottom:"12px"},children:[d.jsx("label",{style:{color:"#ffffff"},children:"Width"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"number",placeholder:"800",style:{flex:1}}),d.jsx("span",{className:"unit",children:"px"})]})]}),d.jsxs("div",{className:"input-group",style:{marginBottom:"12px"},children:[d.jsx("label",{style:{color:"#ffffff"},children:"Height"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"number",placeholder:"600",style:{flex:1}}),d.jsx("span",{className:"unit",children:"px"})]})]})]}),d.jsx("div",{style:{margin:"1rem 0"},children:d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",color:"#ffffff"},children:[d.jsx("input",{type:"checkbox"}),d.jsx("span",{children:" Lock aspect ratio"})]})}),d.jsx("button",{className:"tool-button",type:"button",children:"Process Batch"})]})]})},jw=({hasImage:r})=>{const[e,t]=j.useState(!1);return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Watermark Remover"}),d.jsx("p",{children:"Remove watermarks"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"},children:" AI-powered watermark detection"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"},children:" Intelligent content-aware fill"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",marginBottom:"0.5rem"},children:" Preserves image quality"}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Works on text and logo watermarks"})]}),d.jsx("button",{className:"tool-button",type:"button",children:"Remove Watermark"})]}):d.jsx("div",{className:"processing-status",children:d.jsx("div",{className:"status-message",children:"Upload an image to remove watermarks."})})})]})},Dw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(null),[l,h]=j.useState(null),[p,y]=j.useState(0),[v,x]=j.useState(3),[E,S]=j.useState(10),[k,F]=j.useState(320),$=U=>{const G=U.target.files[0];if(G&&G.type.startsWith("video/")){l&&URL.revokeObjectURL(l),o(G);const Q=URL.createObjectURL(G);h(Q),console.log("Video uploaded:",G.name)}},O=Math.round(v*E),K=Math.round(k*k*v*E/1e3);return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"GIF Creator"}),d.jsx("p",{children:"Create animated GIFs from videos and image sequences"})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[d.jsx("input",{id:"video-input",type:"file",accept:"video/*",onChange:$,style:{display:"none"}}),d.jsx("button",{className:"tool-button",type:"button",style:{marginBottom:"1rem"},onClick:()=>document.getElementById("video-input").click(),children:"Choose Video File"}),d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.5rem"},children:" Video Preview"}),s?d.jsx("video",{controls:!0,style:{width:"100%",maxHeight:"200px",borderRadius:"8px",background:"#333333"},src:l}):d.jsx("div",{style:{background:"#333333",padding:"1rem",borderRadius:"8px",fontSize:"0.875rem",color:"#cccccc",textAlign:"center"},children:"No video selected"})]}),d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.75rem"},children:" GIF Settings"}),d.jsxs("div",{className:"input-group",style:{marginBottom:"0.75rem"},children:[d.jsxs("label",{style:{color:"#ffffff"},children:[" Start Time: ",p,"s"]}),d.jsx("input",{type:"range",min:0,max:5,step:.1,value:p,onChange:U=>y(Number(U.target.value)),className:"adjustment-slider"})]}),d.jsxs("div",{className:"input-group",style:{marginBottom:"0.75rem"},children:[d.jsxs("label",{style:{color:"#ffffff"},children:[" Duration: ",v,"s"]}),d.jsx("input",{type:"range",min:1,max:10,step:.1,value:v,onChange:U=>x(Number(U.target.value)),className:"adjustment-slider"})]}),d.jsxs("div",{className:"input-group",style:{marginBottom:"0.75rem"},children:[d.jsxs("label",{style:{color:"#ffffff"},children:[" Frame Rate: ",E," fps"]}),d.jsx("input",{type:"range",min:5,max:30,value:E,onChange:U=>S(Number(U.target.value)),className:"adjustment-slider"})]}),d.jsxs("div",{className:"input-group",style:{marginBottom:"1rem"},children:[d.jsxs("label",{style:{color:"#ffffff"},children:[" Width: ",k,"px"]}),d.jsx("input",{type:"range",min:160,max:800,step:10,value:k,onChange:U=>F(Number(U.target.value)),className:"adjustment-slider"})]})]}),d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.5rem"},children:" GIF Preview:"}),d.jsxs("div",{style:{background:"#333333",padding:"1rem",borderRadius:"8px",fontSize:"0.875rem",color:"#cccccc"},children:[d.jsxs("div",{children:["Size: ",k,"",k,"px"]}),d.jsxs("div",{children:["Frames: ~",O," frames"]}),d.jsxs("div",{children:["Est. Size: ~",K,"KB"]})]})]}),d.jsx("button",{className:"tool-button",type:"button",children:"Create GIF"})]}):d.jsx("div",{className:"processing-status",children:d.jsx("div",{className:"status-message",children:"Upload an image (or short video) to create a GIF."})})})]})},Vw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(!1),[l,h]=j.useState(!1),[p,y]=j.useState({strength:60,detail:40,smooth:35,eyes:30,teeth:20,light:0,tone:0,blemish:50}),[v,x]=j.useState({keepShape:!0,keepBg:!0,artifactGuard:!0}),E=$=>O=>y(K=>({...K,[$]:Number(O.target.value)})),S=()=>y({strength:60,detail:40,smooth:35,eyes:30,teeth:20,light:0,tone:0,blemish:50}),k=$=>{if(!r)return;const O={"Natural Cleanup":{strength:40,detail:60,smooth:25,eyes:20,teeth:15,light:5,tone:0,blemish:30},"Blemish Remover":{strength:80,detail:40,smooth:70,eyes:30,teeth:25,light:5,tone:0,blemish:90},"Detail Restore":{strength:50,detail:85,smooth:15,eyes:25,teeth:10,light:0,tone:0,blemish:20},"Professional Polish":{strength:65,detail:70,smooth:40,eyes:45,teeth:30,light:15,tone:0,blemish:50}};O[$]&&y(O[$])},F=()=>{!r||s||(o(!0),h(!1),setTimeout(()=>{o(!1),h(!0),setTimeout(()=>h(!1),3e3)},1200))};return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),role:"button",tabIndex:"0","aria-expanded":e,children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Face Fixer"}),d.jsx("p",{children:"Clean up portraits, restore details, and enhance eyes/skin."})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[l&&d.jsx("div",{className:"success-notification",style:{marginBottom:"1rem"},children:d.jsx("div",{className:"success-message",children:"Face enhanced successfully!"})}),d.jsx("div",{className:"filter-grid",style:{marginBottom:"1rem"},children:["Natural Cleanup","Blemish Remover","Detail Restore","Professional Polish"].map($=>d.jsxs("button",{className:"filter-btn",type:"button",onClick:()=>k($),disabled:s,children:[d.jsx("div",{className:"filter-preview",children:""}),$]},$))}),d.jsxs("div",{className:"adjustment-section",children:[d.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.75rem"},children:"Quick Adjustments"}),d.jsx("div",{className:"slider-controls",children:[[" Overall Strength","strength",0,100],[" Detail Level","detail",0,100],[" Smoothness","smooth",0,100]].map(([$,O,K,U])=>d.jsxs("div",{className:"slider-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:$}),d.jsx("span",{className:"slider-value",children:p[O]})]}),d.jsx("input",{className:"adjustment-slider",type:"range",min:K,max:U,value:p[O],onChange:E(O),disabled:s})]},O))}),d.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginTop:"8px",fontStyle:"italic"},children:" Tip: Use presets above for best results, then fine-tune here if needed"})]}),d.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[d.jsx("button",{className:`tool-button ${s?"processing":""}`,type:"button",onClick:F,disabled:s,"aria-busy":s,style:{flex:2},children:s?" Enhancing Face...":" Fix Face"}),d.jsx("button",{className:"tool-button",type:"button",onClick:S,disabled:s,style:{flex:1,background:"#6b7280",color:"white"},children:" Reset"})]}),s&&d.jsxs("div",{className:"processing-status",style:{marginTop:"1rem"},children:[d.jsx("div",{className:"status-message",children:"Enhancing face..."}),d.jsx("div",{className:"status-hint",children:"This can take a few seconds."})]})]}):d.jsxs("div",{className:"processing-status",children:[d.jsx("div",{className:"status-message",children:"Upload an image to enable Face Fixer."}),d.jsx("div",{className:"status-hint",children:"Use the uploader above."})]})})]})},zm=r=>encodeURIComponent(r&&r.trim()?r.trim():"_"),qh=(r,e,t)=>{if(!r||typeof r!="string")throw new Error(`Invalid template ID: ${r}`);return`https://api.memegen.link/images/${r}/${zm(e)}/${zm(t)}.jpg`},Ow=({onExit:r})=>{const[e,t]=j.useState(1),[s,o]=j.useState([]),[l,h]=j.useState([]),[p,y]=j.useState(""),[v,x]=j.useState(null),[E,S]=j.useState(""),[k,F]=j.useState(""),[$,O]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const I=(await(await fetch("https://api.memegen.link/templates/")).json()).map(C=>({id:C.id,name:C.name,thumbnail:C.blank,url:C.blank,keywords:C.keywords||[]})).filter((C,P,D)=>P===D.findIndex(M=>M.id===C.id));o(I),h(I),console.log("Loaded templates from Memegen API:",I.length),console.log("First few templates:",I.slice(0,3))}catch(ae){console.error("Failed to load templates from Memegen API:",ae);const ce=[{id:"drake",name:"Drake Pointing",thumbnail:"https://api.memegen.link/images/drake/_.jpg",url:"https://api.memegen.link/images/drake/_.jpg",keywords:["drake","pointing","choice"]},{id:"db",name:"Distracted Boyfriend",thumbnail:"https://api.memegen.link/images/db/_.jpg",url:"https://api.memegen.link/images/db/_.jpg",keywords:["distracted","choice","girlfriend"]},{id:"fry",name:"Futurama Fry",thumbnail:"https://api.memegen.link/images/fry/_.jpg",url:"https://api.memegen.link/images/fry/_.jpg",keywords:["fry","not","sure"]},{id:"woman-cat",name:"Woman Yelling at Cat",thumbnail:"https://api.memegen.link/images/woman-cat/_.jpg",url:"https://api.memegen.link/images/woman-cat/_.jpg",keywords:["woman","cat","yelling"]},{id:"fine",name:"This is Fine",thumbnail:"https://api.memegen.link/images/fine/_.jpg",url:"https://api.memegen.link/images/fine/_.jpg",keywords:["fine","fire","dog"]},{id:"morpheus",name:"Matrix Morpheus",thumbnail:"https://api.memegen.link/images/morpheus/_.jpg",url:"https://api.memegen.link/images/morpheus/_.jpg",keywords:["morpheus","matrix","what","if"]}];o(ce),h(ce),console.log("Using fallback templates:",ce.length),console.log("Fallback templates:",ce)}finally{O(!1)}})()},[]),j.useEffect(()=>{if(!p.trim())h(s);else{const Q=p.toLowerCase(),ae=s.filter(ce=>ce.name.toLowerCase().includes(Q)||ce.keywords.some(b=>b.toLowerCase().includes(Q)));h(ae)}},[p,s]);const K=Q=>{console.log("Template selected:",Q),Q&&typeof Q.id=="string"?(x(Q),t(2)):console.error("Invalid template object:",Q)},U=async()=>{try{if(!v||!v.id)throw new Error("No template selected");const Q=v.id;if(typeof Q!="string"||Q.length<2||/^\d+$/.test(Q))throw console.error("Invalid template ID detected:",Q,"Template:",v),new Error(`Invalid template ID: ${Q}. Please try a different template.`);console.log("Selected template for meme generation:",v);const ae=qh(Q,E,k);console.log("Generating meme with URL:",ae);const ce=await fetch(ae,{mode:"cors",headers:{Accept:"image/png, image/jpeg, image/*"}});if(!ce.ok)throw console.error(`Failed to fetch meme: ${ce.status} ${ce.statusText}`),console.error("URL that failed:",ae),new Error(`HTTP error! status: ${ce.status} - ${ce.statusText}`);const b=await ce.blob();if(!b.type.startsWith("image/"))throw new Error(`Expected image, got ${b.type}`);const I=window.URL.createObjectURL(b),C=document.createElement("a");C.href=I,C.download=`meme-${v.name.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(I),console.log("Meme downloaded successfully!"),t(1),x(null),S(""),F(""),y("")}catch(Q){console.error("Failed to generate meme:",Q),alert(`Failed to download meme: ${Q.message}

Please try again or choose a different template.`)}},G=()=>{r()};return d.jsxs("div",{className:"simple-meme-creator",children:[d.jsxs("div",{className:"meme-header",children:[d.jsxs("div",{className:"meme-title",children:[d.jsx("h2",{children:" Meme Creator"}),d.jsxs("div",{className:"step-indicator",children:[d.jsx("span",{className:e>=1?"active":"",children:"1. Template"}),d.jsx("span",{className:e>=2?"active":"",children:"2. Text"}),d.jsx("span",{className:e>=3?"active":"",children:"3. Download"})]})]}),d.jsx("button",{className:"exit-btn",onClick:r,children:" Exit"})]}),d.jsxs("div",{className:"meme-content",children:[e===1&&d.jsxs("div",{className:"step-content",children:[d.jsx("h3",{children:"Choose a Meme Template"}),d.jsx("div",{className:"back-to-editor-section",children:d.jsx("button",{className:"back-to-editor-btn",onClick:r,children:" Back to Main Editor"})}),d.jsx("div",{className:"search-section",children:d.jsx("input",{type:"text",placeholder:"Search templates... (e.g. 'drake', 'pikachu', 'distracted')",value:p,onChange:Q=>y(Q.target.value),className:"template-search"})}),$?d.jsxs("div",{className:"loading-grid",children:[d.jsx("div",{className:"loading-message",children:"Loading templates from Memegen..."}),Array.from({length:12}).map((Q,ae)=>d.jsx("div",{className:"template-skeleton"},ae))]}):d.jsx("div",{className:"template-gallery",children:l.length===0?d.jsxs("div",{className:"no-results",children:[d.jsxs("p",{children:['No templates found for "',p,'"']}),d.jsx("button",{onClick:()=>y(""),className:"clear-search",children:"Show All Templates"})]}):l.map(Q=>d.jsxs("button",{className:"template-card-large",onClick:()=>K(Q),children:[d.jsx("img",{src:Q.thumbnail,alt:Q.name}),d.jsx("span",{className:"template-name",children:Q.name})]},Q.id))})]}),e===2&&v&&d.jsxs("div",{className:"step-content",children:[d.jsx("h3",{children:"Add Your Text"}),d.jsxs("div",{className:"text-editor",children:[d.jsx("div",{className:"preview-section",children:d.jsx("div",{className:"meme-preview",children:d.jsx("img",{src:qh(v.id,E,k),alt:v.name,onError:Q=>{Q.target.src=v.url}})})}),d.jsxs("div",{className:"text-controls",children:[d.jsxs("div",{className:"text-input",children:[d.jsx("label",{children:"Top Text"}),d.jsx("input",{type:"text",value:E,onChange:Q=>S(Q.target.value),placeholder:"Enter top text..."})]}),d.jsxs("div",{className:"text-input",children:[d.jsx("label",{children:"Bottom Text"}),d.jsx("input",{type:"text",value:k,onChange:Q=>F(Q.target.value),placeholder:"Enter bottom text..."})]}),d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"back-btn",onClick:()=>t(1),children:" Back"}),d.jsx("button",{className:"next-btn",onClick:()=>t(3),disabled:!E&&!k,children:"Preview "})]})]})]})]}),e===3&&v&&d.jsxs("div",{className:"step-content",children:[d.jsx("h3",{children:"Your Meme is Ready!"}),d.jsxs("div",{className:"final-preview",children:[d.jsx("div",{className:"meme-preview large",children:d.jsx("img",{src:qh(v.id,E,k),alt:v.name,onError:Q=>{Q.target.src=v.url}})}),d.jsxs("div",{className:"download-controls",children:[d.jsx("button",{className:"back-btn",onClick:()=>t(2),children:" Edit Text"}),d.jsx("button",{className:"download-btn",onClick:U,children:" Download & Make Another"}),d.jsx("button",{className:"return-btn",onClick:G,children:" Return to Canvas"})]}),d.jsx("div",{className:"download-info",children:d.jsx("p",{children:" Download will save your meme and let you create another one!"})})]})]})]})]})},Lw=({hasImage:r,onOpenFullWorkspace:e})=>{const[t,s]=j.useState(!1);return t?d.jsx(Ow,{onExit:()=>s(!1)}):d.jsx("div",{className:"tool-card",children:d.jsxs("div",{className:"tool-header clickable",onClick:()=>s(!0),children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Meme Creator"}),d.jsx("p",{children:"Easy 3-step meme maker with popular templates"})]}),d.jsx("div",{className:"expand-arrow",children:""})]})})},Mw=({hasImage:r})=>{const[e,t]=j.useState(!1),[s,o]=j.useState(!1),[l,h]=j.useState(!1),[p,y]=j.useState({stripAll:!0,stripGps:!0}),[v,x]=j.useState({blurFaces:!1,blurPlates:!1,redactText:!1,scrubCodes:!1,showOverlay:!1}),[E,S]=j.useState({faces:55,plates:60,text:65}),k=U=>()=>y(G=>({...G,[U]:!G[U]})),F=U=>()=>x(G=>({...G,[U]:!G[U]})),$=U=>{U==="Social Share Safe"&&(y({stripAll:!0,stripGps:!0}),x({blurFaces:!1,blurPlates:!1,redactText:!1,scrubCodes:!1,showOverlay:!1}),S({faces:55,plates:60,text:65})),U==="Public Post (High Privacy)"&&(y({stripAll:!0,stripGps:!0}),x({blurFaces:!0,blurPlates:!0,redactText:!0,scrubCodes:!0,showOverlay:!0}),S({faces:65,plates:70,text:70})),U==="Marketplace Listing"&&(y({stripAll:!0,stripGps:!0}),x({blurFaces:!1,blurPlates:!0,redactText:!1,scrubCodes:!0,showOverlay:!1}),S({faces:55,plates:65,text:60})),U==="Legal/Docs"&&(y({stripAll:!0,stripGps:!0}),x({blurFaces:!1,blurPlates:!1,redactText:!0,scrubCodes:!0,showOverlay:!0}),S({faces:55,plates:60,text:85}))},O=()=>{y({stripAll:!0,stripGps:!0}),x({blurFaces:!1,blurPlates:!1,redactText:!1,scrubCodes:!1,showOverlay:!1}),S({faces:55,plates:60,text:65}),h(!1)},K=()=>{!r||s||(o(!0),h(!1),setTimeout(()=>{o(!1),h(!0),setTimeout(()=>h(!1),1800)},1200))};return d.jsxs("div",{className:"tool-card",children:[d.jsxs("div",{className:"tool-header clickable",onClick:()=>t(!e),role:"button",tabIndex:"0","aria-expanded":e,children:[d.jsx("div",{className:"tool-icon",children:""}),d.jsxs("div",{className:"tool-info",children:[d.jsx("h3",{children:"Privacy Cleaner"}),d.jsx("p",{children:"Strip metadata and blur/redact sensitive info before sharing."})]}),d.jsx("div",{className:`expand-arrow ${e?"expanded":""}`,children:""})]}),e&&d.jsx("div",{className:"tool-content",children:r?d.jsxs(d.Fragment,{children:[l&&d.jsx("div",{className:"success-notification",style:{marginBottom:"1rem"},children:d.jsx("div",{className:"success-message",children:"Privacy-safe copy ready."})}),d.jsx("div",{className:"filter-grid",style:{marginBottom:"1rem"},children:["Social Share Safe","Public Post (High Privacy)","Marketplace Listing","Legal/Docs"].map(U=>d.jsxs("button",{className:"filter-btn",type:"button",onClick:()=>$(U),disabled:s,children:[d.jsx("div",{className:"filter-preview",children:""}),U]},U))}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:[["Strip EXIF/IPTC/XMP","stripAll","",p.stripAll,k("stripAll")],["Remove GPS/Location","stripGps","",p.stripGps,k("stripGps")]].map(([U,G,Q,ae,ce])=>d.jsxs("button",{type:"button",className:`filter-btn ${ae?"active":""}`,onClick:ce,disabled:s,style:{background:ae?"var(--primary-500)":"var(--surface-secondary)",color:ae?"white":"var(--text-primary)",borderColor:ae?"var(--primary-500)":"var(--border-light)"},children:[d.jsx("div",{className:"filter-preview",children:Q}),U]},G))}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:[["Blur Faces","blurFaces","",v.blurFaces,F("blurFaces")],["Blur License Plates","blurPlates","",v.blurPlates,F("blurPlates")],["Redact Text","redactText","",v.redactText,F("redactText")],["Scrub QR/Barcodes","scrubCodes","",v.scrubCodes,F("scrubCodes")],["Show Detections Overlay","showOverlay","",v.showOverlay,F("showOverlay")]].map(([U,G,Q,ae,ce])=>d.jsxs("button",{type:"button",className:`filter-btn ${ae?"active":""}`,onClick:ce,disabled:s,style:{background:ae?"var(--primary-500)":"var(--surface-secondary)",color:ae?"white":"var(--text-primary)",borderColor:ae?"var(--primary-500)":"var(--border-light)"},children:[d.jsx("div",{className:"filter-preview",children:Q}),U]},G))}),d.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[d.jsx("button",{className:`tool-button ${s?"processing":""}`,type:"button",onClick:K,disabled:s,"aria-busy":s,style:{flex:2},children:s?" Cleaning":" Clean Image"}),d.jsx("button",{className:"tool-button",type:"button",onClick:O,disabled:s,style:{flex:1,background:"#6b7280",color:"white"},children:" Reset"})]}),s&&d.jsxs("div",{className:"processing-status",style:{marginTop:"1rem"},children:[d.jsx("div",{className:"status-message",children:"Cleaning"}),d.jsx("div",{className:"status-hint",children:"Removing metadata and redacting sensitive regions."})]})]}):d.jsxs("div",{className:"processing-status",children:[d.jsx("div",{className:"status-message",children:"Upload an image to enable Privacy Cleaner."}),d.jsx("div",{className:"status-hint",children:"Use the uploader above."})]})})]})},Fw=({onImageUpload:r,onOpenMemeCreator:e})=>{const t=new URL(window.location.href),s=(t.pathname||"").replace(/\/+$/,""),l=!(/(^|\/)(app\/trial|trial)(\/|$)/.test(s)||t.searchParams.get("mode")==="trial")&&localStorage.getItem("proLicenseActive")==="true",h=!l,[p,y]=j.useState(!1),[v,x]=j.useState(""),E=S=>{console.log("File input changed!");const k=S.target.files[0];k&&(console.log("File selected:",k.name),y(!0),x(k.name),r&&r(k))};return d.jsx("aside",{className:"premium-sidebar",children:d.jsxs("div",{className:"sidebar-content",children:[d.jsx("header",{className:"sidebar-header",style:{marginTop:"60px",paddingTop:"1rem"},children:d.jsx("h1",{className:"app-title",children:"Image Editor"})}),d.jsxs("section",{className:"upload-section",children:[d.jsxs("div",{className:"section-title",children:[d.jsx("span",{className:"status-dot upload"}),"Upload Image"]}),d.jsxs("div",{className:"upload-zone",onClick:()=>document.getElementById("file-input").click(),children:[d.jsx("div",{className:"upload-icon",children:""}),d.jsx("div",{className:"upload-text",children:"Drop your image here or click to browse"}),d.jsx("div",{className:"upload-hint",children:"Supports JPG, PNG, GIF, WebP"}),d.jsxs("div",{className:"upload-info",children:[d.jsx("p",{children:" Max file size: 50MB"}),d.jsx("p",{children:" Best quality: Use PNG for graphics, JPG for photos"}),d.jsx("p",{children:" All processing happens locally in your browser"})]})]}),d.jsx("input",{id:"file-input",type:"file",accept:"image/*",onChange:E,style:{display:"none"}}),p&&d.jsxs("div",{style:{marginTop:"10px",color:"#10b981"},children:[" ",v," loaded"]})]}),p&&!h&&d.jsxs("div",{style:{padding:"1rem",flex:1},children:[d.jsx(Rw,{hasImage:p}),d.jsx(kw,{hasImage:p}),d.jsx(Pw,{hasImage:p}),d.jsx(Nw,{hasImage:p}),d.jsx(bw,{hasImage:p}),d.jsx(jw,{hasImage:p}),d.jsx(Dw,{hasImage:p}),d.jsx(Vw,{hasImage:p}),d.jsx(Lw,{hasImage:p,onOpenFullWorkspace:e}),d.jsx(Mw,{hasImage:p})]}),h&&d.jsxs("section",{className:"upgrade-section",children:[d.jsxs("div",{className:"upgrade-card",children:[d.jsx("h3",{children:"Unlock Premium Features"}),d.jsx("p",{children:"Unlimited background removal, batch resize, watermark removal, GIFs, and more."}),d.jsx("button",{className:"upgrade-button",onClick:()=>window.location.href="/checkout",children:"Upgrade to Pro"})]}),d.jsxs("div",{style:{marginTop:"20px",color:"#f59e42",fontSize:"14px",textAlign:"center"},children:[d.jsx("b",{children:"Trial Mode:"})," Limited to 3 images per day, watermark on output, and restricted access to premium tools."]})]}),!l&&!h&&d.jsx("section",{className:"upgrade-section",children:d.jsxs("div",{className:"upgrade-card",children:[d.jsx("h3",{children:"Unlock Premium Features"}),d.jsx("p",{children:"Unlimited background removal, batch resize, watermark removal, GIFs, and more."}),d.jsx("button",{className:"upgrade-button",onClick:()=>window.location.href="/checkout",children:"Upgrade to Pro"})]})}),l&&d.jsx("div",{className:"pro-user-spacer","aria-hidden":"true"})]})})},Uw=({onExit:r,zoom:e,onZoomChange:t,onExport:s})=>{const o=[{value:.5,label:"Fit"},{value:.5,label:"50%"},{value:.75,label:"75%"},{value:1,label:"100%"},{value:1.5,label:"150%"},{value:2,label:"200%"}];return d.jsxs("div",{className:"meme-top-toolbar",children:[d.jsxs("div",{className:"toolbar-left",children:[d.jsx("button",{className:"toolbar-btn primary",onClick:r,children:" Back to Editor"}),d.jsx("button",{className:"toolbar-btn",disabled:!0,title:"Coming soon",children:"Undo"}),d.jsx("button",{className:"toolbar-btn",disabled:!0,title:"Coming soon",children:"Redo"})]}),d.jsx("div",{className:"toolbar-center",children:d.jsx("select",{className:"zoom-select",value:e,onChange:l=>t(Number(l.target.value)),children:o.map(l=>d.jsx("option",{value:l.value,children:l.label},l.label))})}),d.jsx("div",{className:"toolbar-right",children:d.jsx("button",{className:"toolbar-btn primary",onClick:s,children:"Export"})})]})},Bw=[{id:"drake",title:"Drake Pointing",previewUrl:"https://api.memegen.link/images/drake.png",aspectRatio:1,source:"memegen",tags:["classic","reaction","choice"]},{id:"distracted_bf",title:"Distracted Boyfriend",previewUrl:"https://api.memegen.link/images/distracted_bf.png",aspectRatio:1.5,source:"memegen",tags:["classic","relationship","choice"]},{id:"one_does_not_simply",title:"One Does Not Simply",previewUrl:"https://api.memegen.link/images/one_does_not_simply.png",aspectRatio:1,source:"memegen",tags:["classic","lotr","advice"]},{id:"gru",title:"Gru's Plan",previewUrl:"https://api.memegen.link/images/gru.png",aspectRatio:.75,source:"memegen",tags:["classic","plan","fail"]},{id:"change_my_mind",title:"Change My Mind",previewUrl:"https://api.memegen.link/images/change_my_mind.png",aspectRatio:1.33,source:"memegen",tags:["classic","opinion","debate"]},{id:"two_buttons",title:"Two Buttons",previewUrl:"https://api.memegen.link/images/two_buttons.png",aspectRatio:1,source:"memegen",tags:["classic","choice","decision"]},{id:"always_has_been",title:"Always Has Been",previewUrl:"https://api.memegen.link/images/always_has_been.png",aspectRatio:1.33,source:"memegen",tags:["space","revelation","astronaut"]},{id:"left_exit_12_off_ramp",title:"Left Exit 12 Off Ramp",previewUrl:"https://api.memegen.link/images/left_exit_12_off_ramp.png",aspectRatio:1.5,source:"memegen",tags:["choice","decision","car"]},{id:"boardroom_meeting_suggestion",title:"Boardroom Meeting Suggestion",previewUrl:"https://api.memegen.link/images/boardroom_meeting_suggestion.png",aspectRatio:1.33,source:"memegen",tags:["business","meeting","suggestion"]},{id:"expanding_brain",title:"Expanding Brain",previewUrl:"https://api.memegen.link/images/expanding_brain.png",aspectRatio:.75,source:"memegen",tags:["brain","evolution","smart"]},{id:"woman_yelling_at_cat",title:"Woman Yelling at Cat",previewUrl:"https://images.pexels.com/photos/1181690/pexels-photo-1181690.jpeg?auto=compress&cs=tinysrgb&w=400&h=300",aspectRatio:1.33,source:"mock",tags:["reaction","argument","cat"]},{id:"this_is_fine",title:"This is Fine",previewUrl:"https://images.pexels.com/photos/1181345/pexels-photo-1181345.jpeg?auto=compress&cs=tinysrgb&w=400&h=400",aspectRatio:1,source:"mock",tags:["fire","calm","disaster"]},{id:"blank_1x1",title:"Blank Square",previewUrl:"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=400&h=400",aspectRatio:1,source:"mock",tags:["blank","custom","square"]},{id:"blank_16x9",title:"Blank Landscape",previewUrl:"https://images.pexels.com/photos/1040881/pexels-photo-1040881.jpeg?auto=compress&cs=tinysrgb&w=400&h=225",aspectRatio:1.78,source:"mock",tags:["blank","custom","landscape"]},{id:"blank_9x16",title:"Blank Portrait",previewUrl:"https://images.pexels.com/photos/1181244/pexels-photo-1181244.jpeg?auto=compress&cs=tinysrgb&w=225&h=400",aspectRatio:.56,source:"mock",tags:["blank","custom","portrait","story"]}],zw=async()=>(await new Promise(r=>setTimeout(r,500)),Bw),$w=({onSelectTemplate:r,selectedTemplate:e})=>{const[t,s]=j.useState([]),[o,l]=j.useState(""),[h,p]=j.useState([]),[y,v]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const F=await zw();s(F)}catch(F){console.error("Failed to load templates:",F)}finally{v(!1)}})()},[]);const x=[...new Set(t.flatMap(k=>k.tags))],E=t.filter(k=>{const F=k.title.toLowerCase().includes(o.toLowerCase()),$=h.length===0||h.some(O=>k.tags.includes(O));return F&&$}),S=k=>{p(F=>F.includes(k)?F.filter($=>$!==k):[...F,k])};return y?d.jsxs("div",{className:"template-browser",children:[d.jsx("div",{className:"browser-header",children:d.jsx("div",{className:"search-skeleton"})}),d.jsx("div",{className:"template-grid",children:Array.from({length:8}).map((k,F)=>d.jsxs("div",{className:"template-card skeleton",children:[d.jsx("div",{className:"template-thumb skeleton-thumb"}),d.jsx("div",{className:"template-title skeleton-text"})]},F))})]}):d.jsxs("div",{className:"template-browser",children:[d.jsxs("div",{className:"browser-header",children:[d.jsx("input",{type:"text",placeholder:"Search templates...",value:o,onChange:k=>l(k.target.value),className:"search-input"}),d.jsx("div",{className:"tag-filters",children:x.map(k=>d.jsx("button",{className:`tag-chip ${h.includes(k)?"active":""}`,onClick:()=>S(k),children:k},k))})]}),d.jsx("div",{className:"template-grid",children:E.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("p",{children:"No templates match your search"})]}):E.map(k=>d.jsxs("button",{className:`template-card ${e?.id===k.id?"selected":""}`,onClick:()=>r(k),children:[d.jsx("img",{src:k.previewUrl,alt:k.title,className:"template-thumb",loading:"lazy"}),d.jsx("div",{className:"template-title",children:k.title})]},k.id))})]})},Ww=({canvas:r,layers:e,selection:t,zoom:s,onChange:o,onSelect:l})=>d.jsx("section",{className:"meme-stage",children:d.jsx("div",{className:"stage-surface",children:d.jsx("div",{className:"stage-canvas",role:"img","aria-label":"Meme canvas",children:e.map(h=>d.jsx("div",{className:`mc-layer ${t===h.id?"selected":""}`,style:{left:h.x,top:h.y},onClick:()=>l(h.id),children:h.type==="text"?d.jsx("div",{className:"mc-text",style:{fontFamily:h.font||"Impact, Arial Black, sans-serif",color:h.fill||"#fff",WebkitTextStroke:`${h.strokeWidth||2}px ${h.stroke||"#000"}`,textTransform:h.allCaps?"uppercase":"none",textAlign:h.align||"center"},children:h.text||"YOUR TEXT"}):d.jsx("img",{src:h.src,alt:""})},h.id))})})}),qw=({layers:r,selectedLayer:e,onUpdateLayer:t,onAddLayer:s,onDeleteLayer:o})=>{const l=r.find(E=>E.id==="top"),h=r.find(E=>E.id==="bottom"),p=(E,S)=>{t(E,{text:S})},y=(E,S)=>{e&&t(e.id,{[E]:S})},v=(E,S)=>{e&&t(e.id,{shadow:{...e.shadow,[E]:S}})},x=()=>{const E={id:`layer-${Date.now()}`,text:"NEW TEXT",x:50,y:50,width:200,height:60,fontFamily:"Impact",fontSize:48,lineHeight:1.1,letterSpacing:0,fill:"#ffffff",stroke:"#000000",strokeWidth:2,shadow:{enabled:!1,dx:2,dy:2,blur:4,opacity:.8},align:"center",caps:"upper"};s(E)};return d.jsxs("div",{className:"caption-controls",children:[d.jsxs("div",{className:"control-section",children:[d.jsx("h3",{children:"Text Content"}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Top Text"}),d.jsx("textarea",{value:l?.text||"",onChange:E=>p("top",E.target.value),placeholder:"TOP TEXT",rows:2})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Bottom Text"}),d.jsx("textarea",{value:h?.text||"",onChange:E=>p("bottom",E.target.value),placeholder:"BOTTOM TEXT",rows:2})]}),d.jsx("button",{className:"add-text-btn",onClick:x,children:"+ Add Text Layer"})]}),e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"control-section",children:[d.jsx("h3",{children:"Typography"}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Font Family"}),d.jsxs("select",{value:e.fontFamily,onChange:E=>y("fontFamily",E.target.value),children:[d.jsx("option",{value:"Impact",children:"Impact"}),d.jsx("option",{value:"Arial Black",children:"Arial Black"}),d.jsx("option",{value:"Anton",children:"Anton"}),d.jsx("option",{value:"Montserrat",children:"Montserrat"}),d.jsx("option",{value:"Inter",children:"Inter"})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Size: ",e.fontSize,"px"]}),d.jsx("input",{type:"range",min:"12",max:"180",value:e.fontSize,onChange:E=>y("fontSize",Number(E.target.value))})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Line Height: ",e.lineHeight]}),d.jsx("input",{type:"range",min:"0.8",max:"2.0",step:"0.1",value:e.lineHeight,onChange:E=>y("lineHeight",Number(E.target.value))})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Letter Spacing: ",e.letterSpacing,"px"]}),d.jsx("input",{type:"range",min:"-5",max:"20",value:e.letterSpacing,onChange:E=>y("letterSpacing",Number(E.target.value))})]}),d.jsxs("div",{className:"button-group",children:[d.jsx("button",{className:`style-btn ${e.caps==="upper"?"active":""}`,onClick:()=>y("caps",e.caps==="upper"?"none":"upper"),children:"CAPS"}),d.jsx("button",{className:`style-btn ${e.align==="left"?"active":""}`,onClick:()=>y("align","left"),children:"L"}),d.jsx("button",{className:`style-btn ${e.align==="center"?"active":""}`,onClick:()=>y("align","center"),children:"C"}),d.jsx("button",{className:`style-btn ${e.align==="right"?"active":""}`,onClick:()=>y("align","right"),children:"R"})]})]}),d.jsxs("div",{className:"control-section",children:[d.jsx("h3",{children:"Style"}),d.jsxs("div",{className:"color-row",children:[d.jsxs("div",{className:"color-input",children:[d.jsx("label",{children:"Fill"}),d.jsx("input",{type:"color",value:e.fill,onChange:E=>y("fill",E.target.value)})]}),d.jsxs("div",{className:"color-input",children:[d.jsx("label",{children:"Outline"}),d.jsx("input",{type:"color",value:e.stroke,onChange:E=>y("stroke",E.target.value)})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Outline Width: ",e.strokeWidth,"px"]}),d.jsx("input",{type:"range",min:"0",max:"10",value:e.strokeWidth,onChange:E=>y("strokeWidth",Number(E.target.value))})]}),d.jsx("div",{className:"checkbox-group",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:e.shadow.enabled,onChange:E=>v("enabled",E.target.checked)}),"Drop Shadow"]})}),e.shadow.enabled&&d.jsxs("div",{className:"shadow-controls",children:[d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["X Offset: ",e.shadow.dx,"px"]}),d.jsx("input",{type:"range",min:"-20",max:"20",value:e.shadow.dx,onChange:E=>v("dx",Number(E.target.value))})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Y Offset: ",e.shadow.dy,"px"]}),d.jsx("input",{type:"range",min:"-20",max:"20",value:e.shadow.dy,onChange:E=>v("dy",Number(E.target.value))})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Blur: ",e.shadow.blur,"px"]}),d.jsx("input",{type:"range",min:"0",max:"20",value:e.shadow.blur,onChange:E=>v("blur",Number(E.target.value))})]}),d.jsxs("div",{className:"input-group",children:[d.jsxs("label",{children:["Opacity: ",Math.round(e.shadow.opacity*100),"%"]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.shadow.opacity,onChange:E=>v("opacity",Number(E.target.value))})]})]})]}),d.jsxs("div",{className:"control-section",children:[d.jsx("h3",{children:"Layer Actions"}),d.jsx("button",{className:"delete-btn",onClick:()=>o(e.id),disabled:e.id==="top"||e.id==="bottom",children:"Delete Layer"})]})]})]})},Hw=({layers:r,selectedLayerId:e,onUpdateLayer:t,onAddLayer:s,onDeleteLayer:o})=>{const l=r.find(h=>h.id===e);return d.jsx("div",{className:"meme-right-panel",children:d.jsx(qw,{layers:r,selectedLayer:l,onUpdateLayer:t,onAddLayer:s,onDeleteLayer:o})})},Gw=({onClose:r,template:e})=>{const t=[{id:"png",name:"PNG",desc:"Best quality, transparent background support"},{id:"jpg",name:"JPG",desc:"Smaller file size, good for sharing"},{id:"webp",name:"WebP",desc:"Modern format, excellent compression"}];return d.jsx("div",{className:"export-modal-overlay",onClick:r,children:d.jsxs("div",{className:"export-modal",onClick:s=>s.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Export Meme"}),d.jsx("button",{className:"close-btn",onClick:r,children:""})]}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"export-info",children:[d.jsxs("p",{children:["Template: ",e?.title||"No template selected"]}),d.jsxs("p",{children:["Size: ",e?`${Math.round(800*e.aspectRatio)}800px`:"Unknown"]})]}),d.jsxs("div",{className:"format-selection",children:[d.jsx("h3",{children:"Choose Format"}),d.jsx("div",{className:"format-grid",children:t.map(s=>d.jsxs("button",{className:"format-card disabled",disabled:!0,title:"Backend not connected",children:[d.jsx("div",{className:"format-name",children:s.name}),d.jsx("div",{className:"format-desc",children:s.desc})]},s.id))})]}),d.jsxs("div",{className:"export-actions",children:[d.jsx("button",{className:"export-btn disabled",disabled:!0,title:"Backend not connected",children:"Export Meme"}),d.jsx("button",{className:"cancel-btn",onClick:r,children:"Close"})]})]})]})})},$m=()=>[{id:"top",text:"TOP TEXT",x:50,y:20,width:300,height:60,fontFamily:"Impact",fontSize:48,lineHeight:1.1,letterSpacing:0,fill:"#ffffff",stroke:"#000000",strokeWidth:2,shadow:{enabled:!1,dx:2,dy:2,blur:4,opacity:.8},align:"center",caps:"upper"},{id:"bottom",text:"BOTTOM TEXT",x:50,y:320,width:300,height:60,fontFamily:"Impact",fontSize:48,lineHeight:1.1,letterSpacing:0,fill:"#ffffff",stroke:"#000000",strokeWidth:2,shadow:{enabled:!1,dx:2,dy:2,blur:4,opacity:.8},align:"center",caps:"upper"}],Kw=()=>{const[r,e]=j.useState({activeTemplate:null,layers:$m(),selectedLayerId:null,zoom:1,showExportPanel:!1}),t=j.useCallback(v=>{e(x=>({...x,activeTemplate:v,layers:$m(),selectedLayerId:null}))},[]),s=j.useCallback((v,x)=>{e(E=>({...E,layers:E.layers.map(S=>S.id===v?{...S,...x}:S)}))},[]),o=j.useCallback(v=>{e(x=>({...x,layers:[...x.layers,v],selectedLayerId:v.id}))},[]),l=j.useCallback(v=>{e(x=>({...x,layers:x.layers.filter(E=>E.id!==v),selectedLayerId:x.selectedLayerId===v?null:x.selectedLayerId}))},[]),h=j.useCallback(v=>{e(x=>({...x,selectedLayerId:v}))},[]),p=j.useCallback(v=>{e(x=>({...x,zoom:v}))},[]),y=j.useCallback(v=>{e(x=>({...x,showExportPanel:v}))},[]);return{state:r,setActiveTemplate:t,updateLayer:s,addLayer:o,deleteLayer:l,selectLayer:h,setZoom:p,showExportPanel:r.showExportPanel,setShowExportPanel:y}},Qw=({onExit:r})=>{const{state:e,setActiveTemplate:t,updateLayer:s,addLayer:o,deleteLayer:l,selectLayer:h,setZoom:p,showExportPanel:y,setShowExportPanel:v}=Kw();return d.jsxs("div",{className:"meme-creator-workspace",children:[d.jsx(Uw,{onExit:r,zoom:e.zoom,onZoomChange:p,onExport:()=>v(!0)}),d.jsxs("div",{className:"meme-main-content",children:[d.jsx($w,{onSelectTemplate:t,selectedTemplate:e.activeTemplate}),d.jsx(Ww,{template:e.activeTemplate,layers:e.layers,selectedLayerId:e.selectedLayerId,zoom:e.zoom,onSelectLayer:h,onUpdateLayer:s}),d.jsx(Hw,{layers:e.layers,selectedLayerId:e.selectedLayerId,onUpdateLayer:s,onAddLayer:o,onDeleteLayer:l})]}),y&&d.jsx(Gw,{onClose:()=>v(!1),template:e.activeTemplate})]})},Hh=()=>{const r=new URL(window.location.href),e=(r.pathname||"").replace(/\/+$/,""),t=/(^|\/)(app\/trial|trial)(\/|$)/.test(e)||r.searchParams.get("mode")==="trial";try{t&&(localStorage.removeItem("proLicenseActive"),localStorage.setItem("userMode","trial"))}catch{}const s=!t&&localStorage.getItem("proLicenseActive")==="true",o=!s,[l,h]=j.useState(!1),[p,y]=j.useState(null),[v,x]=j.useState(null),[E,S]=j.useState(null),k=F=>{if(console.log("App received image upload:",F?.name),h(!!F),y(F),F){const $=URL.createObjectURL(F);x($)}else x(null)};return d.jsxs("div",{className:"app",children:[d.jsxs("header",{className:"app-header",children:[d.jsx("div",{className:"header-left",children:d.jsxs("div",{className:"logo",children:[d.jsx("span",{className:"logo-icon",children:""}),d.jsxs("span",{className:"logo-text",children:["Image Editor ",s?d.jsx("span",{className:"pro-text",children:"Pro"}):o?d.jsx("span",{className:"trial-text",children:"Trial"}):null]})]})}),d.jsx("div",{className:"header-center",children:!o&&d.jsx("button",{className:"add-tools-btn",children:" Add More Tools"})}),d.jsx("div",{className:"header-right",children:s?d.jsx("span",{className:"pro-badge-header",children:" PRO USER"}):o?d.jsx("span",{className:"trial-badge-header",children:" TRIAL USER"}):null})]}),d.jsx(Fw,{hasProLicense:s,isTrial:o,onImageUpload:k,onOpenMemeCreator:()=>S("meme-creator")}),E==="meme-creator"?d.jsx(Qw,{onExit:()=>S(null)}):d.jsx("main",{className:"main-content",children:d.jsxs("div",{className:"image-panels",children:[d.jsxs("div",{className:"image-panel original",children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("span",{className:"panel-icon",children:""}),d.jsx("span",{className:"panel-title",children:"Original"})]}),d.jsx("div",{className:"panel-content",children:l?d.jsx("img",{src:v,alt:"Original",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px"}}):d.jsx("div",{className:"placeholder-text",children:"Upload an image to get started"})})]}),d.jsxs("div",{className:"image-panel processed",children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("span",{className:"panel-icon",children:""}),d.jsx("span",{className:"panel-title",children:"Processed"})]}),d.jsx("div",{className:"panel-content",children:d.jsx("div",{className:"placeholder-text",children:"Processed image will appear here after using a tool"})})]})]})})]})};function Yw(){const[r,e]=j.useState(null),[t,s]=j.useState(0),[o,l]=j.useState(null),[h,p]=j.useState(0),y=[{emoji:"",name:"AI Background Removal",description:"Smart auto-detection removes backgrounds with precision"},{emoji:"",name:"Batch Resizer",description:"Process multiple images simultaneously with custom dimensions"},{emoji:"",name:"Watermark Remover",description:"AI-powered inpainting removes watermarks and text overlays"},{emoji:"",name:"GIF Creator",description:"Create animated GIFs with custom timing and effects"},{emoji:"",name:"Premium Filters",description:"Professional color grading and artistic filters"},{emoji:"",name:"Format Converter",description:"Convert between all image formats with optimization"},{emoji:"",name:"Smart Resize",description:"Social media presets with perfect quality"},{emoji:"",name:"AI Face Fixer",description:"Restore blurry faces with AI enhancement and detail reconstruction"},{emoji:"",name:"AI Meme Generator",description:"Create viral memes with templates and AI-generated humor"},{emoji:"",name:"AI Privacy Cleaner",description:"Auto-blur faces, plates, and sensitive content for privacy"}],v=[{quote:'"SnapForge supercharged my workflow and saved me hours!"',author:" Alex R."},{quote:'"Offline support and AI tools are simply next level."',author:" Maya P."},{quote:`"It's a must-have for any content creator."`,author:" John S."},{quote:'"The AI background removal is incredibly accurate!"',author:" Sarah K."},{quote:'"Finally, an image editor that works offline perfectly."',author:" Mike D."}];j.useEffect(()=>{const U=setInterval(()=>{s(G=>(G+1)%v.length)},4e3);return()=>clearInterval(U)},[v.length]),j.useEffect(()=>{const U=setInterval(()=>{p(G=>(G+1)%y.length)},3e3);return()=>clearInterval(U)},[y.length]);const x=()=>{s(U=>(U+1)%v.length)},E=()=>{s(U=>(U-1+v.length)%v.length)},S=()=>{window.location.href="/checkout"},k=()=>{window.location.href="/app/trial"},F=()=>{alert(" Opening contact... (Fiverr dev: implement contact system)")},$=()=>{window.location.href="/activate"},O=(U,G)=>({primary:{padding:"15px 30px",borderRadius:"25px",background:G?"linear-gradient(45deg, #f8fafc 0%, #e2e8f0 100%)":"white",color:"#7c3aed",border:"none",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transform:G?"translateY(-2px)":"none",boxShadow:G?"0 20px 40px rgba(255, 255, 255, 0.3), 0 0 20px rgba(124, 58, 237, 0.4)":"0 4px 15px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},secondary:{padding:"15px 30px",borderRadius:"10px",border:"2px solid white",background:G?"rgba(255, 255, 255, 0.1)":"transparent",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transform:G?"translateY(-2px)":"none",boxShadow:G?"0 15px 30px rgba(255, 255, 255, 0.2), 0 0 15px rgba(255, 255, 255, 0.3)":"none",transition:"all 0.3s ease"},cta:{padding:"15px 30px",borderRadius:"25px",background:G?"linear-gradient(45deg, #8b5cf6 0%, #3b82f6 100%)":"linear-gradient(45deg, #7c3aed 0%, #2563eb 100%)",color:"white",border:"none",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transform:G?"translateY(-2px) scale(1.05)":"none",boxShadow:G?"0 20px 40px rgba(124, 58, 237, 0.4), 0 0 25px rgba(37, 99, 235, 0.3)":"0 8px 20px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease"}})[U],K=U=>({background:U?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.1)",padding:"30px",borderRadius:"15px",backdropFilter:"blur(10px)",transform:U?"translateY(-8px)":"translateY(0)",boxShadow:U?"0 25px 50px rgba(255, 255, 255, 0.1), 0 0 30px rgba(124, 58, 237, 0.2), 0 0 60px rgba(37, 99, 235, 0.1)":"0 8px 20px rgba(0, 0, 0, 0.1)",transition:"all 0.4s ease",cursor:"pointer",border:U?"1px solid rgba(255, 255, 255, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"});return d.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #7c3aed 0%, #2563eb 100%)",color:"white",fontFamily:"Arial, sans-serif"},children:[d.jsxs("section",{style:{padding:"60px 20px",textAlign:"center"},children:[d.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",marginBottom:"20px"},children:"Your Personal AI-Powered Image Editor"}),d.jsx("p",{style:{fontSize:"20px",marginBottom:"30px"},children:"Resize, enhance, remove backgrounds all in one click."}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[d.jsx("button",{style:O("primary",r==="hero-primary"),onMouseEnter:()=>e("hero-primary"),onMouseLeave:()=>e(null),onClick:S,children:"Buy Pro  $29.00"}),d.jsx("button",{style:O("secondary",r==="hero-secondary"),onMouseEnter:()=>e("hero-secondary"),onMouseLeave:()=>e(null),onClick:k,children:"Try Free Trial"})]})]}),d.jsxs("section",{style:{padding:"60px 20px 40px",maxWidth:"1400px",margin:"0 auto"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"50px"},children:[d.jsx("h2",{style:{fontSize:"42px",fontWeight:"bold",marginBottom:"20px",color:"white",lineHeight:"1.2"},children:"Everything Included for Just $29"}),d.jsx("p",{style:{fontSize:"22px",color:"rgba(255, 255, 255, 0.8)",maxWidth:"700px",margin:"0 auto",lineHeight:"1.5"},children:"Get unlimited access to all 10 professional AI-powered image editing tools. No subscriptions, no hidden fees."})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px"},children:[d.jsxs("div",{style:K(o==="feature-1"),onMouseEnter:()=>l("feature-1"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"AI Background Removal"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Smart auto-detection removes backgrounds with precision. Human, animal, or object detection built-in."})]}),d.jsxs("div",{style:K(o==="feature-2"),onMouseEnter:()=>l("feature-2"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"Batch Resizer"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Process multiple images simultaneously with custom dimensions. Automatic ZIP download included."})]}),d.jsxs("div",{style:K(o==="feature-3"),onMouseEnter:()=>l("feature-3"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"Watermark Remover"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"AI-powered inpainting removes watermarks and text overlays while preserving image quality."})]}),d.jsxs("div",{style:K(o==="feature-4"),onMouseEnter:()=>l("feature-4"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"GIF Creator"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Create animated GIFs from multiple images with custom timing, effects, and optimization."})]}),d.jsxs("div",{style:K(o==="feature-5"),onMouseEnter:()=>l("feature-5"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"Premium Filters"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Professional color grading, vintage effects, and artistic filters for stunning results."})]}),d.jsxs("div",{style:K(o==="feature-6"),onMouseEnter:()=>l("feature-6"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"Format Converter"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Convert between all image formats (JPG, PNG, WebP, HEIC) with quality optimization."})]}),d.jsxs("div",{style:K(o==="feature-7"),onMouseEnter:()=>l("feature-7"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"Smart Resize"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Intelligent resizing with social media presets. Maintains quality and aspect ratios perfectly."})]}),d.jsxs("div",{style:K(o==="feature-8"),onMouseEnter:()=>l("feature-8"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"AI Face Fixer"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Restore blurry, pixelated faces with AI enhancement. Sharpen features, fix motion blur, enhance clarity."})]}),d.jsxs("div",{style:K(o==="feature-9"),onMouseEnter:()=>l("feature-9"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"AI Meme Generator"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Create viral memes instantly with trending templates and AI-generated humor suggestions."})]}),d.jsxs("div",{style:K(o==="feature-10"),onMouseEnter:()=>l("feature-10"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"32px",marginBottom:"15px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",marginBottom:"12px"},children:"AI Privacy Cleaner"}),d.jsx("p",{style:{lineHeight:"1.6"},children:"Auto-detect and blur faces, license plates, screens for instant privacy protection."})]})]}),d.jsxs("div",{style:{textAlign:"center",marginTop:"70px",padding:"50px 40px",background:"linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(37, 99, 235, 0.2))",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"900px",margin:"70px auto 0"},children:[d.jsx("h3",{style:{fontSize:"34px",marginBottom:"30px",color:"white",lineHeight:"1.3",fontWeight:"bold"},children:" Incredible Value: $29 One-Time Payment"}),d.jsxs("div",{style:{fontSize:"20px",color:"rgba(255, 255, 255, 0.9)",marginBottom:"40px",lineHeight:"1.7",maxWidth:"700px",margin:"0 auto 40px"},children:[d.jsxs("p",{style:{marginBottom:"20px"},children:[d.jsx("strong",{children:"Compare to other tools:"})," Background removal alone costs $9.99/month elsewhere."]}),d.jsxs("p",{style:{marginBottom:"0",fontSize:"22px",fontWeight:"500"},children:["You get ",d.jsx("strong",{children:"10 professional tools"})," with lifetime access for less than one month of competitors."]})]}),d.jsxs("div",{style:{margin:"40px 0",padding:"30px 20px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[d.jsx("div",{style:{position:"relative",height:"160px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:y.map((U,G)=>d.jsxs("div",{style:{position:"absolute",width:"100%",textAlign:"center",opacity:G===h?1:0,transform:`translateX(${(G-h)*100}%) scale(${G===h?1:.8})`,transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"0 20px"},children:[d.jsx("div",{style:{fontSize:"42px",marginBottom:"4px",filter:G===h?"none":"blur(1px)"},children:U.emoji}),d.jsx("h4",{style:{fontSize:"22px",color:"#40e0ff",margin:"0",fontWeight:"600",whiteSpace:"nowrap"},children:U.name}),d.jsx("p",{style:{fontSize:"15px",color:"rgba(255, 255, 255, 0.85)",margin:"0",maxWidth:"500px",lineHeight:"1.3",textAlign:"center"},children:U.description})]},G))}),d.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px"},children:y.map((U,G)=>d.jsx("button",{onClick:()=>p(G),style:{width:"12px",height:"12px",borderRadius:"50%",border:"none",background:G===h?"linear-gradient(45deg, #40e0ff, #7c3aed)":"rgba(255, 255, 255, 0.3)",cursor:"pointer",transition:"all 0.3s ease",transform:G===h?"scale(1.2)":"scale(1)",boxShadow:G===h?"0 0 12px rgba(64, 224, 255, 0.5)":"none"}},G))})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"25px",flexWrap:"wrap",marginTop:"35px"},children:[d.jsx("button",{style:{...O("cta",r==="value-cta"),fontSize:"18px",padding:"20px 40px",minWidth:"220px"},onMouseEnter:()=>e("value-cta"),onMouseLeave:()=>e(null),onClick:S,children:"Get All Tools for $29"}),d.jsx("button",{style:{...O("secondary",r==="value-trial"),fontSize:"18px",padding:"20px 40px",minWidth:"220px"},onMouseEnter:()=>e("value-trial"),onMouseLeave:()=>e(null),onClick:k,children:"Try Tools Free First"})]})]})]}),d.jsxs("section",{style:{padding:"40px 20px",textAlign:"center",overflow:"hidden"},children:[d.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",marginBottom:"30px"},children:"What Our Users Say"}),d.jsxs("div",{style:{position:"relative",maxWidth:"800px",margin:"0 auto",height:"200px",display:"flex",alignItems:"center"},children:[d.jsx("button",{onClick:E,style:{position:"absolute",left:"-20px",zIndex:2,background:"rgba(255, 255, 255, 0.2)",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"50%",width:"50px",height:"50px",color:"white",cursor:"pointer",fontSize:"18px",fontWeight:"bold",backdropFilter:"blur(10px)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.target.style.background="rgba(255, 255, 255, 0.3)",U.target.style.transform="scale(1.1)"},onMouseLeave:U=>{U.target.style.background="rgba(255, 255, 255, 0.2)",U.target.style.transform="scale(1)"},children:""}),d.jsx("div",{style:{display:"flex",transform:`translateX(-${t*100}%)`,transition:"transform 0.5s ease-in-out",width:"100%"},children:v.map((U,G)=>d.jsx("div",{style:{minWidth:"100%",padding:"0 20px",display:"flex",justifyContent:"center"},children:d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",padding:"40px 30px",borderRadius:"20px",backdropFilter:"blur(15px)",maxWidth:"600px",width:"100%",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[d.jsx("p",{style:{fontStyle:"italic",marginBottom:"20px",fontSize:"20px",lineHeight:"1.6",color:"#f8fafc"},children:U.quote}),d.jsx("footer",{style:{fontWeight:"bold",fontSize:"16px",color:"#e2e8f0"},children:U.author})]})},G))}),d.jsx("button",{onClick:x,style:{position:"absolute",right:"-20px",zIndex:2,background:"rgba(255, 255, 255, 0.2)",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"50%",width:"50px",height:"50px",color:"white",cursor:"pointer",fontSize:"18px",fontWeight:"bold",backdropFilter:"blur(10px)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.target.style.background="rgba(255, 255, 255, 0.3)",U.target.style.transform="scale(1.1)"},onMouseLeave:U=>{U.target.style.background="rgba(255, 255, 255, 0.2)",U.target.style.transform="scale(1)"},children:""})]}),d.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"30px"},children:v.map((U,G)=>d.jsx("button",{onClick:()=>s(G),style:{width:"12px",height:"12px",borderRadius:"50%",border:"none",background:G===t?"white":"rgba(255, 255, 255, 0.4)",cursor:"pointer",transition:"all 0.3s ease",transform:G===t?"scale(1.2)":"scale(1)"}},G))})]}),d.jsxs("section",{style:{padding:"40px 20px"},children:[d.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",textAlign:"center",marginBottom:"40px"},children:"Frequently Asked Questions"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px",maxWidth:"1400px",margin:"0 auto"},children:[d.jsxs("div",{style:{...K(o==="faq-1"),padding:"25px"},onMouseEnter:()=>l("faq-1"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"How does the free trial work?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:"You get 1 free use per tool, then it locks until you purchase. No session limits - just one-time trial per feature."})]}),d.jsxs("div",{style:{...K(o==="faq-2"),padding:"25px"},onMouseEnter:()=>l("faq-2"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Which platforms are supported?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:"Currently Windows is live. Mac and Linux coming soon, and mobile apps are being developed as we speak."})]}),d.jsxs("div",{style:{...K(o==="faq-3"),padding:"25px"},onMouseEnter:()=>l("faq-3"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"What AI tools are included?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:"Smart resize, background removal, auto-enhancement, GIF creation, and more AI-powered features all in one package."})]}),d.jsxs("div",{style:{...K(o==="faq-4"),padding:"25px"},onMouseEnter:()=>l("faq-4"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Is this really lifetime access?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:"Yes! One-time $29.00 payment unlocks all current and future features forever. No subscriptions, no recurring fees."})]}),d.jsxs("div",{style:{...K(o==="faq-5"),padding:"25px"},onMouseEnter:()=>l("faq-5"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Does it work offline?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:"Absolutely! Install as a desktop app and edit images completely offline. No internet required after installation."})]}),d.jsxs("div",{style:{...K(o==="faq-6"),padding:"25px"},onMouseEnter:()=>l("faq-6"),onMouseLeave:()=>l(null),children:[d.jsx("h4",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Can I upgrade later?"}),d.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0"},children:'Absolutely! Start with the free trial and click "Buy Pro" anytime to unlock unlimited access to all features.'})]})]})]}),d.jsx("section",{style:{padding:"40px 20px",display:"flex",justifyContent:"center"},children:d.jsxs("div",{style:{...K(o==="pricing"),textAlign:"center",borderRadius:"20px",maxWidth:"500px",width:"100%"},onMouseEnter:()=>l("pricing"),onMouseLeave:()=>l(null),children:[d.jsx("h3",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"30px"},children:"Choose Your Plan"}),d.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"30px",textAlign:"left"},children:[d.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[d.jsx("span",{children:"Free Trial"}),d.jsx("span",{children:"1 use per tool"})]}),d.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0"},children:[d.jsx("span",{children:"Pro License"}),d.jsx("span",{children:"Unlimited Forever"})]})]}),d.jsx("button",{style:O("cta",r==="pricing-primary"),onMouseEnter:()=>e("pricing-primary"),onMouseLeave:()=>e(null),onClick:S,children:"Buy Pro  $29.00"}),d.jsx("button",{style:{...O("secondary",r==="pricing-secondary"),width:"100%",marginTop:"15px"},onMouseEnter:()=>e("pricing-secondary"),onMouseLeave:()=>e(null),onClick:k,children:"Start Free Trial"})]})}),d.jsx("section",{style:{padding:"60px 20px",background:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(15px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:d.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:[d.jsx("h2",{style:{fontSize:"42px",fontWeight:"bold",marginBottom:"20px",background:"linear-gradient(45deg, #ffffff 0%, #e2e8f0 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Why 50,000+ Creators Choose SnapForge"}),d.jsx("p",{style:{fontSize:"20px",marginBottom:"50px",color:"#e2e8f0",maxWidth:"600px",margin:"0 auto 50px auto"},children:"The only image editor that combines AI power with true offline freedom"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px",marginBottom:"40px"},children:[d.jsxs("div",{style:{...K(o==="highlight-1"),padding:"40px 30px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)"},onMouseEnter:()=>l("highlight-1"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Lightning Fast"}),d.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",color:"#cbd5e1"},children:"Process images in milliseconds, not minutes. Our AI runs locally for instant results."})]}),d.jsxs("div",{style:{...K(o==="highlight-2"),padding:"40px 30px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)"},onMouseEnter:()=>l("highlight-2"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"100% Private"}),d.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",color:"#cbd5e1"},children:"Your images never leave your device. Complete privacy with offline AI processing."})]}),d.jsxs("div",{style:{...K(o==="highlight-3"),padding:"40px 30px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)"},onMouseEnter:()=>l("highlight-3"),onMouseLeave:()=>l(null),children:[d.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),d.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"15px",color:"#f8fafc"},children:"Pay Once, Own Forever"}),d.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",color:"#cbd5e1"},children:"No monthly fees, no feature locks. One payment unlocks everything, including future updates."})]})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"60px",flexWrap:"wrap",padding:"30px 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"20px"},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#ffffff",marginBottom:"5px"},children:"50K+"}),d.jsx("div",{style:{fontSize:"14px",color:"#cbd5e1",textTransform:"uppercase",letterSpacing:"1px"},children:"Happy Users"})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#ffffff",marginBottom:"5px"},children:"1M+"}),d.jsx("div",{style:{fontSize:"14px",color:"#cbd5e1",textTransform:"uppercase",letterSpacing:"1px"},children:"Images Processed"})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#ffffff",marginBottom:"5px"},children:"4.9/5"}),d.jsx("div",{style:{fontSize:"14px",color:"#cbd5e1",textTransform:"uppercase",letterSpacing:"1px"},children:"User Rating"})]})]})]})}),d.jsx("section",{style:{padding:"40px 20px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)",textAlign:"center"},children:d.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[d.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",marginBottom:"20px"},children:"Ready to unlock unlimited editing?"}),d.jsx("p",{style:{marginBottom:"30px",fontSize:"18px"},children:"Get lifetime access, offline support, and all AI features now."}),d.jsx("button",{style:{...O("cta",r==="final-cta"),padding:"20px 40px",fontSize:"18px"},onMouseEnter:()=>e("final-cta"),onMouseLeave:()=>e(null),onClick:S,children:"Buy Pro Now  $29.00"})]})}),d.jsxs("footer",{style:{padding:"30px 20px",textAlign:"center",background:"rgba(124, 58, 237, 0.5)"},children:[d.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[d.jsx("button",{style:{...O("secondary",r==="activate"),padding:"10px 20px",fontSize:"14px"},onMouseEnter:()=>e("activate"),onMouseLeave:()=>e(null),onClick:$,children:" Activate License"}),d.jsx("button",{style:{...O("secondary",r==="contact"),padding:"10px 20px",fontSize:"14px"},onMouseEnter:()=>e("contact"),onMouseLeave:()=>e(null),onClick:F,children:"Contact Support"})]}),d.jsx("p",{children:" 2025 SnapForge Team. All rights reserved."})]})]})}var Gh={exports:{}},Kh,Wm;function Xw(){if(Wm)return Kh;Wm=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kh=r,Kh}var Qh,qm;function Jw(){if(qm)return Qh;qm=1;var r=Xw();function e(){}function t(){}return t.resetWarningCache=e,Qh=function(){function s(h,p,y,v,x,E){if(E!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Qh}var Hm;function Zw(){return Hm||(Hm=1,Gh.exports=Jw()()),Gh.exports}var eE=Zw();const nt=bd(eE);function Gm(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Km(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gm(Object(t),!0).forEach(function(s){My(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Gm(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function wu(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(e){return typeof e}:wu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(r)}function My(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tE(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function nE(r,e){if(r==null)return{};var t=tE(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Fy(r,e){return rE(r)||iE(r,e)||sE(r,e)||oE()}function rE(r){if(Array.isArray(r))return r}function iE(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var s=[],o=!0,l=!1,h,p;try{for(t=t.call(r);!(o=(h=t.next()).done)&&(s.push(h.value),!(e&&s.length===e));o=!0);}catch(y){l=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw p}}return s}}function sE(r,e){if(r){if(typeof r=="string")return Qm(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qm(r,e)}}function Qm(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function oE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pn=function(e,t,s){var o=!!s,l=Le.useRef(s);Le.useEffect(function(){l.current=s},[s]),Le.useEffect(function(){if(!o||!e)return function(){};var h=function(){l.current&&l.current.apply(l,arguments)};return e.on(t,h),function(){e.off(t,h)}},[o,t,e,l])},ad=function(e){var t=Le.useRef(e);return Le.useEffect(function(){t.current=e},[e]),t.current},so=function(e){return e!==null&&wu(e)==="object"},aE=function(e){return so(e)&&typeof e.then=="function"},lE=function(e){return so(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Ym="[object Object]",uE=function r(e,t){if(!so(e)||!so(t))return e===t;var s=Array.isArray(e),o=Array.isArray(t);if(s!==o)return!1;var l=Object.prototype.toString.call(e)===Ym,h=Object.prototype.toString.call(t)===Ym;if(l!==h)return!1;if(!l&&!s)return e===t;var p=Object.keys(e),y=Object.keys(t);if(p.length!==y.length)return!1;for(var v={},x=0;x<p.length;x+=1)v[p[x]]=!0;for(var E=0;E<y.length;E+=1)v[y[E]]=!0;var S=Object.keys(v);if(S.length!==p.length)return!1;var k=e,F=t,$=function(K){return r(k[K],F[K])};return S.every($)},Uy=function(e,t,s){return so(e)?Object.keys(e).reduce(function(o,l){var h=!so(t)||!uE(e[l],t[l]);return s.includes(l)?(h&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):h?Km(Km({},o||{}),{},My({},l,e[l])):o},null):null},By="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Xm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:By;if(e===null||lE(e))return e;throw new Error(t)},cE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:By;if(aE(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(o){return Xm(o,t)})};var s=Xm(e,t);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},hE=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.1",url:"https://stripe.com/docs/stripe-js/react"}))},Ku=Le.createContext(null);Ku.displayName="ElementsContext";var zy=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},$y=function(e){var t=e.stripe,s=e.options,o=e.children,l=Le.useMemo(function(){return cE(t)},[t]),h=Le.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(s):null}}),p=Fy(h,2),y=p[0],v=p[1];Le.useEffect(function(){var S=!0,k=function($){v(function(O){return O.stripe?O:{stripe:$,elements:$.elements(s)}})};return l.tag==="async"&&!y.stripe?l.stripePromise.then(function(F){F&&S&&k(F)}):l.tag==="sync"&&!y.stripe&&k(l.stripe),function(){S=!1}},[l,y,s]);var x=ad(t);Le.useEffect(function(){x!==null&&x!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[x,t]);var E=ad(s);return Le.useEffect(function(){if(y.elements){var S=Uy(s,E,["clientSecret","fonts"]);S&&y.elements.update(S)}},[s,E,y.elements]),Le.useEffect(function(){hE(y.stripe)},[y.stripe]),Le.createElement(Ku.Provider,{value:y},o)};$y.propTypes={stripe:nt.any,options:nt.object};var dE=function(e){var t=Le.useContext(Ku);return zy(t,e)},fE=function(){var e=dE("calls useElements()"),t=e.elements;return t};nt.func.isRequired;var Wy=Le.createContext(null);Wy.displayName="CheckoutSdkContext";var pE=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},mE=Le.createContext(null);mE.displayName="CheckoutContext";nt.any,nt.shape({fetchClientSecret:nt.func.isRequired,elementsOptions:nt.object}).isRequired;var ld=function(e){var t=Le.useContext(Wy),s=Le.useContext(Ku);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?pE(t,e):zy(s,e)},gE=["mode"],yE=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ut=function(e,t){var s="".concat(yE(e),"Element"),o=function(y){var v=y.id,x=y.className,E=y.options,S=E===void 0?{}:E,k=y.onBlur,F=y.onFocus,$=y.onReady,O=y.onChange,K=y.onEscape,U=y.onClick,G=y.onLoadError,Q=y.onLoaderStart,ae=y.onNetworksChange,ce=y.onConfirm,b=y.onCancel,I=y.onShippingAddressChange,C=y.onShippingRateChange,P=ld("mounts <".concat(s,">")),D="elements"in P?P.elements:null,M="checkoutSdk"in P?P.checkoutSdk:null,R=Le.useState(null),$e=Fy(R,2),Me=$e[0],St=$e[1],Ie=Le.useRef(null),ie=Le.useRef(null);pn(Me,"blur",k),pn(Me,"focus",F),pn(Me,"escape",K),pn(Me,"click",U),pn(Me,"loaderror",G),pn(Me,"loaderstart",Q),pn(Me,"networkschange",ae),pn(Me,"confirm",ce),pn(Me,"cancel",b),pn(Me,"shippingaddresschange",I),pn(Me,"shippingratechange",C),pn(Me,"change",O);var ge;$&&(e==="expressCheckout"?ge=$:ge=function(){$(Me)}),pn(Me,"ready",ge),Le.useLayoutEffect(function(){if(Ie.current===null&&ie.current!==null&&(D||M)){var L=null;if(M)switch(e){case"payment":L=M.createPaymentElement(S);break;case"address":if("mode"in S){var Y=S.mode,me=nE(S,gE);if(Y==="shipping")L=M.createShippingAddressElement(me);else if(Y==="billing")L=M.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":L=M.createExpressCheckoutElement(S);break;case"currencySelector":L=M.createCurrencySelectorElement();break;case"taxId":L=M.createTaxIdElement(S);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else D&&(L=D.create(e,S));Ie.current=L,St(L),L&&L.mount(ie.current)}},[D,M,S]);var se=ad(S);return Le.useEffect(function(){if(Ie.current){var L=Uy(S,se,["paymentRequest"]);L&&"update"in Ie.current&&Ie.current.update(L)}},[S,se]),Le.useLayoutEffect(function(){return function(){if(Ie.current&&typeof Ie.current.destroy=="function")try{Ie.current.destroy(),Ie.current=null}catch{}}},[]),Le.createElement("div",{id:v,className:x,ref:ie})},l=function(y){ld("mounts <".concat(s,">"));var v=y.id,x=y.className;return Le.createElement("div",{id:v,className:x})},h=t?l:o;return h.propTypes={id:nt.string,className:nt.string,onChange:nt.func,onBlur:nt.func,onFocus:nt.func,onReady:nt.func,onEscape:nt.func,onClick:nt.func,onLoadError:nt.func,onLoaderStart:nt.func,onNetworksChange:nt.func,onConfirm:nt.func,onCancel:nt.func,onShippingAddressChange:nt.func,onShippingRateChange:nt.func,options:nt.object},h.displayName=s,h.__elementType=e,h},ct=typeof window>"u",vE=Le.createContext(null);vE.displayName="EmbeddedCheckoutProviderContext";var _E=function(){var e=ld("calls useStripe()"),t=e.stripe;return t};ut("auBankAccount",ct);var xE=ut("card",ct);ut("cardNumber",ct);ut("cardExpiry",ct);ut("cardCvc",ct);ut("fpxBank",ct);ut("iban",ct);ut("idealBank",ct);ut("p24Bank",ct);ut("epsBank",ct);ut("payment",ct);ut("expressCheckout",ct);ut("currencySelector",ct);ut("paymentRequestButton",ct);ut("linkAuthentication",ct);ut("address",ct);ut("shippingAddress",ct);ut("paymentMethodMessaging",ct);ut("affirmMessage",ct);ut("afterpayClearpayMessage",ct);ut("taxId",ct);var qy="basil",wE=function(e){return e===3?"v3":e},Hy="https://js.stripe.com",EE="".concat(Hy,"/").concat(qy,"/stripe.js"),SE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,TE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var IE=function(e){return SE.test(e)||TE.test(e)},CE=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Hy,'"]')),t=0;t<e.length;t++){var s=e[t];if(IE(s.src))return s}return null},Jm=function(e){var t="",s=document.createElement("script");s.src="".concat(EE).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(s),s},AE=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:t})},va=null,hu=null,du=null,RE=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},kE=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},PE=function(e){return va!==null?va:(va=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var o=CE();if(!(o&&e)){if(!o)o=Jm(e);else if(o&&du!==null&&hu!==null){var l;o.removeEventListener("load",du),o.removeEventListener("error",hu),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=Jm(e)}}du=kE(t,s),hu=RE(s),o.addEventListener("load",du),o.addEventListener("error",hu)}catch(h){s(h);return}}),va.catch(function(t){return va=null,Promise.reject(t)}))},NE=function(e,t,s){if(e===null)return null;var o=t[0],l=o.match(/^pk_test/),h=wE(e.version),p=qy;l&&h!==p&&console.warn("Stripe.js@".concat(h," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(p,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var y=e.apply(void 0,t);return AE(y,s),y},_a,Gy=!1,Ky=function(){return _a||(_a=PE(null).catch(function(e){return _a=null,Promise.reject(e)}),_a)};Promise.resolve().then(function(){return Ky()}).catch(function(r){Gy||console.warn(r)});var bE=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Gy=!0;var o=Date.now();return Ky().then(function(l){return NE(l,t,o)})};const jE=()=>{};var Zm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],p=r[t++],y=((o&7)<<18|(l&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,p=h?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,x=l>>2,E=(l&3)<<4|p>>4;let S=(p&15)<<2|v>>6,k=v&63;y||(k=64,h||(S=64)),s.push(t[x],t[E],t[S],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||p==null||v==null||E==null)throw new VE;const S=l<<2|p>>4;if(s.push(S),v!==64){const k=p<<4&240|v>>2;if(s.push(k),E!==64){const F=v<<6&192|E;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OE=function(r){const e=Qy(r);return Yy.encodeByteArray(e,!0)},ku=function(r){return OE(r).replace(/\./g,"")},LE=function(r){try{return Yy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=()=>ME().__FIREBASE_DEFAULTS__,UE=()=>{if(typeof process>"u"||typeof Zm>"u")return;const r=Zm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LE(r[1]);return e&&JSON.parse(e)},Fd=()=>{try{return jE()||FE()||UE()||BE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>Fd()?.emulatorHosts?.[r],Xy=r=>{const e=zE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Jy=()=>Fd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zy(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ku(JSON.stringify(t)),ku(JSON.stringify(h)),""].join(".")}const Sa={};function qE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sa))Sa[e]?r.emulator.push(e):r.prod.push(e);return r}function HE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let eg=!1;function ev(r,e){if(typeof window>"u"||typeof document>"u"||!Qu(window.location.host)||Sa[r]===e||Sa[r]||eg)return;Sa[r]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=qE().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{eg=!0,h()},S}function x(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=HE(s),k=t("text"),F=document.getElementById(k)||document.createElement("span"),$=t("learnmore"),O=document.getElementById($)||document.createElement("a"),K=t("preprendIcon"),U=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const G=S.element;p(G),x(O,$);const Q=v();y(U,K),G.append(U,F,O,Q),document.body.appendChild(G)}l?(F.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KE(){const r=Fd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QE(){return!KE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="FirebaseError";class ts extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=JE,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tv.prototype.create)}}class tv{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?ZE(l,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new ts(o,p,s)}}function ZE(r,e){return r.replace(e1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const e1=/\{\$([^}]+)}/g;function Pu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(tg(l)&&tg(h)){if(!Pu(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function tg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r){return r&&r._delegate?r._delegate:r}class oo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new $E;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r1(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:n1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n1(r){return r===Qi?void 0:r}function r1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new t1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const s1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},o1=De.INFO,a1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},l1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=a1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=o1,this._logHandler=l1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const u1=(r,e)=>e.some(t=>r instanceof t);let ng,rg;function c1(){return ng||(ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return rg||(rg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,ud=new WeakMap,iv=new WeakMap,Yh=new WeakMap,Ud=new WeakMap;function d1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ai(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&rv.set(t,r)}).catch(()=>{}),Ud.set(e,r),e}function f1(r){if(ud.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});ud.set(r,e)}let cd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ud.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ai(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function p1(r){cd=r(cd)}function m1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Xh(this),e,...t);return iv.set(s,e.sort?e.sort():[e]),ai(s)}:h1().includes(r)?function(...e){return r.apply(Xh(this),e),ai(rv.get(this))}:function(...e){return ai(r.apply(Xh(this),e))}}function g1(r){return typeof r=="function"?m1(r):(r instanceof IDBTransaction&&f1(r),u1(r,c1())?new Proxy(r,cd):r)}function ai(r){if(r instanceof IDBRequest)return d1(r);if(Yh.has(r))return Yh.get(r);const e=g1(r);return e!==r&&(Yh.set(r,e),Ud.set(e,r)),e}const Xh=r=>Ud.get(r);function y1(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),p=ai(h);return s&&h.addEventListener("upgradeneeded",y=>{s(ai(h.result),y.oldVersion,y.newVersion,ai(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const v1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Jh=new Map;function ig(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=_1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||v1.includes(t)))return;const l=async function(h,...p){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),o&&y.done]))[0]};return Jh.set(e,l),l}p1(r=>({...r,get:(e,t,s)=>ig(e,t)||r.get(e,t,s),has:(e,t)=>!!ig(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function w1(r){return r.getComponent()?.type==="VERSION"}const hd="@firebase/app",sg="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new nv("@firebase/app"),E1="@firebase/app-compat",S1="@firebase/analytics-compat",T1="@firebase/analytics",I1="@firebase/app-check-compat",C1="@firebase/app-check",A1="@firebase/auth",R1="@firebase/auth-compat",k1="@firebase/database",P1="@firebase/data-connect",N1="@firebase/database-compat",b1="@firebase/functions",j1="@firebase/functions-compat",D1="@firebase/installations",V1="@firebase/installations-compat",O1="@firebase/messaging",L1="@firebase/messaging-compat",M1="@firebase/performance",F1="@firebase/performance-compat",U1="@firebase/remote-config",B1="@firebase/remote-config-compat",z1="@firebase/storage",$1="@firebase/storage-compat",W1="@firebase/firestore",q1="@firebase/ai",H1="@firebase/firestore-compat",G1="firebase",K1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",Q1={[hd]:"fire-core",[E1]:"fire-core-compat",[T1]:"fire-analytics",[S1]:"fire-analytics-compat",[C1]:"fire-app-check",[I1]:"fire-app-check-compat",[A1]:"fire-auth",[R1]:"fire-auth-compat",[k1]:"fire-rtdb",[P1]:"fire-data-connect",[N1]:"fire-rtdb-compat",[b1]:"fire-fn",[j1]:"fire-fn-compat",[D1]:"fire-iid",[V1]:"fire-iid-compat",[O1]:"fire-fcm",[L1]:"fire-fcm-compat",[M1]:"fire-perf",[F1]:"fire-perf-compat",[U1]:"fire-rc",[B1]:"fire-rc-compat",[z1]:"fire-gcs",[$1]:"fire-gcs-compat",[W1]:"fire-fst",[H1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[G1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,Y1=new Map,fd=new Map;function og(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ka(r){const e=r.name;if(fd.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,r);for(const t of Nu.values())og(t,r);for(const t of Y1.values())og(t,r);return!0}function sv(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ov(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new tv("app","Firebase",X1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=K1;function av(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:dd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw li.create("bad-app-name",{appName:String(o)});if(t||(t=Jy()),!t)throw li.create("no-options");const l=Nu.get(o);if(l){if(Pu(t,l.options)&&Pu(s,l.config))return l;throw li.create("duplicate-app",{appName:o})}const h=new i1(o);for(const y of fd.values())h.addComponent(y);const p=new J1(t,s,h);return Nu.set(o,p),p}function Bd(r=dd){const e=Nu.get(r);if(!e&&r===dd&&Jy())return av();if(!e)throw li.create("no-app",{appName:r});return e}function ui(r,e,t){let s=Q1[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(h.join(" "));return}ka(new oo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebase-heartbeat-database",tS=1,Pa="firebase-heartbeat-store";let Zh=null;function lv(){return Zh||(Zh=y1(eS,tS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pa)}catch(t){console.warn(t)}}}}).catch(r=>{throw li.create("idb-open",{originalErrorMessage:r.message})})),Zh}async function nS(r){try{const t=(await lv()).transaction(Pa),s=await t.objectStore(Pa).get(uv(r));return await t.done,s}catch(e){if(e instanceof ts)Nr.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(t.message)}}}async function ag(r,e){try{const s=(await lv()).transaction(Pa,"readwrite");await s.objectStore(Pa).put(e,uv(r)),await s.done}catch(t){if(t instanceof ts)Nr.warn(t.message);else{const s=li.create("idb-set",{originalErrorMessage:t?.message});Nr.warn(s.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=1024,iS=30;class sS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>iS){const o=lS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lg(),{heartbeatsToSend:t,unsentEntries:s}=oS(this._heartbeatsCache.heartbeats),o=ku(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Nr.warn(e),""}}}function lg(){return new Date().toISOString().substring(0,10)}function oS(r,e=rS){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),ug(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ug(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class aS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ug(r){return ku(JSON.stringify({version:2,heartbeats:r})).length}function lS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r){ka(new oo("platform-logger",e=>new x1(e),"PRIVATE")),ka(new oo("heartbeat",e=>new sS(e),"PRIVATE")),ui(hd,sg,r),ui(hd,sg,"esm2020"),ui("fire-js","")}uS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="type.googleapis.com/google.protobuf.Int64Value",hS="type.googleapis.com/google.protobuf.UInt64Value";function cv(r,e){const t={};for(const s in r)r.hasOwnProperty(s)&&(t[s]=e(r[s]));return t}function bu(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>bu(e));if(typeof r=="function"||typeof r=="object")return cv(r,e=>bu(e));throw new Error("Data cannot be encoded in JSON: "+r)}function ao(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case cS:case hS:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>ao(e)):typeof r=="function"||typeof r=="object"?cv(r,e=>ao(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends ts{constructor(e,t,s){super(`${zd}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,on.prototype)}}function dS(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ju(r,e){let t=dS(r),s=t,o;try{const l=e&&e.error;if(l){const h=l.status;if(typeof h=="string"){if(!cg[h])return new on("internal","internal");t=cg[h],s=h}const p=l.message;typeof p=="string"&&(s=p),o=l.details,o!==void 0&&(o=ao(o))}}catch{}return t==="ok"?null:new on(t,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ov(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="us-central1",pS=/^data: (.*?)(?:\n|$)/;function mS(r){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new on("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class gS{constructor(e,t,s,o,l=pd,h=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new fS(e,t,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(l);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=pd}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function yS(r,e,t){const s=Qu(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(Zy(r.emulatorOrigin),ev("Functions",!0))}function vS(r,e,t){const s=o=>xS(r,e,o,{});return s.stream=(o,l)=>ES(r,e,o,l),s}async function _S(r,e,t,s){t["Content-Type"]="application/json";let o;try{o=await s(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function hv(r,e){const t={},s=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function xS(r,e,t,s){const o=r._url(e);return wS(r,o,t,s)}async function wS(r,e,t,s){t=bu(t);const o={data:t},l=await hv(r,s),h=s.timeout||7e4,p=mS(h),y=await Promise.race([_S(e,o,l,r.fetchImpl),p.promise,r.cancelAllRequests]);if(p.cancel(),!y)throw new on("cancelled","Firebase Functions instance was deleted.");const v=ju(y.status,y.json);if(v)throw v;if(!y.json)throw new on("internal","Response is not valid JSON object.");let x=y.json.data;if(typeof x>"u"&&(x=y.json.result),typeof x>"u")throw new on("internal","Response is missing data field.");return{data:ao(x)}}function ES(r,e,t,s){const o=r._url(e);return SS(r,o,t,s||{})}async function SS(r,e,t,s){t=bu(t);const o={data:t},l=await hv(r,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let h;try{h=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:l,signal:s?.signal})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const F=new on("cancelled","Request was cancelled.");return{data:Promise.reject(F),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(F)}}}}}}const k=ju(0,null);return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}let p,y;const v=new Promise((S,k)=>{p=S,y=k});s?.signal?.addEventListener("abort",()=>{const S=new on("cancelled","Request was cancelled.");y(S)});const x=h.body.getReader(),E=TS(x,p,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const S=E.getReader();return{async next(){const{value:k,done:F}=await S.read();return{value:k,done:F}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:v}}function TS(r,e,t,s){const o=(h,p)=>{const y=h.match(pS);if(!y)return;const v=y[1];try{const x=JSON.parse(v);if("result"in x){e(ao(x.result));return}if("message"in x){p.enqueue(ao(x.message));return}if("error"in x){const E=ju(0,x);p.error(E),t(E);return}}catch(x){if(x instanceof on){p.error(x),t(x);return}}},l=new TextDecoder;return new ReadableStream({start(h){let p="";return y();async function y(){if(s?.aborted){const v=new on("cancelled","Request was cancelled");return h.error(v),t(v),Promise.resolve()}try{const{value:v,done:x}=await r.read();if(x){p.trim()&&o(p.trim(),h),h.close();return}if(s?.aborted){const S=new on("cancelled","Request was cancelled");h.error(S),t(S),await r.cancel();return}p+=l.decode(v,{stream:!0});const E=p.split(`
`);p=E.pop()||"";for(const S of E)S.trim()&&o(S.trim(),h);return y()}catch(v){const x=v instanceof on?v:ju(0,null);h.error(x),t(x)}}},cancel(){return r.cancel()}})}const hg="@firebase/functions",dg="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="auth-internal",CS="app-check-internal",AS="messaging-internal";function RS(r){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider(IS),h=t.getProvider(AS),p=t.getProvider(CS);return new gS(o,l,h,p,s)};ka(new oo(zd,e,"PUBLIC").setMultipleInstances(!0)),ui(hg,dg,r),ui(hg,dg,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r=Bd(),e=pd){const s=sv($n(r),zd).getImmediate({identifier:e}),o=Xy("functions");return o&&PS(s,...o),s}function PS(r,e,t){yS($n(r),e,t)}function NS(r,e,t){return vS($n(r),e)}RS();var bS="firebase",jS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(bS,jS,"app");/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(r){r.INITIAL="initial",r.PENDING="pending",r.REJECTED="rejected",r.RESOLVED="resolved"})(sn||(sn={}));var ci;(function(r){r.LOADING_STATUS="setLoadingStatus",r.RESET_OPTIONS="resetOptions",r.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ci||(ci={}));var fg;(function(r){r.NUMBER="number",r.CVV="cvv",r.EXPIRATION_DATE="expirationDate",r.EXPIRATION_MONTH="expirationMonth",r.EXPIRATION_YEAR="expirationYear",r.POSTAL_CODE="postalCode"})(fg||(fg={}));var pt=function(){return pt=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pt.apply(this,arguments)};function dv(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function pg(r,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return r.concat(l||Array.prototype.slice.call(e))}var Na="data-react-paypal-script-id",Yi={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},DS="Failed to load the PayPal JS SDK script.",fv="paypal",VS="usePayPalScriptReducer must be used within a PayPalScriptProvider";function OS(r){return r===void 0&&(r=fv),window[r]}function LS(r){for(var e="",t=0;t<r.length;t++){var s=r[t].charCodeAt(0)*t;r[t+1]&&(s+=r[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function MS(r){var e=r.reactComponentName,t=r.sdkComponentKey,s=r.sdkRequestedComponents,o=s===void 0?"":s,l=r.sdkDataNamespace,h=l===void 0?fv:l,p=t.charAt(0).toUpperCase().concat(t.substring(1)),y="Unable to render <".concat(e," /> because window.").concat(h,".").concat(p," is undefined."),v=typeof o=="string"?o:o.join(",");if(!v.includes(t)){var x=[v,t].filter(Boolean).join();y+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(x,"'}}>`.")}return y}function pv(r){var e=r,t=Na;e[t];var s=dv(e,[t+""]);return"react-paypal-js-".concat(LS(JSON.stringify(s)))}function FS(r){var e=self.document.querySelector("script[".concat(Na,'="').concat(r,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function US(r,e){var t,s;switch(e.type){case ci.LOADING_STATUS:return typeof e.value=="object"?pt(pt({},r),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):pt(pt({},r),{loadingStatus:e.value});case ci.RESET_OPTIONS:return FS(r.options[Na]),pt(pt({},r),{loadingStatus:sn.PENDING,options:pt(pt((t={},t[Yi.DATA_SDK_INTEGRATION_SOURCE]=Yi.DATA_LIBRARY_VALUE,t),e.value),(s={},s[Na]="".concat(pv(e.value)),s))});case ci.SET_BRAINTREE_INSTANCE:return pt(pt({},r),{braintreePayPalCheckoutInstance:e.value});default:return r}}var mv=j.createContext(null);function BS(r){if(typeof r?.dispatch=="function"&&r.dispatch.length!==0)return r;throw new Error(VS)}function zS(){var r=BS(j.useContext(mv)),e=pt(pt({},r),{isInitial:r.loadingStatus===sn.INITIAL,isPending:r.loadingStatus===sn.PENDING,isResolved:r.loadingStatus===sn.RESOLVED,isRejected:r.loadingStatus===sn.REJECTED});return[e,r.dispatch]}j.createContext({});function $S(r){var e=j.useRef(new Proxy({},{get:function(t,s,o){return typeof t[s]=="function"?function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return t[s].apply(t,l)}:Reflect.get(t,s,o)}}));return e.current=Object.assign(e.current,r),e.current}var $d=function(r){var e,t=r.className,s=t===void 0?"":t,o=r.disabled,l=o===void 0?!1:o,h=r.children,p=r.forceReRender,y=p===void 0?[]:p,v=dv(r,["className","disabled","children","forceReRender"]),x=l?{opacity:.38}:{},E="".concat(s," ").concat(l?"paypal-buttons-disabled":"").trim(),S=j.useRef(null),k=j.useRef(null),F=$S(v),$=zS()[0],O=$.isResolved,K=$.options,U=j.useState(null),G=U[0],Q=U[1],ae=j.useState(!0),ce=ae[0],b=ae[1],I=j.useState(null),C=I[1];function P(){k.current!==null&&k.current.close().catch(function(){})}return!((e=k.current)===null||e===void 0)&&e.updateProps&&k.current.updateProps({message:v.message}),j.useEffect(function(){if(O===!1)return P;var D=OS(K.dataNamespace);if(D===void 0||D.Buttons===void 0)return C(function(){throw new Error(MS({reactComponentName:$d.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:K.components,sdkDataNamespace:K[Yi.DATA_NAMESPACE]}))}),P;var M=function(R,$e){Q($e),typeof v.onInit=="function"&&v.onInit(R,$e)};try{k.current=D.Buttons(pt(pt({},F),{onInit:M}))}catch(R){return C(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(R))})}return k.current.isEligible()===!1?(b(!1),P):(S.current&&k.current.render(S.current).catch(function(R){S.current===null||S.current.children.length===0||C(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(R))})}),P)},pg(pg([O],y,!0),[v.fundingSource],!1)),j.useEffect(function(){G!==null&&(l===!0?G.disable().catch(function(){}):G.enable().catch(function(){}))},[l,G]),Le.createElement(Le.Fragment,null,ce?Le.createElement("div",{ref:S,style:x,className:E}):h)};$d.displayName="PayPalButtons";function WS(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function qS(r,e){var t=document.querySelector('script[src="'.concat(r,'"]'));if(t===null)return null;var s=gv(r,e),o=t.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var l=!0;return Object.keys(o.dataset).forEach(function(h){o.dataset[h]!==s.dataset[h]&&(l=!1)}),l?t:null}function HS(r){var e=r.url,t=r.attributes,s=r.onSuccess,o=r.onError,l=gv(e,t);l.onerror=o,l.onload=s,document.head.insertBefore(l,document.head.firstElementChild)}function GS(r){var e=r.sdkBaseUrl,t=r.environment,s=WS(r,["sdkBaseUrl","environment"]),o=e||YS(t),l=s,h=Object.keys(l).filter(function(v){return typeof l[v]<"u"&&l[v]!==null&&l[v]!==""}).reduce(function(v,x){var E=l[x].toString();return x=KS(x),x.substring(0,4)==="data"||x==="crossorigin"?v.attributes[x]=E:v.queryParams[x]=E,v},{queryParams:{},attributes:{}}),p=h.queryParams,y=h.attributes;return p["merchant-id"]&&p["merchant-id"].indexOf(",")!==-1&&(y["data-merchant-id"]=p["merchant-id"],p["merchant-id"]="*"),{url:"".concat(o,"?").concat(QS(p)),attributes:y}}function KS(r){var e=function(t,s){return(s?"-":"")+t.toLowerCase()};return r.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function QS(r){var e="";return Object.keys(r).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+r[t]}),e}function YS(r){return r==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function gv(r,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=r,Object.keys(e).forEach(function(s){t.setAttribute(s,e[s]),s==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function XS(r,e){if(e===void 0&&(e=Promise),yv(r,e),typeof document>"u")return e.resolve(null);var t=GS(r),s=t.url,o=t.attributes,l=o["data-namespace"]||"paypal",h=mg(l);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),qS(s,o)&&h?e.resolve(h):JS({url:s,attributes:o},e).then(function(){var p=mg(l);if(p)return p;throw new Error("The window.".concat(l," global variable is not available."))})}function JS(r,e){e===void 0&&(e=Promise),yv(r,e);var t=r.url,s=r.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(o,l){if(typeof document>"u")return o();HS({url:t,attributes:s,onSuccess:function(){return o()},onError:function(){var h=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return l(h)}})})}function mg(r){return window[r]}function yv(r,e){if(typeof r!="object"||r===null)throw new Error("Expected an options object.");var t=r.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var ZS=function(r){var e,t=r.options,s=t===void 0?{clientId:"test"}:t,o=r.children,l=r.deferLoading,h=l===void 0?!1:l,p=j.useReducer(US,{options:pt(pt({},s),(e={},e[Yi.DATA_JS_SDK_LIBRARY]=Yi.DATA_LIBRARY_VALUE,e[Yi.DATA_SDK_INTEGRATION_SOURCE]=Yi.DATA_LIBRARY_VALUE,e[Na]="".concat(pv(s)),e)),loadingStatus:h?sn.INITIAL:sn.PENDING}),y=p[0],v=p[1];return j.useEffect(function(){if(h===!1&&y.loadingStatus===sn.INITIAL)return v({type:ci.LOADING_STATUS,value:sn.PENDING});if(y.loadingStatus===sn.PENDING){var x=!0;return XS(y.options).then(function(){x&&v({type:ci.LOADING_STATUS,value:sn.RESOLVED})}).catch(function(E){console.error("".concat(DS," ").concat(E)),x&&v({type:ci.LOADING_STATUS,value:{state:sn.REJECTED,message:String(E)}})}),function(){x=!1}}},[y.options,h,y.loadingStatus]),Le.createElement(mv.Provider,{value:pt(pt({},y),{dispatch:v})},o)};function gg(){}j.createContext({cardFieldsForm:null,fields:{},registerField:gg,unregisterField:gg});const eT=bE("pk_live_51RrTLlPvURf9PF8C7VOmpuI2SFmRSQQpgxyY0OCa71xYNyyHJgZ8N6MtQKpoC62JLQt6bYfOeo8G2odyw5MKizL200ooHcp4i9");function tT(){const[r,e]=j.useState("stripe"),[t,s]=j.useState(!1),[o,l]=j.useState(""),h=_E();fE();async function p(v){v.preventDefault(),s(!0),l("Processing...");try{const E=window.location.origin,S=`${E}/thank-you?session_id={CHECKOUT_SESSION_ID}`,k=`${E}/checkout?canceled=1`,F=NS(kS(Bd(),"us-east1"),"createCheckoutSession"),{data:$}=await F({origin:E,email:"",successUrl:S,cancelUrl:k});if(!$?.url)throw new Error("No checkout URL returned");window.location.assign($.url)}catch(x){l(`Payment failed: ${x.message}`),s(!1)}}const y={style:{base:{fontSize:"16px",color:"#ffffff",backgroundColor:"transparent","::placeholder":{color:"#9ca3af"}}}};return d.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #7c3aed 0%, #2563eb 100%)",color:"white",fontFamily:"Arial, sans-serif",padding:"20px"},children:d.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",paddingTop:"50px"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[d.jsx("h1",{style:{fontSize:"36px",marginBottom:"10px"},children:" Upgrade to SnapForge Pro"}),d.jsx("p",{style:{fontSize:"18px",opacity:.9},children:"Get unlimited access to all premium features"}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"20px",borderRadius:"10px",margin:"20px 0"},children:[d.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"$29.00 USD"}),d.jsx("div",{style:{fontSize:"14px",opacity:.8},children:"One-time payment  Lifetime access"})]})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("h3",{style:{marginBottom:"15px"},children:"Choose Payment Method:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[d.jsx("button",{onClick:()=>e("stripe"),style:{flex:1,padding:"15px",border:r==="stripe"?"2px solid #60a5fa":"2px solid rgba(255,255,255,0.2)",borderRadius:"8px",background:r==="stripe"?"rgba(96, 165, 250, 0.2)":"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",fontSize:"16px",transition:"all 0.3s ease"},children:" Credit Card (Stripe)"}),d.jsx("button",{onClick:()=>e("paypal"),style:{flex:1,padding:"15px",border:r==="paypal"?"2px solid #60a5fa":"2px solid rgba(255,255,255,0.2)",borderRadius:"8px",background:r==="paypal"?"rgba(96, 165, 250, 0.2)":"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",fontSize:"16px",transition:"all 0.3s ease"},children:" PayPal"})]})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"30px",borderRadius:"15px",backdropFilter:"blur(10px)"},children:[r==="stripe"&&d.jsxs("form",{onSubmit:p,id:"stripe-payment-form",children:[d.jsx("h4",{style:{marginBottom:"20px"},children:" Credit Card Payment"}),d.jsx("input",{type:"hidden",name:"payment-method",id:"payment-method",value:"stripe"}),d.jsx("input",{type:"hidden",name:"payment-intent",id:"payment-intent",value:""}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"card-element",style:{display:"block",marginBottom:"10px",color:"#ffffff"},children:"Credit Card Information"}),d.jsx("div",{id:"card-element",name:"card-element",children:d.jsx(xE,{options:{...y,style:{...y.style,base:{...y.style.base}}}})})]}),d.jsx("button",{type:"submit",disabled:!h||t,style:{width:"100%",padding:"15px",background:t?"#6b7280":"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease"},children:t?" Processing...":" Pay $29.00"})]}),r==="paypal"&&d.jsxs("div",{children:[d.jsx("h4",{style:{marginBottom:"20px"},children:" PayPal Payment"}),d.jsx($d,{style:{layout:"vertical",color:"blue",shape:"rect",label:"pay"},createOrder:(v,x)=>x.order.create({purchase_units:[{amount:{value:"29.00"}}]}),onApprove:(v,x)=>x.order.capture().then(E=>{handlePaymentSuccess("paypal",E.id)}),onError:v=>{l(`PayPal Error: ${v.message||"Payment failed"}`)}})]}),o&&d.jsx("div",{style:{marginTop:"20px",padding:"15px",borderRadius:"8px",background:o.includes("Error")||o.includes("failed")?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)",border:"1px solid "+(o.includes("Error")||o.includes("failed")?"rgba(239, 68, 68, 0.5)":"rgba(16, 185, 129, 0.5)"),textAlign:"center"},children:o})]}),d.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:d.jsx("button",{onClick:()=>window.location.href="/",style:{background:"transparent",border:"2px solid rgba(255,255,255,0.3)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},children:" Back to Landing Page"})})]})})}function nT(){return d.jsx(ZS,{options:{"client-id":"AUXvPQE_E17iIIiYxJuC7SYDNcCS9CkSgKluQZGOxSw8eHAHn4atBSBNOveJL_OjhfsOl74kfY0npFuq"},children:d.jsx($y,{stripe:eT,children:d.jsx(tT,{})})})}var yg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,vv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function C(){}C.prototype=I.prototype,b.D=I.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(P,D,M){for(var R=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)R[$e-2]=arguments[$e];return I.prototype[D].apply(P,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,I,C){C||(C=0);var P=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)P[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=b.g[0],C=b.g[1],D=b.g[2];var M=b.g[3],R=I+(M^C&(D^M))+P[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=M+(D^I&(C^D))+P[1]+3905402710&4294967295,M=I+(R<<12&4294967295|R>>>20),R=D+(C^M&(I^C))+P[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(I^D&(M^I))+P[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(M^C&(D^M))+P[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(D^I&(C^D))+P[5]+1200080426&4294967295,M=I+(R<<12&4294967295|R>>>20),R=D+(C^M&(I^C))+P[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(I^D&(M^I))+P[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(M^C&(D^M))+P[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(D^I&(C^D))+P[9]+2336552879&4294967295,M=I+(R<<12&4294967295|R>>>20),R=D+(C^M&(I^C))+P[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(I^D&(M^I))+P[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(M^C&(D^M))+P[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(D^I&(C^D))+P[13]+4254626195&4294967295,M=I+(R<<12&4294967295|R>>>20),R=D+(C^M&(I^C))+P[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(I^D&(M^I))+P[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(D^M&(C^D))+P[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(I^C))+P[6]+3225465664&4294967295,M=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(M^I))+P[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(D^M))+P[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^M&(C^D))+P[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(I^C))+P[10]+38016083&4294967295,M=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(M^I))+P[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(D^M))+P[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^M&(C^D))+P[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(I^C))+P[14]+3275163606&4294967295,M=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(M^I))+P[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(D^M))+P[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^M&(C^D))+P[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(I^C))+P[2]+4243563512&4294967295,M=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(M^I))+P[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(D^M))+P[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(C^D^M)+P[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^D)+P[8]+2272392833&4294967295,M=I+(R<<11&4294967295|R>>>21),R=D+(M^I^C)+P[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^I)+P[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^M)+P[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^D)+P[4]+1272893353&4294967295,M=I+(R<<11&4294967295|R>>>21),R=D+(M^I^C)+P[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^I)+P[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^M)+P[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^D)+P[0]+3936430074&4294967295,M=I+(R<<11&4294967295|R>>>21),R=D+(M^I^C)+P[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^I)+P[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^M)+P[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^D)+P[12]+3873151461&4294967295,M=I+(R<<11&4294967295|R>>>21),R=D+(M^I^C)+P[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^I)+P[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(D^(C|~M))+P[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~D))+P[7]+1126891415&4294967295,M=I+(R<<10&4294967295|R>>>22),R=D+(I^(M|~C))+P[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~I))+P[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~M))+P[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~D))+P[3]+2399980690&4294967295,M=I+(R<<10&4294967295|R>>>22),R=D+(I^(M|~C))+P[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~I))+P[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~M))+P[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~D))+P[15]+4264355552&4294967295,M=I+(R<<10&4294967295|R>>>22),R=D+(I^(M|~C))+P[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~I))+P[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~M))+P[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~D))+P[11]+3174756917&4294967295,M=I+(R<<10&4294967295|R>>>22),R=D+(I^(M|~C))+P[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~I))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}s.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var C=I-this.blockSize,P=this.B,D=this.h,M=0;M<I;){if(D==0)for(;M<=C;)o(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<I;)if(P[D++]=b.charCodeAt(M++),D==this.blockSize){o(this,P),D=0;break}}else for(;M<I;)if(P[D++]=b[M++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var C=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=C&255,C/=256;for(this.u(b),b=Array(16),I=C=0;4>I;++I)for(var P=0;32>P;P+=8)b[C++]=this.g[I]>>>P&255;return b};function l(b,I){var C=p;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=I(b)}function h(b,I){this.h=I;for(var C=[],P=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;P&&M==I||(C[D]=M,P=!1)}this.g=C}var p={};function y(b){return-128<=b&&128>b?l(b,function(I){return new h([I|0],0>I?-1:0)}):new h([b|0],0>b?-1:0)}function v(b){if(isNaN(b)||!isFinite(b))return E;if(0>b)return O(v(-b));for(var I=[],C=1,P=0;b>=C;P++)I[P]=b/C|0,C*=4294967296;return new h(I,0)}function x(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return O(x(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(I,8)),P=E,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),R=parseInt(b.substring(D,D+M),I);8>M?(M=v(Math.pow(I,M)),P=P.j(M).add(v(R))):(P=P.j(C),P=P.add(v(R)))}return P}var E=y(0),S=y(1),k=y(16777216);r=h.prototype,r.m=function(){if($(this))return-O(this).m();for(var b=0,I=1,C=0;C<this.g.length;C++){var P=this.i(C);b+=(0<=P?P:4294967296+P)*I,I*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(F(this))return"0";if($(this))return"-"+O(this).toString(b);for(var I=v(Math.pow(b,6)),C=this,P="";;){var D=Q(C,I).g;C=K(C,D.j(I));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=D,F(C))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function F(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function $(b){return b.h==-1}r.l=function(b){return b=K(this,b),$(b)?-1:F(b)?0:1};function O(b){for(var I=b.g.length,C=[],P=0;P<I;P++)C[P]=~b.g[P];return new h(C,~b.h).add(S)}r.abs=function(){return $(this)?O(this):this},r.add=function(b){for(var I=Math.max(this.g.length,b.g.length),C=[],P=0,D=0;D<=I;D++){var M=P+(this.i(D)&65535)+(b.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);P=R>>>16,M&=65535,R&=65535,C[D]=R<<16|M}return new h(C,C[C.length-1]&-2147483648?-1:0)};function K(b,I){return b.add(O(I))}r.j=function(b){if(F(this)||F(b))return E;if($(this))return $(b)?O(this).j(O(b)):O(O(this).j(b));if($(b))return O(this.j(O(b)));if(0>this.l(k)&&0>b.l(k))return v(this.m()*b.m());for(var I=this.g.length+b.g.length,C=[],P=0;P<2*I;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<b.g.length;D++){var M=this.i(P)>>>16,R=this.i(P)&65535,$e=b.i(D)>>>16,Me=b.i(D)&65535;C[2*P+2*D]+=R*Me,U(C,2*P+2*D),C[2*P+2*D+1]+=M*Me,U(C,2*P+2*D+1),C[2*P+2*D+1]+=R*$e,U(C,2*P+2*D+1),C[2*P+2*D+2]+=M*$e,U(C,2*P+2*D+2)}for(P=0;P<I;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=I;P<2*I;P++)C[P]=0;return new h(C,0)};function U(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function G(b,I){this.g=b,this.h=I}function Q(b,I){if(F(I))throw Error("division by zero");if(F(b))return new G(E,E);if($(b))return I=Q(O(b),I),new G(O(I.g),O(I.h));if($(I))return I=Q(b,O(I)),new G(O(I.g),I.h);if(30<b.g.length){if($(b)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,P=I;0>=P.l(b);)C=ae(C),P=ae(P);var D=ce(C,1),M=ce(P,1);for(P=ce(P,2),C=ce(C,2);!F(P);){var R=M.add(P);0>=R.l(b)&&(D=D.add(C),M=R),P=ce(P,1),C=ce(C,1)}return I=K(b,D.j(I)),new G(D,I)}for(D=E;0<=b.l(I);){for(C=Math.max(1,Math.floor(b.m()/I.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=v(C),R=M.j(I);$(R)||0<R.l(b);)C-=P,M=v(C),R=M.j(I);F(M)&&(M=S),D=D.add(M),b=K(b,R)}return new G(D,b)}r.A=function(b){return Q(this,b).h},r.and=function(b){for(var I=Math.max(this.g.length,b.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)&b.i(P);return new h(C,this.h&b.h)},r.or=function(b){for(var I=Math.max(this.g.length,b.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)|b.i(P);return new h(C,this.h|b.h)},r.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)^b.i(P);return new h(C,this.h^b.h)};function ae(b){for(var I=b.g.length+1,C=[],P=0;P<I;P++)C[P]=b.i(P)<<1|b.i(P-1)>>>31;return new h(C,b.h)}function ce(b,I){var C=I>>5;I%=32;for(var P=b.g.length-C,D=[],M=0;M<P;M++)D[M]=0<I?b.i(M+C)>>>I|b.i(M+C+1)<<32-I:b.i(M+C);return new h(D,b.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=x,hi=h}).apply(typeof yg<"u"?yg:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _v,xa,xv,Eu,md,wv,Ev,Sv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in _))break e;_=_[B]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,T=!1,B={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function x(u,m,_){return u.call.apply(u.bind,arguments)}function E(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:E,S.apply(null,arguments)}function k(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,B,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return m.prototype[B].apply(T,re)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function O(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const B=u.length||0,H=T.length||0;u.length=B+H;for(let re=0;re<H;re++)u[B+re]=T[re]}else u.push(T)}}class K{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ce(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function b(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let _,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(_ in T)u[_]=T[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function D(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){p.setTimeout(()=>{throw u},0)}function R(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class $e{constructor(){this.h=this.g=null}add(m,_){const T=Me.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Me=new K(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ie=!1,ge=new $e,se=()=>{const u=p.Promise.resolve(void 0);Ie=()=>{u.then(L)}};var L=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){M(_)}var m=Me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u})();function Ce(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ae){e:{try{Q(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}F(Ce,me);var Ne={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function qe(u,m,_,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=B,this.key=++Ue,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cr(u){this.src=u,this.g={},this.h=0}cr.prototype.add=function(u,m,_,T,B){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=Vr(u,m,T,B);return-1<re?(m=u[re],_||(m.fa=!1)):(m=new qe(m,this.src,H,!!T,B),m.fa=_,u.push(m)),m};function ss(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],B=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=B)&&Array.prototype.splice.call(T,B,1),H&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Vr(u,m,_,T){for(var B=0;B<u.length;++B){var H=u[B];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return B}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),os={};function Eo(u,m,_,T,B){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Eo(u,m[H],_,T,B);return null}return _=Io(_),u&&u[Fe]?u.K(m,_,v(T)?!!T.capture:!1,B):So(u,m,_,!1,T,B)}function So(u,m,_,T,B,H){if(!m)throw Error("Invalid event type");var re=v(B)?!!B.capture:!!B,ze=ls(u);if(ze||(u[xi]=ze=new cr(u)),_=ze.add(m,_,T,re,H),_.proxy)return _;if(T=Ka(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Te||(B=re),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ka(){function u(_){return m.call(u.src,u.listener,_)}const m=To;return u}function as(u,m,_,T,B){if(Array.isArray(m))for(var H=0;H<m.length;H++)as(u,m[H],_,T,B);else T=v(T)?!!T.capture:!!T,_=Io(_),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Vr(H,_,T,B),-1<_&&(Tt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Vr(m,_,T,B)),(_=-1<u?m[u]:null)&&hr(_))}function hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])ss(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(dr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ls(m))?(ss(_,u),_.h==0&&(_.src=null,m[xi]=null)):Tt(u)}}}function dr(u){return u in os?os[u]:os[u]="on"+u}function To(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&hr(u),u=_.call(T,m)}return u}function ls(u){return u=u[xi],u instanceof cr?u:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function Io(u){return typeof u=="function"?u:(u[us]||(u[us]=function(m){return u.handleEvent(m)}),u[us])}function yt(){Y.call(this),this.i=new cr(this),this.M=this,this.F=null}F(yt,Y),yt.prototype[Fe]=!0,yt.prototype.removeEventListener=function(u,m,_,T){as(this,u,m,_,T)};function vt(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var B=m;m=new me(T,u),P(m,B)}if(B=!0,_)for(var H=_.length-1;0<=H;H--){var re=m.g=_[H];B=fr(re,T,!0,m)&&B}if(re=m.g=u,B=fr(re,T,!0,m)&&B,B=fr(re,T,!1,m)&&B,_)for(H=0;H<_.length;H++)re=m.g=_[H],B=fr(re,T,!1,m)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Tt(_[T]);delete u.g[m],u.h--}}this.F=null},yt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},yt.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,H=0;H<m.length;++H){var re=m[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,_t=re.ha||re.src;re.fa&&ss(u.i,re),B=ze.call(_t,T)!==!1&&B}}return B&&!T.defaultPrevented}function Co(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Or(u){u.g=Co(()=>{u.g=null,u.i&&(u.i=!1,Or(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wi extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(u){Y.call(this),this.h=u,this.g={}}F(Ei,Y);var Ao=[];function Ro(u){ce(u.g,function(m,_){this.g.hasOwnProperty(_)&&hr(m)},u),u.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Ro(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=p.JSON.stringify,Po=p.JSON.parse,No=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Si(){}Si.prototype.h=null;function cs(u){return u.h||(u.h=u.i())}function hs(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){me.call(this,"d")}F(qn,me);function ds(){me.call(this,"c")}F(ds,me);var Hn={},bo=null;function Ti(){return bo=bo||new yt}Hn.La="serverreachability";function jo(u){me.call(this,Hn.La,u)}F(jo,me);function pr(u){const m=Ti();vt(m,new jo(m))}Hn.STAT_EVENT="statevent";function Do(u,m){me.call(this,Hn.STAT_EVENT,u),this.stat=m}F(Do,me);function ot(u){const m=Ti();vt(m,new Do(m,u))}Hn.Ma="timingevent";function fs(u,m){me.call(this,Hn.Ma,u),this.size=m}F(fs,me);function An(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Ci(u,m,_,T,B,H){u.info(function(){if(u.g)if(H)for(var re="",ze=H.split("&"),_t=0;_t<ze.length;_t++){var be=ze[_t].split("=");if(1<be.length){var It=be[0];be=be[1];var ht=It.split("_");re=2<=ht.length&&ht[1]=="type"?re+(It+"="+be+"&"):re+(It+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+_+`
`+re})}function ps(u,m,_,T,B,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+_+`
`+H+" "+re})}function Rn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dc(u,_)+(T?" "+T:"")})}function Vo(u,m){u.info(function(){return"TIMEOUT: "+m})}Ii.prototype.info=function(){};function dc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<B.length;re++)B[re]=""}}}}return ko(_)}catch{return m}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Ai(){}F(Ai,Si),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},kn=new Ai;function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ya}function Ya(){this.i=null,this.g="",this.h=!1}var Oo={},gs={};function ys(u,m,_){u.L=1,u.v=Br(ln(m)),u.m=_,u.P=!0,Lo(u,null)}function Lo(u,m){u.F=Date.now(),He(u),u.A=ln(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),$r(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Ya,u.g=pl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new wi(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ao[0]=B.toString()),B=Ao);for(var H=0;H<B.length;H++){var re=Eo(_,B[H],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pr(),Ci(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Yt(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Yt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||$o(this.g)))){this.J||ht!=4||m==7||(m==8||0>=_n?pr(3):pr(2)),Ri(this);var _=this.g.Z();this.X=_;t:if(Xa(this)){var T=$o(this.g);u="";var B=T.length,H=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Lr(this);var re="";break t}this.h.i=new p.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==B-1)});T.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,ps(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(ze)){var be=ze;break t}}be=null}if(_=be)Rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,_);else{this.o=!1,this.s=3,ot(12),yn(this),Lr(this);break e}}if(this.P){_=!0;let cn;for(;!this.J&&this.C<re.length;)if(cn=fc(this,re),cn==gs){ht==4&&(this.s=4,ot(14),_=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Oo){this.s=4,ot(15),Rn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Rn(this.i,this.l,cn,null),Mo(this,cn);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Rn(this.i,this.l,re,"[Invalid Chunked Response]"),yn(this),Lr(this);else if(0<re.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),qo(It),It.M=!0,ot(11))}}else Rn(this.i,this.l,re,null),Mo(this,re);ht==4&&yn(this),this.o&&!this.J&&(ht==4?Rs(this.j,this):(this.o=!1,He(this)))}else Ss(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),yn(this),Lr(this)}}}catch{}finally{}};function Xa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fc(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?gs:(_=Number(m.substring(_,T)),isNaN(_)?Oo:(T+=1,T+_>m.length?gs:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.J=!0,yn(this)};function He(u){u.S=Date.now()+u.I,Ja(u,u.I)}function Ja(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=An(S(u.ba,u),m)}function Ri(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Vo(this.i,this.A),this.L!=2&&(pr(),ot(17)),yn(this),this.s=2,Lr(this)):Ja(this,this.S-u)};function Lr(u){u.j.G==0||u.J||Rs(u.j,u)}function yn(u){Ri(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ro(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Mo(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)As(_),Vn(_);else break e;Cs(_),ot(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=An(S(_.Za,_),6e3));if(1>=el(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((u.K||_.g==u)&&As(_),!U(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let be=B[m];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const It=be[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ht=be[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const _n=be[5];_n!=null&&typeof _n=="number"&&0<_n&&(T=1.5*_n,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const cn=u.g;if(cn){const Vi=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var H=T.h;H.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fo(H,H.h),H.h=null))}if(T.D){const Ps=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(T.ya=Ps,We(T.I,T.D,Ps))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var re=u;if(T.qa=fl(T,T.J?T.ia:null,T.W),re.K){tl(T.h,re);var ze=re,_t=T.L;_t&&(ze.I=_t),ze.B&&(Ri(ze),He(ze)),T.g=re}else Di(T);0<_.i.length&&Yn(_)}else be[0]!="stop"&&be[0]!="close"||_r(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?_r(_,7):Nt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}pr(4)}catch{}}var Za=class{constructor(u,m){this.g=u,this.map=m}};function ki(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function an(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function el(u){return u.h?1:u.g?u.g.size:0}function qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fo(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ki.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function vs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function _s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Mr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=_s(u),T=vs(u),B=T.length,H=0;H<B;H++)m.call(void 0,T[H],_&&_[H],u)}var Pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),B=null;if(0<=T){var H=u[_].substring(0,T);B=u[_].substring(T+1)}else H=u[_];m(H,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,Ni(this,u.j),this.o=u.o,this.g=u.g,Fr(this,u.s),this.l=u.l;var m=u.i,_=new Gn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ur(this,_),this.m=u.m}else u&&(m=String(u).match(Pi))?(this.h=!1,Ni(this,m[1]||"",!0),this.o=Pe(m[2]||""),this.g=Pe(m[3]||"",!0),Fr(this,m[4]),this.l=Pe(m[5]||"",!0),Ur(this,m[6]||"",!0),this.m=Pe(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(zr(m,xs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zr(m,xs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(zr(_,_.charAt(0)=="/"?sl:il,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",zr(_,Uo)),u.join("")};function ln(u){return new mr(u)}function Ni(u,m,_){u.j=_?Pe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ur(u,m,_){m instanceof Gn?(u.i=m,Kn(u.i,u.h)):(_||(m=zr(m,ol)),u.i=new Gn(m,u.h))}function We(u,m,_){u.i.set(m,_)}function Br(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,rl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xs=/[#\/\?@]/g,il=/[#\?:]/g,sl=/[#\?]/g,ol=/[#\?@]/g,Uo=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&pc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Gn.prototype,r.add=function(u,m){Pt(this),this.i=null,u=vn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Nn(u,m){Pt(u),m=vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bn(u,m){return Pt(u),m=vn(u,m),u.g.has(m)}r.forEach=function(u,m){Pt(this),this.g.forEach(function(_,T){_.forEach(function(B){u.call(m,B,T,this)},this)},this)},r.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const B=u[T];for(let H=0;H<B.length;H++)_.push(m[T])}return _},r.V=function(u){Pt(this);let m=[];if(typeof u=="string")bn(this,u)&&(m=m.concat(this.g.get(vn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Pt(this),this.i=null,u=vn(this,u),bn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $r(u,m,_){Nn(u,m),0<_.length&&(u.i=null,u.g.set(vn(u,m),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),re=this.V(T);for(T=0;T<re.length;T++){var B=H;re[T]!==""&&(B+="="+encodeURIComponent(String(re[T]))),u.push(B)}}return this.i=u.join("&")};function vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Kn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(_,T){var B=T.toLowerCase();T!=B&&(Nn(this,T),$r(this,B,_))},u)),u.j=m}function mc(u,m){const _=new Ii;if(p.Image){const T=new Image;T.onload=k(Qt,_,"TestLoadImage: loaded",!0,m,T),T.onerror=k(Qt,_,"TestLoadImage: error",!1,m,T),T.onabort=k(Qt,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(Qt,_,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function al(u,m){const _=new Ii,T=new AbortController,B=setTimeout(()=>{T.abort(),Qt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(B),H.ok?Qt(_,"TestPingServer: ok",!0,m):Qt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Qt(_,"TestPingServer: error",!1,m)})}function Qt(u,m,_,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(_)}catch{}}function gc(){this.g=new No}function ll(u,m,_){const T=_||"";try{Mr(u,function(B,H){let re=B;v(B)&&(re=ko(B)),m.push(T+H+"="+encodeURIComponent(re))})}catch(B){throw m.push(T+"type="+encodeURIComponent("_badmap")),B}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(gr,Si),gr.prototype.g=function(){return new bi(this.l,this.j)},gr.prototype.i=(function(u){return function(){return u}})({});function bi(u,m){yt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(bi,yt),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Dn(this),this.readyState==3&&ul(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yr(u){let m="";return ce(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Wr(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=yr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):We(u,m,_))}function Xe(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Xe,yt);var yc=/^https?$/i,Bo=["POST","PUT"];r=Xe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?cs(this.o):cs(kn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ji(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)_.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),B=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Bo,m,void 0))||T||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){ji(this,H)}};function ji(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ws(u),un(u)}function ws(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),un(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),un(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},r.bb=function(){zo(this)};function zo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Co(u.Ea,0,u);else if(vt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=re===0){var B=String(u.D).match(Pi)[1]||null;!B&&p.self&&p.self.location&&(B=p.self.location.protocol.slice(0,-1)),T=!yc.test(B?B.toLowerCase():"")}_=T}if(_)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var H=2<Yt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ws(u)}}finally{un(u)}}}}function un(u,m){if(u.g){Es(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||vt(u,"ready");try{_.onreadystatechange=T}catch{}}}function Es(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Po(m)}};function $o(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(u){const m={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(U(u[T]))continue;var _=D(u[T]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[B]||[];m[B]=H,H.push(_)}b(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Wo(u){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,u),this.cb=Qn("retryDelaySeedMs",1e4,u),this.Wa=Qn("forwardChannelMaxRetries",2,u),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(u&&u.concurrentRequestLimit),this.Da=new gc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Wo.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){ot(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=fl(this,null,this.W),Yn(this)};function Nt(u){if(Ts(u),u.G==3){var m=u.U++,_=ln(u.I);if(We(_,"SID",u.K),We(_,"RID",m),We(_,"TYPE","terminate"),vr(u,_),m=new Pn(u,u.j,m),m.L=2,m.v=Br(ln(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=pl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}dl(u)}function Vn(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function Ts(u){Vn(u),u.u&&(p.clearTimeout(u.u),u.u=null),As(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Yn(u){if(!an(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ie||se(),ie||(Ie(),ie=!0),ge.add(m,u),u.B=0}}function vc(u,m){return el(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=An(S(u.Ga,u,m),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Pn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=I(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(B.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=qr(this,B,m),_=ln(this.I),We(_,"RID",u),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),vr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(yr(H)))+"&"+m:this.m&&Wr(_,this.m,H)),Fo(this.h,B),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",m),We(_,"SID","null"),B.T=!0,ys(B,_,null)):ys(B,_,m),this.G=2}}else this.G==3&&(u?Is(this,u):this.i.length==0||an(this.h)||Is(this))};function Is(u,m){var _;m?_=m.l:_=u.U++;const T=ln(u.I);We(T,"SID",u.K),We(T,"RID",_),We(T,"AID",u.T),vr(u,T),u.m&&u.o&&Wr(T,u.m,u.o),_=new Pn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fo(u.h,_),ys(_,T,m)}function vr(u,m){u.H&&ce(u.H,function(_,T){We(m,T,_)}),u.l&&Mr({},function(_,T){We(m,T,_)})}function qr(u,m,_){_=Math.min(u.i.length,_);var T=u.l?S(u.l.Na,u.l,u):null;e:{var B=u.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=B[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let _t=0;_t<_;_t++){let be=B[_t].g;const It=B[_t].map;if(be-=H,0>be)H=Math.max(0,B[_t].g-100),ze=!1;else try{ll(It,re,"req"+be+"_")}catch{T&&T(It)}}if(ze){T=re.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,T}function Di(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ie||se(),ie||(Ie(),ie=!0),ge.add(m,u),u.v=0}}function Cs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=An(S(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=An(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Vn(this),cl(this))};function qo(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function cl(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),vr(u,m),u.m&&u.o&&Wr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Br(ln(m)),_.m=null,_.P=!0,Lo(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Vn(this),Cs(this),ot(19))};function As(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Rs(u,m){var _=null;if(u.g==m){As(u),qo(u),u.g=null;var T=2}else if(qt(u.h,m))_=m.D,tl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;T=Ti(),vt(T,new fs(T,_)),Yn(u)}else Di(u);else if(B=m.s,B==3||B==0&&0<m.X||!(T==1&&vc(u,m)||T==2&&Cs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:_r(u,5);break;case 4:_r(u,10);break;case 3:_r(u,6);break;default:_r(u,2)}}}function hl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function _r(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),T=u.Xa;const B=!T;T=new mr(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ni(T,"https"),Br(T),B?mc(T.toString(),_):al(T.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(m),dl(u),Ts(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function dl(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function fl(u,m,_){var T=_ instanceof mr?ln(_):new mr(_);if(T.g!="")m&&(T.g=m+"."+T.g),Fr(T,T.s);else{var B=p.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var H=new mr(null);T&&Ni(H,T),m&&(H.g=m),B&&Fr(H,B),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&We(T,_,m),We(T,"VER",u.la),vr(u,T),T}function pl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new gr({eb:_})):new Xe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ks(){}ks.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){yt.call(this),this.g=new Wo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!U(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!U(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}F(Ht,yt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Nt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ko(u),u=_);m.i.push(new Za(m.Ya++,u)),m.G==3&&Yn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Ht.aa.N.call(this)};function ml(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(ml,qn);function gl(){ds.call(this),this.status=1}F(gl,ds);function Xn(u){this.g=u}F(Xn,Ho),Xn.prototype.ua=function(){vt(this.g,"a")},Xn.prototype.ta=function(u){vt(this.g,new ml(u))},Xn.prototype.sa=function(u){vt(this.g,new gl)},Xn.prototype.ra=function(){vt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Sv=function(){return new ks},Ev=function(){return Ti()},wv=Hn,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Eu=ms,Qa.COMPLETE="complete",xv=Qa,hs.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,xa=hs,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,_v=Xe}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const vg="@firebase/firestore",_g="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new nv("@firebase/firestore");function Xs(){return Ji.logLevel}function le(r,...e){if(Ji.logLevel<=De.DEBUG){const t=e.map(Wd);Ji.debug(`Firestore (${yo}): ${r}`,...t)}}function br(r,...e){if(Ji.logLevel<=De.ERROR){const t=e.map(Wd);Ji.error(`Firestore (${yo}): ${r}`,...t)}}function lo(r,...e){if(Ji.logLevel<=De.WARN){const t=e.map(Wd);Ji.warn(`Firestore (${yo}): ${r}`,...t)}}function Wd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Tv(r,s,t)}function Tv(r,e,t){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw br(s),new Error(s)}function Be(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Tv(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class iT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sT{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let l=new di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new di,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new di)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new Iv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class oT{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aT{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new oT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ov(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uT(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Re(r,e){return r<e?-1:r>e?1:0}function gd(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),l=e.charAt(s);if(o!==l)return ed(o)===ed(l)?Re(o,l):ed(o)?1:-1}return Re(r.length,e.length)}const cT=55296,hT=57343;function ed(r){const e=r.charCodeAt(0);return e>=cT&&e<=hT}function uo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="__name__";class nr{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&xe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=nr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const s=nr.isNumericId(e),o=nr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(e).compare(nr.extractNumericId(t)):gd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class Ze extends nr{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const dT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends nr{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return dT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wg}static keyField(){return new Vt([wg])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(l(),o++)}if(l(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ze.fromString(e))}static fromName(e){return new _e(Ze.fromString(e).popFirst(5))}static empty(){return new _e(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ze(e.slice()))}}function fT(r,e,t,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Eg(r){if(_e.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Av(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yu(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function za(r,e){if(!Av(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=-62135596800,Tg=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Tg);return new Ye(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sg)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tg}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(za(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ye(0,0))}static max(){return new Ee(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=-1;function pT(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Ye(t+1,0):new Ye(t,s));return new fi(o,_e.empty(),e)}function mT(r){return new fi(r.readTime,r.key,ja)}class fi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fi(Ee.min(),_e.empty(),ja)}static max(){return new fi(Ee.max(),_e.empty(),ja)}}function gT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Re(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==yT)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,s)=>{t(e)}))}static reject(e){return new X(((t,s)=>{s(e)}))}static waitFor(e){return new X(((t,s)=>{let o=0,l=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++l,h&&l===o&&t()}),(y=>s(y)))})),h=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next((o=>o?X.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new X(((s,o)=>{const l=e.length,h=new Array(l);let p=0;for(let y=0;y<l;y++){const v=y;t(e[v]).next((x=>{h[v]=x,++p,p===l&&s(h)}),(x=>o(x)))}}))}static doWhile(e,t){return new X(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function _T(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=-1;function Ju(r){return r==null}function Du(r){return r===0&&1/r==-1/0}function xT(r){return typeof r=="number"&&Number.isInteger(r)&&!Du(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="";function wT(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ig(e)),e=ET(r.get(t),e);return Ig(e)}function ET(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Rv:t+="";break;default:t+=l}}return t}function Ig(r){return r+Rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _i(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function kv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ag(this.data.getIterator())}getIteratorFrom(e){return new Ag(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Ag{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Et(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pv("Invalid base64 string: "+l):l}})(e);return new Ot(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const ST=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(Be(!!r,39018),typeof r=="string"){let e=0;const t=ST.exec(r);if(Be(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(r.seconds),nanos:lt(r.nanos)}}function lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mi(r){return typeof r=="string"?Ot.fromBase64String(r):Ot.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="server_timestamp",bv="__type__",jv="__previous_value__",Dv="__local_write_time__";function Hd(r){return(r?.mapValue?.fields||{})[bv]?.stringValue===Nv}function Zu(r){const e=r.mapValue.fields[jv];return Hd(e)?Zu(e):e}function Da(r){const e=pi(r.mapValue.fields[Dv].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t,s,o,l,h,p,y,v,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=x}}const Vu="(default)";class Va{constructor(e,t){this.projectId=e,this.database=t||Vu}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database===Vu}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__type__",IT="__max__",mu={mapValue:{}},Ov="__vector__",Ou="value";function gi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hd(r)?4:AT(r)?9007199254740991:CT(r)?10:11:xe(28295,{value:r})}function lr(r,e){if(r===e)return!0;const t=gi(r);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Da(r).isEqual(Da(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=pi(o.timestampValue),p=pi(l.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return mi(o.bytesValue).isEqual(mi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return lt(o.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return lt(o.integerValue)===lt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=lt(o.doubleValue),p=lt(l.doubleValue);return h===p?Du(h)===Du(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Cg(h)!==Cg(p))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(p[y]===void 0||!lr(h[y],p[y])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Oa(r,e){return(r.values||[]).find((t=>lr(t,e)))!==void 0}function co(r,e){if(r===e)return 0;const t=gi(r),s=gi(e);if(t!==s)return Re(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const p=lt(l.integerValue||l.doubleValue),y=lt(h.integerValue||h.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return Rg(r.timestampValue,e.timestampValue);case 4:return Rg(Da(r),Da(e));case 5:return gd(r.stringValue,e.stringValue);case 6:return(function(l,h){const p=mi(l),y=mi(h);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const p=l.split("/"),y=h.split("/");for(let v=0;v<p.length&&v<y.length;v++){const x=Re(p[v],y[v]);if(x!==0)return x}return Re(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const p=Re(lt(l.latitude),lt(h.latitude));return p!==0?p:Re(lt(l.longitude),lt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return kg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const p=l.fields||{},y=h.fields||{},v=p[Ou]?.arrayValue,x=y[Ou]?.arrayValue,E=Re(v?.values?.length||0,x?.values?.length||0);return E!==0?E:kg(v,x)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===mu.mapValue&&h===mu.mapValue)return 0;if(l===mu.mapValue)return 1;if(h===mu.mapValue)return-1;const p=l.fields||{},y=Object.keys(p),v=h.fields||{},x=Object.keys(v);y.sort(),x.sort();for(let E=0;E<y.length&&E<x.length;++E){const S=gd(y[E],x[E]);if(S!==0)return S;const k=co(p[y[E]],v[x[E]]);if(k!==0)return k}return Re(y.length,x.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Rg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Re(r,e);const t=pi(r),s=pi(e),o=Re(t.seconds,s.seconds);return o!==0?o:Re(t.nanos,s.nanos)}function kg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=co(t[o],s[o]);if(l)return l}return Re(t.length,s.length)}function ho(r){return yd(r)}function yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=pi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return mi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=yd(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${yd(t.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Su(r){switch(gi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zu(r);return e?16+Su(e):16;case 5:return 2*r.stringValue.length;case 6:return mi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Su(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _i(s.fields,((l,h)=>{o+=l.length+Su(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function Pg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function vd(r){return!!r&&"integerValue"in r}function Gd(r){return!!r&&"arrayValue"in r}function Ng(r){return!!r&&"nullValue"in r}function bg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tu(r){return!!r&&"mapValue"in r}function CT(r){return(r?.mapValue?.fields||{})[Vv]?.stringValue===Ov}function Ta(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _i(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ta(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ta(r.arrayValue.values[t]);return e}return{...r}}function AT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===IT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Tu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ta(t)}setAll(e){let t=Vt.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=Ta(h):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Tu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Tu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_i(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new mn(Ta(this.value))}}function Lv(r){const e=[];return _i(r.fields,((t,s)=>{const o=new Vt([t]);if(Tu(s)){const l=Lv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,l,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=p}static newInvalidDocument(e){return new $t(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.position=e,this.inclusive=t}}function jg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=co(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!lr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function RT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{}class mt extends Mv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new PT(e,t,s):t==="array-contains"?new jT(e,s):t==="in"?new DT(e,s):t==="not-in"?new VT(e,s):t==="array-contains-any"?new OT(e,s):new mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new NT(e,s):new bT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(co(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Mv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Wn(e,t)}matches(e){return Fv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fv(r){return r.op==="and"}function Uv(r){return kT(r)&&Fv(r)}function kT(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function _d(r){if(r instanceof mt)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(Uv(r))return r.filters.map((e=>_d(e))).join(",");{const e=r.filters.map((t=>_d(t))).join(",");return`${r.op}(${e})`}}function Bv(r,e){return r instanceof mt?(function(s,o){return o instanceof mt&&s.op===o.op&&s.field.isEqual(o.field)&&lr(s.value,o.value)})(r,e):r instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,p)=>l&&Bv(h,o.filters[p])),!0):!1})(r,e):void xe(19439)}function zv(r){return r instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ho(t.value)}`})(r):r instanceof Wn?(function(t){return t.op.toString()+" {"+t.getFilters().map(zv).join(" ,")+"}"})(r):"Filter"}class PT extends mt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class NT extends mt{constructor(e,t){super(e,"in",t),this.keys=$v("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bT extends mt{constructor(e,t){super(e,"not-in",t),this.keys=$v("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $v(r,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class jT extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gd(t)&&Oa(t.arrayValue,this.value)}}class DT extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oa(this.value.arrayValue,t)}}class VT extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Oa(this.value.arrayValue,t)}}class OT extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Oa(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t=null,s=[],o=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=p,this.Te=null}}function Vg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new LT(r,e,t,s,o,l,h)}function Kd(r){const e=Se(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>_d(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ju(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ho(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ho(s))).join(",")),e.Te=t}return e.Te}function Qd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!RT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Bv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dg(r.startAt,e.startAt)&&Dg(r.endAt,e.endAt)}function xd(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t=null,s=[],o=[],l=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MT(r,e,t,s,o,l,h,p){return new $a(r,e,t,s,o,l,h,p)}function Wv(r){return new $a(r)}function Og(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qv(r){return r.collectionGroup!==null}function Ia(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Et(Vt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mu(l,s))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new Mu(Vt.keyField(),s))}return e.Ie}function rr(r){const e=Se(r);return e.Ee||(e.Ee=FT(e,Ia(r))),e.Ee}function FT(r,e){if(r.limitType==="F")return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Mu(o.field,l)}));const t=r.endAt?new Lu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lu(r.startAt.position,r.startAt.inclusive):null;return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function wd(r,e){const t=r.filters.concat([e]);return new $a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ed(r,e,t){return new $a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ec(r,e){return Qd(rr(r),rr(e))&&r.limitType===e.limitType}function Hv(r){return`${Kd(rr(r))}|lt:${r.limitType}`}function Js(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>zv(o))).join(", ")}]`),Ju(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>ho(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(rr(r))}; limitType=${r.limitType})`}function tc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of Ia(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,y){const v=jg(h,p,y);return h.inclusive?v<=0:v<0})(s.startAt,Ia(s),o)||s.endAt&&!(function(h,p,y){const v=jg(h,p,y);return h.inclusive?v>=0:v>0})(s.endAt,Ia(s),o))})(r,e)}function UT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gv(r){return(e,t)=>{let s=!1;for(const o of Ia(r)){const l=BT(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function BT(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,h,p){const y=h.data.field(l),v=p.data.field(l);return y!==null&&v!==null?co(y,v):xe(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new it(_e.comparator);function jr(){return zT}const Kv=new it(_e.comparator);function wa(...r){let e=Kv;for(const t of r)e=e.insert(t.key,t);return e}function Qv(r){let e=Kv;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Xi(){return Ca()}function Yv(){return Ca()}function Ca(){return new ns((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $T=new it(_e.comparator),WT=new Et(_e.comparator);function ke(...r){let e=WT;for(const t of r)e=e.add(t);return e}const qT=new Et(Re);function HT(){return qT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function Xv(r){return{integerValue:""+r}}function GT(r,e){return xT(e)?Xv(e):Yd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function KT(r,e,t){return r instanceof Fu?(function(o,l){const h={fields:{[bv]:{stringValue:Nv},[Dv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Hd(l)&&(l=Zu(l)),l&&(h.fields[jv]=l),{mapValue:h}})(t,e):r instanceof La?Zv(r,e):r instanceof Ma?e_(r,e):(function(o,l){const h=Jv(o,l),p=Lg(h)+Lg(o.Ae);return vd(h)&&vd(o.Ae)?Xv(p):Yd(o.serializer,p)})(r,e)}function QT(r,e,t){return r instanceof La?Zv(r,e):r instanceof Ma?e_(r,e):t}function Jv(r,e){return r instanceof Uu?(function(s){return vd(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Fu extends nc{}class La extends nc{constructor(e){super(),this.elements=e}}function Zv(r,e){const t=t_(e);for(const s of r.elements)t.some((o=>lr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ma extends nc{constructor(e){super(),this.elements=e}}function e_(r,e){let t=t_(e);for(const s of r.elements)t=t.filter((o=>!lr(o,s)));return{arrayValue:{values:t}}}class Uu extends nc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Lg(r){return lt(r.integerValue||r.doubleValue)}function t_(r){return Gd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function YT(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof La&&o instanceof La||s instanceof Ma&&o instanceof Ma?uo(s.elements,o.elements,lr):s instanceof Uu&&o instanceof Uu?lr(s.Ae,o.Ae):s instanceof Fu&&o instanceof Fu})(r.transform,e.transform)}class XT{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rc{}function n_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new i_(r.key,kr.none()):new ic(r.key,r.data,kr.none());{const t=r.data,s=mn.empty();let o=new Et(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new rs(r.key,s,new zn(o.toArray()),kr.none())}}function JT(r,e,t){r instanceof ic?(function(o,l,h){const p=o.value.clone(),y=Fg(o.fieldTransforms,l,h.transformResults);p.setAll(y),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):r instanceof rs?(function(o,l,h){if(!Iu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const p=Fg(o.fieldTransforms,l,h.transformResults),y=l.data;y.setAll(r_(o)),y.setAll(p),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Aa(r,e,t,s){return r instanceof ic?(function(l,h,p,y){if(!Iu(l.precondition,h))return p;const v=l.value.clone(),x=Ug(l.fieldTransforms,y,h);return v.setAll(x),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,s):r instanceof rs?(function(l,h,p,y){if(!Iu(l.precondition,h))return p;const v=Ug(l.fieldTransforms,y,h),x=h.data;return x.setAll(r_(l)),x.setAll(v),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,s):(function(l,h,p){return Iu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,t)}function ZT(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Jv(s.transform,o||null);l!=null&&(t===null&&(t=mn.empty()),t.set(s.field,l))}return t||null}function Mg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((l,h)=>YT(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ic extends rc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends rc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Fg(r,e,t){const s=new Map;Be(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,p=e.data.field(l.field);s.set(l.field,QT(h,p,t[o]))}return s}function Ug(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,KT(l,h,e))}return s}class i_ extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&JT(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Aa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Aa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Yv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let p=this.applyToLocalView(h,l.mutatedFields);p=t.has(o.key)?null:p;const y=n_(h,p);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((t,s)=>Mg(t,s)))&&uo(this.baseMutations,e.baseMutations,((t,s)=>Mg(t,s)))}}class Xd{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $T})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Xd(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,je;function iI(r){switch(r){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function s_(r){if(r===void 0)return br("GRPC error has no .code"),J.UNKNOWN;switch(r){case ft.OK:return J.OK;case ft.CANCELLED:return J.CANCELLED;case ft.UNKNOWN:return J.UNKNOWN;case ft.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ft.INTERNAL:return J.INTERNAL;case ft.UNAVAILABLE:return J.UNAVAILABLE;case ft.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ft.NOT_FOUND:return J.NOT_FOUND;case ft.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ft.ABORTED:return J.ABORTED;case ft.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ft.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:r})}}(je=ft||(ft={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new hi([4294967295,4294967295],0);function Bg(r){const e=sI().encode(r),t=new vv;return t.update(e),new Uint8Array(t.digest())}function zg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hi([t,s],0),new hi([o,l],0)]}class Jd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ea(`Invalid padding: ${t}`);if(s<0)throw new Ea(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hi.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(hi.fromNumber(s)));return o.compare(oI)===1&&(o=new hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Bg(e),[s,o]=zg(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Jd(l,o,t);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=Bg(e),[s,o]=zg(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sc(Ee.min(),o,new it(Re),jr(),ke())}}class Wa{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Wa(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class o_{constructor(e,t){this.targetId=e,this.Ce=t}}class a_{constructor(e,t,s=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class $g{constructor(){this.ve=0,this.Fe=Wg(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:l})}})),new Wa(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Wg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aI{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=gu(),this.He=gu(),this.Ye=new it(Re)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(xd(l))if(s===0){const h=new _e(l.path);this.et(t,h,$t.newNoDocument(h,Ee.min()))}else Be(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),y=p?this.ct(p,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,p;try{h=mi(s).toUint8Array()}catch(y){if(y instanceof Pv)return lo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Jd(h,o,l)}catch(y){return lo(y instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const p=this.ot(h);if(p){if(l.current&&xd(p.target)){const y=new _e(p.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,$t.newNoDocument(y,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let s=ke();this.He.forEach(((l,h)=>{let p=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new sc(e,t,this.Ye,this.je,s);return this.je=jr(),this.Je=gu(),this.He=gu(),this.Ye=new it(Re),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $g,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Et(Re),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Et(Re),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $g),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gu(){return new it(_e.comparator)}function Wg(){return new it(_e.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},uI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class hI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(r,e){return r.useProto3Json||Ju(e)?e:{value:e}}function Bu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dI(r,e){return Bu(r,e.toTimestamp())}function ir(r){return Be(!!r,49232),Ee.fromTimestamp((function(t){const s=pi(t);return new Ye(s.seconds,s.nanos)})(r))}function Zd(r,e){return Td(r,e).canonicalString()}function Td(r,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function u_(r){const e=Ze.fromString(r);return Be(p_(e),10190,{key:e.toString()}),e}function Id(r,e){return Zd(r.databaseId,e.path)}function td(r,e){const t=u_(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(h_(t))}function c_(r,e){return Zd(r.databaseId,e)}function fI(r){const e=u_(r);return e.length===4?Ze.emptyPath():h_(e)}function Cd(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h_(r){return Be(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qg(r,e,t){return{name:Id(r,e),fields:t.value.mapValue.fields}}function pI(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,x){return v.useProto3Json?(Be(x===void 0||typeof x=="string",58123),Ot.fromBase64String(x||"")):(Be(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Ot.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const x=v.code===void 0?J.UNKNOWN:s_(v.code);return new he(x,v.message||"")})(h);t=new a_(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=td(r,s.document.name),l=ir(s.document.updateTime),h=s.document.createTime?ir(s.document.createTime):Ee.min(),p=new mn({mapValue:{fields:s.document.fields}}),y=$t.newFoundDocument(o,l,h,p),v=s.targetIds||[],x=s.removedTargetIds||[];t=new Cu(v,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=td(r,s.document),l=s.readTime?ir(s.readTime):Ee.min(),h=$t.newNoDocument(o,l),p=s.removedTargetIds||[];t=new Cu([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=td(r,s.document),l=s.removedTargetIds||[];t=new Cu([],l,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new rI(o,l),p=s.targetId;t=new o_(p,h)}}return t}function mI(r,e){let t;if(e instanceof ic)t={update:qg(r,e.key,e.value)};else if(e instanceof i_)t={delete:Id(r,e.key)};else if(e instanceof rs)t={update:qg(r,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof eI))return xe(16599,{Vt:e.type});t={verify:Id(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const p=h.transform;if(p instanceof Fu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof La)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ma)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uu)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:dI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(r,e.precondition)),t}function gI(r,e){return r&&r.length>0?(Be(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?ir(o.updateTime):ir(l);return h.isEqual(Ee.min())&&(h=ir(l)),new XT(h,o.transformResults||[])})(t,e)))):[]}function yI(r,e){return{documents:[c_(r,e.path)]}}function vI(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=c_(r,o);const l=(function(v){if(v.length!==0)return f_(Wn.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((x=>(function(S){return{field:Zs(S.field),direction:wI(S.dir)}})(x)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Sd(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function _I(r){let e=fI(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=(function(E){const S=d_(E);return S instanceof Wn&&Uv(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((S=>(function(F){return new Mu(eo(F.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,Ju(S)?null:S})(t.limit));let y=null;t.startAt&&(y=(function(E){const S=!!E.before,k=E.values||[];return new Lu(k,S)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const S=!E.before,k=E.values||[];return new Lu(k,S)})(t.endAt)),MT(e,o,h,l,p,"F",y,v)}function xI(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d_(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=eo(t.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=eo(t.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=eo(t.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return mt.create(eo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Wn.create(t.compositeFilter.filters.map((s=>d_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(r):xe(30097,{filter:r})}function wI(r){return lI[r]}function EI(r){return uI[r]}function SI(r){return cI[r]}function Zs(r){return{fieldPath:r.canonicalString()}}function eo(r){return Vt.fromServerFormat(r.fieldPath)}function f_(r){return r instanceof mt?(function(t){if(t.op==="=="){if(bg(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NAN"}};if(Ng(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bg(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NOT_NAN"}};if(Ng(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(t.field),op:EI(t.op),value:t.value}}})(r):r instanceof Wn?(function(t){const s=t.getFilters().map((o=>f_(o)));return s.length===1?s[0]:{compositeFilter:{op:SI(t.op),filters:s}}})(r):xe(54877,{filter:r})}function TI(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function p_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,s,o,l=Ee.min(),h=Ee.min(),p=Ot.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.yt=e}}function CI(r){const e=_I({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.Cn=new RI}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(fi.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class RI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(Ze.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(m_,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LruGarbageCollector",kI=1048576;function Kg([r,e],[t,s]){const o=Re(r,t);return o===0?Re(e,s):o}class PI{constructor(e){this.Ir=e,this.buffer=new Et(Kg),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Kg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(Gg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_o(t)?le(Gg,"Ignoring IndexedDB error during garbage collection: ",t):await vo(t)}await this.Vr(3e5)}))}}class bI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Xu.ce);const s=new PI(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hg):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,h,p,y,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Xs()<=De.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${l} targets in `+(y-p)+`ms
	Removed ${E} documents in `+(v-y)+`ms
Total Duration: ${v-x}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function jI(r,e){return new bI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new ns((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Aa(s.mutation,o,zn.empty(),Ye.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=Xi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=wa();return l.forEach(((p,y)=>{h=h.insert(p,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Xi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,s,o){let l=jr();const h=Ca(),p=(function(){return Ca()})();return t.forEach(((y,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof rs)?l=l.insert(v.key,v):x!==void 0?(h.set(v.key,x.mutation.getFieldMask()),Aa(x.mutation,v,x.mutation.getFieldMask(),Ye.now())):h.set(v.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((v,x)=>h.set(v,x))),t.forEach(((v,x)=>p.set(v,new VI(x,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Ca();let o=new it(((h,p)=>h-p)),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let x=s.get(y)||zn.empty();x=p.applyToLocalView(v,x),s.set(y,x);const E=(o.get(p.batchId)||ke()).add(y);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,x=y.value,E=Yv();x.forEach((S=>{if(!l.has(S)){const k=n_(t.get(S),s.get(S));k!==null&&E.set(S,k),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,E))}return X.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):X.resolve(Xi());let p=ja,y=l;return h.next((v=>X.forEach(v,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),l.get(x)?X.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{y=y.insert(x,S)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,y,v,ke()))).next((x=>({batchId:p,changes:Qv(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((s=>{let o=wa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=wa();return this.indexManager.getCollectionParents(e,l).next((p=>X.forEach(p,(y=>{const v=(function(E,S){return new $a(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((y,v)=>{const x=v.getKey();h.get(x)===null&&(h=h.insert(x,$t.newInvalidDocument(x)))}));let p=wa();return h.forEach(((y,v)=>{const x=l.get(y);x!==void 0&&Aa(x.mutation,v,zn.empty(),Ye.now()),tc(t,v)&&(p=p.insert(y,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:CI(o.bundledQuery),readTime:ir(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.overlays=new it(_e.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xi();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=Xi(),l=t.length+1,h=new _e(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>s&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new it(((v,x)=>v-x));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let x=l.get(v.largestBatchId);x===null&&(x=Xi(),l=l.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=Xi(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return X.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new nI(t,s));let l=this.qr.get(t);l===void 0&&(l=ke(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.Qr=new Et(kt.$r),this.Ur=new Et(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new _e(new Ze([])),s=new kt(t,e),o=new kt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new Ze([])),s=new kt(t,e),o=new kt(t,e+1);let l=ke();return this.Ur.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new kt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Re(e.Yr,t.Yr)}static Kr(e,t){return Re(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Et(kt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new tI(l,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new kt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);l.push(p)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(Re);return t.forEach((o=>{const l=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const h=new kt(new _e(l),0);let p=new Et(Re);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(y.Yr)),!0)}),h),X.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(t.mutations,(o=>{const l=new kt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new kt(t,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.ri=e,this.docs=(function(){return new it(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=jr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=jr();const h=t.path,p=new _e(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:x}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||gT(mT(x),s)<=0||(o.has(x.key)||tc(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,s,o){xe(9500)}ii(e,t){return X.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new zI(this)}getSize(e){return X.resolve(this.size)}}class zI extends DI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.persistence=e,this.si=new ns((t=>Kd(t)),Qd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new ef,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xu(0),this.li=!1,this.li=!0,this.hi=new FI,this.referenceDelegate=e(this),this.Pi=new $I(this),this.indexManager=new AI,this.remoteDocumentCache=(function(o){return new BI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new II(t),this.Ii=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new UI(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new WI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class WI extends vT{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Ri=new ef,this.Vi=null}static mi(e){return new tf(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zu{constructor(e,t){this.persistence=e,this.pi=new ns((s=>wT(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jI(this,t)}static mi(e,t){return new zu(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?X.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(s++,l.removeEntry(h,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Su(e.data.value)),t}br(e,t,s){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new nf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QE()?8:_T(GE())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new qI;return this.Ss(e,t,h).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Xs()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Xs()<=De.DEBUG&&le("QueryEngine","Query:",Js(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xs()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):X.resolve())}ys(e,t){if(Og(t))return X.resolve(null);let s=rr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ed(t,null,"F"),s=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=ke(...l);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(t,p);return this.Cs(t,v,h,y.readTime)?this.ys(e,Ed(t,null,"F")):this.vs(e,v,t,y)}))))})))))}ws(e,t,s,o){return Og(t)||o.isEqual(Ee.min())?X.resolve(null):this.ps.getDocuments(e,s).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,o)?X.resolve(null):(Xs()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Js(t)),this.vs(e,h,t,pT(o,ja)).next((p=>p)))}))}Ds(e,t){let s=new Et(Gv(e));return t.forEach(((o,l)=>{tc(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Xs()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Js(t)),this.ps.getDocumentsMatchingQuery(e,t,fi.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="LocalStore",GI=3e8;class KI{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(Re),this.xs=new ns((l=>Kd(l)),Qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function QI(r,e,t,s){return new KI(r,e,t,s)}async function y_(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],p=[];let y=ke();for(const v of o){h.push(v.batchId);for(const x of v.mutations)y=y.add(x.key)}for(const v of l){p.push(v.batchId);for(const x of v.mutations)y=y.add(x.key)}return t.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function YI(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,x){const E=v.batch,S=E.keys();let k=X.resolve();return S.forEach((F=>{k=k.next((()=>x.getEntry(y,F))).next(($=>{const O=v.docVersions.get(F);Be(O!==null,48541),$.version.compareTo(O)<0&&(E.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),x.addEntry($)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(y,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=ke();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function v_(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function XI(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const S=o.get(E);if(!S)return;p.push(t.Pi.removeMatchingKeys(l,x.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,x.addedDocuments,E))));let k=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(Ot.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,s)),o=o.insert(E,k),(function($,O,K){return $.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=GI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,k,x)&&p.push(t.Pi.updateTargetData(l,k))}));let y=jr(),v=ke();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))})),p.push(JI(l,h,e.documentUpdates).next((x=>{y=x.ks,v=x.qs}))),!s.isEqual(Ee.min())){const x=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(x)}return X.waitFor(p).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,v))).next((()=>y))})).then((l=>(t.Ms=o,l)))}function JI(r,e,t){let s=ke(),o=ke();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=jr();return t.forEach(((p,y)=>{const v=l.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(p,y.readTime),h=h.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(p,y)):le(rf,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function ZI(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,X.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new oi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Ad(r,e,t){const s=Se(r),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!_o(h))throw h;le(rf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Qg(r,e,t){const s=Se(r);let o=Ee.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,x){const E=Se(y),S=E.xs.get(x);return S!==void 0?X.resolve(E.Ms.get(S)):E.Pi.getTargetData(v,x)})(s,h,rr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((y=>{l=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:ke()))).next((p=>(tC(s,UT(e),p),{documents:p,Qs:l})))))}function tC(r,e,t){let s=r.Os.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class Yg{constructor(){this.activeTargetIds=HT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nC{constructor(){this.Mo=new Yg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="ConnectivityMonitor";class Jg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Xg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Xg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function Rd(){return yu===null?yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RestConnection",iC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Vu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const h=Rd(),p=this.zo(e,t.toUriEncodedString());le(nd,`Sending RPC '${e}' ${h}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,l);const{host:v}=new URL(p),x=Qu(v);return this.Jo(e,p,y,s,x).then((E=>(le(nd,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw lo(nd,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,t,s,o,l,h){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=iC[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class aC extends sC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=Rd();return new Promise(((p,y)=>{const v=new _v;v.setWithCredentials(!0),v.listenOnce(xv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Eu.NO_ERROR:const E=v.getResponseJson();le(Bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Eu.TIMEOUT:le(Bt,`RPC '${e}' ${h} timed out`),y(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const S=v.getStatus();if(le(Bt,`RPC '${e}' ${h} failed with status:`,S,"response text:",v.getResponseText()),S>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const $=(function(K){const U=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(U)>=0?U:J.UNKNOWN})(F.status);y(new he($,F.message))}else y(new he(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new he(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{le(Bt,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);le(Bt,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",x,s,15)}))}T_(e,t,s){const o=Rd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sv(),p=Ev(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const x=l.join("");le(Bt,`Creating RPC '${e}' stream ${o}: ${x}`,y);const E=h.createWebChannel(x,y);this.I_(E);let S=!1,k=!1;const F=new oC({Yo:O=>{k?le(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(S||(le(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),le(Bt,`RPC '${e}' stream ${o} sending:`,O),E.send(O))},Zo:()=>E.close()}),$=(O,K,U)=>{O.listen(K,(G=>{try{U(G)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return $(E,xa.EventType.OPEN,(()=>{k||(le(Bt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),$(E,xa.EventType.CLOSE,(()=>{k||(k=!0,le(Bt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(E))})),$(E,xa.EventType.ERROR,(O=>{k||(k=!0,lo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),F.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),$(E,xa.EventType.MESSAGE,(O=>{if(!k){const K=O.data[0];Be(!!K,16349);const U=K,G=U?.error||U[0]?.error;if(G){le(Bt,`RPC '${e}' stream ${o} received error:`,G);const Q=G.status;let ae=(function(I){const C=ft[I];if(C!==void 0)return s_(C)})(Q),ce=G.message;ae===void 0&&(ae=J.INTERNAL,ce="Unknown error status: "+Q+" with message "+G.message),k=!0,F.a_(new he(ae,ce)),E.close()}else le(Bt,`RPC '${e}' stream ${o} received:`,K),F.u_(K)}})),$(p,wv.STAT_EVENT,(O=>{O.stat===md.PROXY?le(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===md.NOPROXY&&le(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){return new hI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="PersistentStream";class x_{constructor(e,t,s,o,l,h,p,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new __(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Zg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(Zg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lC extends x_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=pI(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?ir(h.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Cd(this.serializer),t.addTarget=(function(l,h){let p;const y=h.target;if(p=xd(y)?{documents:yI(l,y)}:{query:vI(l,y).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=l_(l,h.resumeToken);const v=Sd(l,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=Bu(l,h.snapshotVersion.toTimestamp());const v=Sd(l,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=xI(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Cd(this.serializer),t.removeTarget=e,this.q_(t)}}class uC extends x_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=gI(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Cd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>mI(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{}class hC extends cC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Td(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(J.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Td(t,s),o,h,p,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="RemoteStore";class fC{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{is(this)&&(le(Zi,"Restarting streams for network reachability change."),await(async function(y){const v=Se(y);v.Ea.add(4),await qa(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ac(v)})(this))}))})),this.Ra=new dC(s,o)}}async function ac(r){if(is(r))for(const e of r.da)await e(!0)}async function qa(r){for(const e of r.da)await e(!1)}function w_(r,e){const t=Se(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lf(t)?af(t):xo(t).O_()&&of(t,e))}function sf(r,e){const t=Se(r),s=xo(t);t.Ia.delete(e),s.O_()&&E_(t,e),t.Ia.size===0&&(s.O_()?s.L_():is(t)&&t.Ra.set("Unknown"))}function of(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(r).Y_(e)}function E_(r,e){r.Va.Ue(e),xo(r).Z_(e)}function af(r){r.Va=new aI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Ra.ua()}function lf(r){return is(r)&&!xo(r).x_()&&r.Ia.size>0}function is(r){return Se(r).Ea.size===0}function S_(r){r.Va=void 0}async function pC(r){r.Ra.set("Online")}async function mC(r){r.Ia.forEach(((e,t)=>{of(r,e)}))}async function gC(r,e){S_(r),lf(r)?(r.Ra.ha(e),af(r)):r.Ra.set("Unknown")}async function yC(r,e,t){if(r.Ra.set("Online"),e instanceof a_&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){le(Zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $u(r,s)}else if(e instanceof Cu?r.Va.Ze(e):e instanceof o_?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await v_(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const p=l.Va.Tt(h);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const x=l.Ia.get(v);x&&l.Ia.set(v,x.withResumeToken(y.resumeToken,h))}})),p.targetMismatches.forEach(((y,v)=>{const x=l.Ia.get(y);if(!x)return;l.Ia.set(y,x.withResumeToken(Ot.EMPTY_BYTE_STRING,x.snapshotVersion)),E_(l,y);const E=new oi(x.target,y,v,x.sequenceNumber);of(l,E)})),l.remoteSyncer.applyRemoteEvent(p)})(r,t)}catch(s){le(Zi,"Failed to raise snapshot:",s),await $u(r,s)}}async function $u(r,e,t){if(!_o(e))throw e;r.Ea.add(1),await qa(r),r.Ra.set("Offline"),t||(t=()=>v_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Zi,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await ac(r)}))}function T_(r,e){return e().catch((t=>$u(r,t,e)))}async function lc(r){const e=Se(r),t=yi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qd;for(;vC(e);)try{const o=await ZI(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,_C(e,o)}catch(o){await $u(e,o)}I_(e)&&C_(e)}function vC(r){return is(r)&&r.Ta.length<10}function _C(r,e){r.Ta.push(e);const t=yi(r);t.O_()&&t.X_&&t.ea(e.mutations)}function I_(r){return is(r)&&!yi(r).x_()&&r.Ta.length>0}function C_(r){yi(r).start()}async function xC(r){yi(r).ra()}async function wC(r){const e=yi(r);for(const t of r.Ta)e.ea(t.mutations)}async function EC(r,e,t){const s=r.Ta.shift(),o=Xd.from(s,e,t);await T_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lc(r)}async function SC(r,e){e&&yi(r).X_&&await(async function(s,o){if((function(h){return iI(h)&&h!==J.ABORTED})(o.code)){const l=s.Ta.shift();yi(s).B_(),await T_(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await lc(s)}})(r,e),I_(r)&&C_(r)}async function ey(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),le(Zi,"RemoteStore received new credentials");const s=is(t);t.Ea.add(3),await qa(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ac(t)}async function TC(r,e){const t=Se(r);e?(t.Ea.delete(2),await ac(t)):e||(t.Ea.add(2),await qa(t),t.Ra.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(t,s,o){const l=Se(t);return l.sa(),new lC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pC.bind(null,r),t_:mC.bind(null,r),r_:gC.bind(null,r),H_:yC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),lf(r)?af(r):r.Ra.set("Unknown")):(await r.ma.stop(),S_(r))}))),r.ma}function yi(r){return r.fa||(r.fa=(function(t,s,o){const l=Se(t);return l.sa(),new uC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xC.bind(null,r),r_:SC.bind(null,r),ta:wC.bind(null,r),na:EC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await lc(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Zi,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,p=new uf(e,t,h,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cf(r,e){if(br("AsyncQueue",`${e}: ${r}`),_o(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=wa(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.ga=new it(_e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class po{constructor(e,t,s,o,l,h,p,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new po(e,t,to.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CC{constructor(){this.queries=ny(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=ny(),l.forEach(((h,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function ny(){return new ns((r=>Hv(r)),ec)}async function AC(r,e){const t=Se(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new IC,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=cf(h,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&hf(t)}async function RC(r,e){const t=Se(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function kC(r,e){const t=Se(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&hf(t)}function PC(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function hf(r){r.Ca.forEach((e=>{e.next()}))}var kd,ry;(ry=kd||(kd={})).Ma="default",ry.Cache="cache";class NC{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.key=e}}class R_{constructor(e){this.key=e}}class bC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Gv(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new ty,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const S=o.get(x),k=tc(this.query,E)?E:null,F=!!S&&this.mutatedKeys.has(S.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let O=!1;S&&k?S.data.isEqual(k.data)?F!==$&&(s.track({type:3,doc:k}),O=!0):this.su(S,k)||(s.track({type:2,doc:k}),O=!0,(y&&this.eu(k,y)>0||v&&this.eu(k,v)<0)&&(p=!0)):!S&&k?(s.track({type:0,doc:k}),O=!0):S&&!k&&(s.track({type:1,doc:S}),O=!0,(y||v)&&(p=!0)),O&&(k?(h=h.add(k),l=$?l.add(x):l.delete(x)):(h=h.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(k,F){const $=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:O})}};return $(k)-$(F)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new po(this.query,e.tu,l,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ty,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new R_(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new A_(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const df="SyncEngine";class jC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class DC{constructor(e){this.key=e,this.hu=!1}}class VC{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ns((p=>Hv(p)),ec),this.Iu=new Map,this.Eu=new Set,this.du=new it(_e.comparator),this.Au=new Map,this.Ru=new ef,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OC(r,e,t=!0){const s=D_(r);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await k_(s,e,t,!0),o}async function LC(r,e){const t=D_(r);await k_(t,e,!0,!1)}async function k_(r,e,t,s){const o=await eC(r.localStore,rr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await MC(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&w_(r.remoteStore,o),p}async function MC(r,e,t,s,o){r.pu=(E,S,k)=>(async function($,O,K,U){let G=O.view.ru(K);G.Cs&&(G=await Qg($.localStore,O.query,!1).then((({documents:b})=>O.view.ru(b,G))));const Q=U&&U.targetChanges.get(O.targetId),ae=U&&U.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(G,$.isPrimaryClient,Q,ae);return sy($,O.targetId,ce.au),ce.snapshot})(r,E,S,k);const l=await Qg(r.localStore,e,!0),h=new bC(e,l.Qs),p=h.ru(l.documents),y=Wa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(p,r.isPrimaryClient,y);sy(r,t,v.au);const x=new jC(e,t,h);return r.Tu.set(e,x),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function FC(r,e,t){const s=Se(r),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((h=>!ec(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&sf(s.remoteStore,o.targetId),Pd(s,o.targetId)})).catch(vo)):(Pd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function UC(r,e){const t=Se(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sf(t.remoteStore,s.targetId))}async function BC(r,e,t){const s=KC(r);try{const o=await(function(h,p){const y=Se(h),v=Ye.now(),x=p.reduce(((k,F)=>k.add(F.key)),ke());let E,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=jr(),$=ke();return y.Ns.getEntries(k,x).next((O=>{F=O,F.forEach(((K,U)=>{U.isValidDocument()||($=$.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,F))).next((O=>{E=O;const K=[];for(const U of p){const G=ZT(U,E.get(U.key).overlayedDocument);G!=null&&K.push(new rs(U.key,G,Lv(G.value.mapValue),kr.exists(!0)))}return y.mutationQueue.addMutationBatch(k,v,K,p)})).next((O=>{S=O;const K=O.applyToLocalDocumentSet(E,$);return y.documentOverlayCache.saveOverlays(k,O.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:Qv(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new it(Re)),v=v.insert(p,y),h.Vu[h.currentUser.toKey()]=v})(s,o.batchId,t),await Ha(s,o.changes),await lc(s.remoteStore)}catch(o){const l=cf(o,"Failed to persist write");t.reject(l)}}async function P_(r,e){const t=Se(r);try{const s=await XI(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Be(h.hu,14607):o.removedDocuments.size>0&&(Be(h.hu,42227),h.hu=!1))})),await Ha(t,s,e)}catch(s){await vo(s)}}function iy(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const y=Se(h);y.onlineState=p;let v=!1;y.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(p)&&(v=!0)})),v&&hf(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zC(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let h=new it(_e.comparator);h=h.insert(l,$t.newNoDocument(l,Ee.min()));const p=ke().add(l),y=new sc(Ee.min(),new Map,new it(Re),h,p);await P_(s,y),s.du=s.du.remove(l),s.Au.delete(e),ff(s)}else await Ad(s.localStore,e,!1).then((()=>Pd(s,e,t))).catch(vo)}async function $C(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await YI(t.localStore,e);b_(t,s,null),N_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ha(t,o)}catch(o){await vo(o)}}async function WC(r,e,t){const s=Se(r);try{const o=await(function(h,p){const y=Se(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return y.mutationQueue.lookupMutationBatch(v,p).next((E=>(Be(E!==null,37113),x=E.keys(),y.mutationQueue.removeMutationBatch(v,E)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>y.localDocuments.getDocuments(v,x)))}))})(s.localStore,e);b_(s,e,t),N_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ha(s,o)}catch(o){await vo(o)}}function N_(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function b_(r,e,t){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Pd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||j_(r,s)}))}function j_(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(sf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),ff(r))}function sy(r,e,t){for(const s of t)s instanceof A_?(r.Ru.addReference(s.key,e),qC(r,s)):s instanceof R_?(le(df,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||j_(r,s.key)):xe(19791,{wu:s})}function qC(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(le(df,"New document in limbo: "+t),r.Eu.add(s),ff(r))}function ff(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(Ze.fromString(e)),s=r.fu.next();r.Au.set(s,new DC(t)),r.du=r.du.insert(t,s),w_(r.remoteStore,new oi(rr(Wv(t.path)),s,"TargetPurposeLimboResolution",Xu.ce))}}async function Ha(r,e,t){const s=Se(r),o=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{h.push(s.pu(y,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const x=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(v){o.push(v);const x=nf.As(y.targetId,v);l.push(x)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(y,v){const x=Se(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>X.forEach(v,(S=>X.forEach(S.Es,(k=>x.persistence.referenceDelegate.addReference(E,S.targetId,k))).next((()=>X.forEach(S.ds,(k=>x.persistence.referenceDelegate.removeReference(E,S.targetId,k)))))))))}catch(E){if(!_o(E))throw E;le(rf,"Failed to update sequence numbers: "+E)}for(const E of v){const S=E.targetId;if(!E.fromCache){const k=x.Ms.get(S),F=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(F);x.Ms=x.Ms.insert(S,$)}}})(s.localStore,l))}async function HC(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){le(df,"User change. New user:",e.toKey());const s=await y_(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((p=>{p.forEach((y=>{y.reject(new he(J.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ha(t,s.Ls)}}function GC(r,e){const t=Se(r),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function D_(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=P_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zC.bind(null,e),e.Pu.H_=kC.bind(null,e.eventManager),e.Pu.yu=PC.bind(null,e.eventManager),e}function KC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,e),e}class Wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return QI(this.persistence,new HI,e.initialUser,this.serializer)}Cu(e){return new g_(tf.mi,this.serializer)}Du(e){return new nC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wu.provider={build:()=>new Wu};class QC extends Wu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof zu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NI(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new g_((s=>zu.mi(s,t)),this.serializer)}}class Nd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HC.bind(null,this.syncEngine),await TC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CC})()}createDatastore(e){const t=oc(e.databaseInfo.databaseId),s=(function(l){return new aC(l)})(e.databaseInfo);return(function(l,h,p,y){return new hC(l,h,p,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,p){return new fC(s,o,l,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>iy(this.syncEngine,t,0)),(function(){return Jg.v()?new Jg:new rC})())}createSyncEngine(e,t){return(function(o,l,h,p,y,v,x){const E=new VC(o,l,h,p,y,v);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Se(t);le(Zi,"RemoteStore shutting down."),s.Ea.add(5),await qa(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class XC{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{le(vi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(vi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function id(r,e){r.asyncQueue.verifyOperationInProgress(),le(vi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await y_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function oy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await JC(r);le(vi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>ey(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ey(e.remoteStore,o))),r._onlineComponents=e}async function JC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(vi,"Using user provided OfflineComponentProvider");try{await id(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),await id(r,new Wu)}}else le(vi,"Using default OfflineComponentProvider"),await id(r,new QC(void 0));return r._offlineComponents}async function V_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(vi,"Using user provided OnlineComponentProvider"),await oy(r,r._uninitializedComponentsProvider._online)):(le(vi,"Using default OnlineComponentProvider"),await oy(r,new Nd))),r._onlineComponents}function ZC(r){return V_(r).then((e=>e.syncEngine))}async function eA(r){const e=await V_(r),t=e.eventManager;return t.onListen=OC.bind(null,e.syncEngine),t.onUnlisten=FC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UC.bind(null,e.syncEngine),t}function tA(r,e,t={}){const s=new di;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,p,y,v){const x=new YC({next:S=>{x.Nu(),h.enqueueAndForget((()=>RC(l,E))),S.fromCache&&y.source==="server"?v.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),E=new NC(p,x,{includeMetadataChanges:!0,qa:!0});return AC(l,E)})(await eA(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="firestore.googleapis.com",ly=!0;class uy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L_,this.ssl=ly}else this.host=e.host,this.ssl=e.ssl??ly;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kI)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rT;switch(s.type){case"firstParty":return new aT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=ay.get(t);s&&(le("ComponentProvider","Removing Datastore"),ay.delete(t),s.terminate())})(this),Promise.resolve()}}function nA(r,e,t,s={}){r=ba(r,pf);const o=Qu(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${t}`;o&&(Zy(`https://${p}`),ev("Firestore",!0)),l.host!==L_&&l.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:p,ssl:o,emulatorOptions:s};if(!Pu(y,h)&&(r._setSettings(y),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=zt.MOCK_USER;else{v=WE(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new zt(E)}r._authCredentials=new iT(new Iv(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Wt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(za(t,Wt._jsonSchema))return new Wt(e,s||null,new _e(Ze.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:gt("string",Wt._jsonSchemaVersion),referencePath:gt("string")};class no extends wo{constructor(e,t,s){super(e,t,Wv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new _e(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function cy(r,e,...t){if(r=$n(r),r instanceof pf){const s=Ze.fromString(e,...t);return Eg(s),new no(r,null,s)}{if(!(r instanceof Wt||r instanceof no))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...t));return Eg(s),new no(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="AsyncQueue";class dy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new __(this,"async_queue_retry"),this._c=()=>{const s=rd();s&&le(hy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=rd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;le(hy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",fy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=uf.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:fy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class mf extends pf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new dy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dy(e),this._firestoreClient=void 0,await e}}}function rA(r,e){const t=typeof r=="object"?r:Bd(),s=typeof r=="string"?r:Vu,o=sv(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Xy("firestore");l&&nA(o,...l)}return o}function M_(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iA(r),r._firestoreClient}function iA(r){const e=r._freezeSettings(),t=(function(o,l,h,p){return new TT(o,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new XC(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Ot.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(za(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:gt("string",Cn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sr._jsonSchemaVersion}}static fromJSON(e){if(za(e,sr._jsonSchema))return new sr(e.latitude,e.longitude)}}sr._jsonSchemaVersion="firestore/geoPoint/1.0",sr._jsonSchema={type:gt("string",sr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(za(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new or(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:gt("string",or._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=/^__.*__$/;class F_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class yf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U_(this.Ac)&&sA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||oc(e)}Cc(e,t,s,o=!1){return new yf({Ac:e,methodName:t,Dc:s,path:Vt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(r){const e=r._freezeSettings(),t=oc(r._databaseId);return new oA(r._databaseId,!!e.ignoreUndefinedProperties,t)}class cc extends gf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cc}}function aA(r,e,t,s){const o=r.Cc(1,e,t);$_("Data must be an object, but it was:",o,s);const l=[],h=mn.empty();_i(s,((y,v)=>{const x=vf(e,y,t);v=$n(v);const E=o.yc(x);if(v instanceof cc)l.push(x);else{const S=Ga(v,E);S!=null&&(l.push(x),h.set(x,S))}}));const p=new zn(l);return new F_(h,p,o.fieldTransforms)}function lA(r,e,t,s,o,l){const h=r.Cc(1,e,t),p=[py(e,s,t)],y=[o];if(l.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)p.push(py(e,l[S])),y.push(l[S+1]);const v=[],x=mn.empty();for(let S=p.length-1;S>=0;--S)if(!dA(v,p[S])){const k=p[S];let F=y[S];F=$n(F);const $=h.yc(k);if(F instanceof cc)v.push(k);else{const O=Ga(F,$);O!=null&&(v.push(k),x.set(k,O))}}const E=new zn(v);return new F_(x,E,h.fieldTransforms)}function uA(r,e,t,s=!1){return Ga(t,r.Cc(s?4:3,e))}function Ga(r,e){if(z_(r=$n(r)))return $_("Unsupported field value:",e,r),cA(r,e);if(r instanceof gf)return(function(s,o){if(!U_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const p of s){let y=Ga(p,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=$n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ye.fromDate(s);return{timestampValue:Bu(o.serializer,l)}}if(s instanceof Ye){const l=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bu(o.serializer,l)}}if(s instanceof sr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:l_(o.serializer,s._byteString)};if(s instanceof Wt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof or)return(function(h,p){return{mapValue:{fields:{[Vv]:{stringValue:Ov},[Ou]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Yd(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yu(s)}`)})(r,e)}function cA(r,e){const t={};return kv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(r,((s,o)=>{const l=Ga(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function z_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ye||r instanceof sr||r instanceof Cn||r instanceof Wt||r instanceof gf||r instanceof or)}function $_(r,e,t){if(!z_(t)||!Av(t)){const s=Yu(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function py(r,e,t){if((e=$n(e))instanceof uc)return e._internalPath;if(typeof e=="string")return vf(r,e);throw qu("Field path arguments must be of type string or ",r,!1,void 0,t)}const hA=new RegExp("[~\\*/\\[\\]]");function vf(r,e,t){if(e.search(hA)>=0)throw qu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch{throw qu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qu(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new he(J.INVALID_ARGUMENT,p+r+y)}function dA(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fA extends W_{data(){return super.data()}}function _f(r,e){return typeof e=="string"?vf(r,e):e instanceof uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xf{}class mA extends xf{}function my(r,e,...t){let s=[];e instanceof xf&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((y=>y instanceof wf)).length,p=l.filter((y=>y instanceof hc)).length;if(h>1||h>0&&p>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hc extends mA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new hc(e,t,s)}_apply(e){const t=this._parse(e);return q_(e._query,t),new wo(e.firestore,e.converter,wd(e._query,t))}_parse(e){const t=B_(e.firestore);return(function(l,h,p,y,v,x,E){let S;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){vy(E,x);const F=[];for(const $ of E)F.push(yy(y,l,$));S={arrayValue:{values:F}}}else S=yy(y,l,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||vy(E,x),S=uA(p,h,E,x==="in"||x==="not-in");return mt.create(v,x,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function gy(r,e,t){const s=e,o=_f("where",r);return hc._create(o,s,t)}class wf extends xf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const p=l.getFlattenedFilters();for(const y of p)q_(h,y),h=wd(h,y)})(e._query,t),new wo(e.firestore,e.converter,wd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yy(r,e,t){if(typeof(t=$n(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qv(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ze.fromString(t));if(!_e.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Pg(r,new _e(s))}if(t instanceof Wt)return Pg(r,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yu(t)}.`)}function vy(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q_(r,e){const t=(function(o,l){for(const h of o)for(const p of h.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gA{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _i(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Ou].arrayValue?.values?.map((s=>lt(s.doubleValue)));return new or(t)}convertGeoPoint(e){return new sr(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const t=pi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Be(p_(s),9688,{name:e});const o=new Va(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends W_{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(_f("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ro._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:gt("string",ro._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Au extends ro{data(e={}){return super.data(e)}}class io{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Au(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const y=new Au(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const y=new Au(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:yA(p.type),doc:y,oldIndex:v,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:gt("string",io._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class vA extends gA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function _y(r){r=ba(r,wo);const e=ba(r.firestore,mf),t=M_(e),s=new vA(e);return pA(r._query),tA(t,r._query).then((o=>new io(e,s,r,o)))}function _A(r,e,t,...s){r=ba(r,Wt);const o=ba(r.firestore,mf),l=B_(o);let h;return h=typeof(e=$n(e))=="string"||e instanceof uc?lA(l,"updateDoc",r._key,e,t,s):aA(l,"updateDoc",r._key,e),xA(o,[h.toMutation(r._key,kr.exists(!0))])}function xA(r,e){return(function(s,o){const l=new di;return s.asyncQueue.enqueueAndForget((async()=>BC(await ZC(s),o,l))),l.promise})(M_(r),e)}(function(e,t=!0){(function(o){yo=o})(Z1),ka(new oo("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),p=new mf(new sT(s.getProvider("auth-internal")),new lT(h,s.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(v.options.projectId,x)})(h,o),h);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),ui(vg,_g,e),ui(vg,_g,"esm2020")})();const wA={apiKey:"AIzaSyBxJvMPm5ZKXJMG5JrWtGgAnJ7P6gqKgME",authDomain:"snapforge-ab371.firebaseapp.com",projectId:"snapforge-ab371",storageBucket:"snapforge-ab371.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456"},EA=av(wA),xy=rA(EA),SA={async validateLicense(r){try{const e=cy(xy,"licenses"),t=my(e,gy("key","==",r)),s=await _y(t);if(s.empty)return{valid:!1,error:"License key not found"};const o=s.docs[0],l=o.data();return l.activated?{valid:!1,error:"License key already activated"}:(await _A(o.ref,{activated:!0,activatedAt:new Date,activatedBy:"user"}),{valid:!0,license:l,message:"License activated successfully!"})}catch(e){return console.error("License validation error:",e),{valid:!1,error:"Failed to validate license"}}},async checkLicenseStatus(r){try{const e=cy(xy,"licenses"),t=my(e,gy("key","==",r)),s=await _y(t);if(s.empty)return{exists:!1};const o=s.docs[0].data();return{exists:!0,activated:o.activated,data:o}}catch(e){return console.error("License status check error:",e),{exists:!1,error:"Failed to check license status"}}}},TA={getUsageKey(r){return`snapforge_usage_${r}`},hasUsedTrial(r){const e=this.getUsageKey(r);return localStorage.getItem(e)==="used"},markTrialUsed(r){const e=this.getUsageKey(r);localStorage.setItem(e,"used")},resetTrial(r){const e=this.getUsageKey(r);localStorage.removeItem(e)},resetAllTrials(){Object.keys(localStorage).forEach(r=>{r.startsWith("snapforge_usage_")&&localStorage.removeItem(r)})}};function IA(){const[r,e]=j.useState(""),[t,s]=j.useState(!1),[o,l]=j.useState(""),[h,p]=j.useState(!1),y=async v=>{if(v.preventDefault(),!r.trim()){l("Please enter your license key");return}s(!0),l("");try{const x=await SA.validateLicense(r.trim());x.success?(TA.activateLicense(x.user),localStorage.setItem("userMode","pro"),localStorage.setItem("proLicenseActive","true"),localStorage.setItem("snapforge_first_run_complete","true"),p(!0),setTimeout(()=>{window.location.href="/app?welcome=true"},3e3)):l(x.message||"Invalid license key. Please check your email and try again.")}catch(x){l("Activation failed. Please check your internet connection and try again."),console.error("License activation error:",x)}finally{s(!1)}};return h?d.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",color:"white"},children:d.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",padding:"40px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"20px",backdropFilter:"blur(20px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.2)"},children:[d.jsx("div",{style:{fontSize:"80px",marginBottom:"20px"},children:""}),d.jsx("h1",{style:{fontSize:"42px",marginBottom:"20px",fontWeight:"bold"},children:"Welcome to SnapForge Pro!"}),d.jsx("p",{style:{fontSize:"20px",marginBottom:"30px",opacity:.9},children:"Your license has been successfully activated!"}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"30px",borderRadius:"15px",marginBottom:"30px"},children:[d.jsx("h3",{style:{marginBottom:"20px",fontSize:"24px"},children:"You now have access to:"}),d.jsxs("div",{style:{display:"grid",gap:"10px",textAlign:"left"},children:[d.jsx("p",{children:" Unlimited AI background removal"}),d.jsx("p",{children:" Unlimited social media resizing"}),d.jsx("p",{children:" Unlimited GIF creation"}),d.jsx("p",{children:" All premium color filters"}),d.jsx("p",{children:" Priority customer support"}),d.jsx("p",{children:" Lifetime updates"})]})]}),d.jsx("p",{style:{fontSize:"16px",opacity:.8},children:"Redirecting you to SnapForge Pro in 3 seconds..."})]})}):d.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",color:"white",padding:"20px"},children:d.jsxs("div",{style:{maxWidth:"500px",width:"100%",background:"rgba(255, 255, 255, 0.1)",borderRadius:"20px",backdropFilter:"blur(20px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.2)",padding:"40px"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[d.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),d.jsx("h1",{style:{fontSize:"36px",marginBottom:"15px",fontWeight:"bold"},children:"Thank You for Your Purchase!"}),d.jsx("p",{style:{fontSize:"18px",opacity:.9,lineHeight:"1.6"},children:"Welcome to SnapForge Pro! Please enter your license key from your purchase email to activate your premium features."})]}),d.jsxs("form",{onSubmit:y,style:{marginBottom:"30px"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"16px",fontWeight:"bold"},children:"License Key"}),d.jsx("input",{type:"text",value:r,onChange:v=>e(v.target.value),placeholder:"Enter your license key here...",disabled:t,style:{width:"100%",padding:"15px",borderRadius:"10px",border:"none",fontSize:"16px",background:"rgba(255, 255, 255, 0.9)",color:"#333",boxSizing:"border-box"}})]}),o&&d.jsx("div",{style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"8px",padding:"12px",marginBottom:"20px",fontSize:"14px"},children:o}),d.jsx("button",{type:"submit",disabled:t||!r.trim(),style:{width:"100%",padding:"15px",borderRadius:"10px",border:"none",background:t||!r.trim()?"rgba(255, 255, 255, 0.3)":"linear-gradient(45deg, #10b981 0%, #059669 100%)",color:"white",fontSize:"18px",fontWeight:"bold",cursor:t||!r.trim()?"not-allowed":"pointer",transition:"all 0.3s ease",transform:t?"none":"translateY(0)",boxShadow:t?"none":"0 4px 15px rgba(16, 185, 129, 0.3)"},onMouseEnter:v=>{!t&&r.trim()&&(v.target.style.transform="translateY(-2px)",v.target.style.boxShadow="0 8px 25px rgba(16, 185, 129, 0.4)")},onMouseLeave:v=>{!t&&r.trim()&&(v.target.style.transform="translateY(0)",v.target.style.boxShadow="0 4px 15px rgba(16, 185, 129, 0.3)")},children:t?" Activating...":" Activate Pro License"})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"10px",padding:"20px",fontSize:"14px",opacity:.8},children:[d.jsx("h4",{style:{marginBottom:"10px",fontSize:"16px"},children:"Need help?"}),d.jsx("p",{style:{marginBottom:"10px"},children:" Check your email for the license key from your Gumroad purchase"}),d.jsx("p",{style:{marginBottom:"10px"},children:" Make sure to copy the entire license key without extra spaces"}),d.jsx("p",{children:" Contact support if you're having trouble: support@snapforge.com"})]})]})})}ix.createRoot(document.getElementById("root")).render(d.jsx(Le.StrictMode,{children:d.jsx(vw,{children:d.jsxs(Qx,{children:[d.jsx(Ki,{path:"/",element:d.jsx(Yw,{})}),d.jsx(Ki,{path:"/editor",element:d.jsx(Hh,{})}),d.jsx(Ki,{path:"/app/trial",element:d.jsx(Hh,{})}),d.jsx(Ki,{path:"/app/pro",element:d.jsx(Hh,{})}),d.jsx(Ki,{path:"/checkout",element:d.jsx(nT,{})}),d.jsx(Ki,{path:"/activate",element:d.jsx(IA,{})})]})})}));
